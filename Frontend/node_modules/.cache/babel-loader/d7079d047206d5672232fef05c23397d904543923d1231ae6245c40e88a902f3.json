{"ast":null,"code":"var _s = $RefreshSig$();\nimport * as Blockly from 'blockly/core';\nimport { useCallback } from 'react';\nimport { useTooltipContext } from '../context/TooltipContext';\nexport const useTooltip = () => {\n  _s();\n  const {\n    tooltipInfo,\n    setTooltipInfo\n  } = useTooltipContext();\n  const onMouseOverTooltipComponent = useCallback(() => {\n    setTooltipInfo(prev => prev ? {\n      ...prev,\n      tooltipHovered: true\n    } : undefined);\n  }, [setTooltipInfo]);\n  const onMouseLeaveTooltipComponent = useCallback(() => {\n    setTooltipInfo(prev => prev ? {\n      ...prev,\n      tooltipHovered: false\n    } : undefined);\n  }, [setTooltipInfo]);\n  const setupTooltipListeners = useCallback(workspace => {\n    if (!workspace) return;\n    workspace.addChangeListener(event => {\n      if (event.type === Blockly.Events.BLOCK_MOVE) {\n        const moveEvent = event;\n        if (!moveEvent.blockId) return;\n        const block = workspace.getBlockById(moveEvent.blockId);\n        if (!block || !block.data) return;\n        const tooltipContent = createTooltipContent(block);\n        block.setTooltip(() => tooltipContent);\n      }\n    });\n  }, []);\n  return {\n    setupTooltipListeners,\n    onMouseOverTooltipComponent,\n    onMouseLeaveTooltipComponent\n  };\n};\n_s(useTooltip, \"flnWIBz4tz+rrbhbaZvv0phvMfQ=\", false, function () {\n  return [useTooltipContext];\n});","map":{"version":3,"names":["Blockly","useCallback","useTooltipContext","useTooltip","_s","tooltipInfo","setTooltipInfo","onMouseOverTooltipComponent","prev","tooltipHovered","undefined","onMouseLeaveTooltipComponent","setupTooltipListeners","workspace","addChangeListener","event","type","Events","BLOCK_MOVE","moveEvent","blockId","block","getBlockById","data","tooltipContent","createTooltipContent","setTooltip"],"sources":["/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/src/hooks/useTooltip.ts"],"sourcesContent":["import * as Blockly from 'blockly/core';\nimport { useCallback } from 'react';\nimport { useTooltipContext } from '../context/TooltipContext';\n\nexport const useTooltip = () => {\n  const { tooltipInfo, setTooltipInfo } = useTooltipContext();\n\n  const onMouseOverTooltipComponent = useCallback(() => {\n    setTooltipInfo((prev: TooltipInfo | undefined) => \n      prev ? { ...prev, tooltipHovered: true } : undefined\n    );\n  }, [setTooltipInfo]);\n\n  const onMouseLeaveTooltipComponent = useCallback(() => {\n    setTooltipInfo((prev: TooltipInfo | undefined) => \n      prev ? { ...prev, tooltipHovered: false } : undefined\n    );\n  }, [setTooltipInfo]);\n\n  const setupTooltipListeners = useCallback((workspace: Blockly.WorkspaceSvg | undefined) => {\n    if (!workspace) return;\n    \n    workspace.addChangeListener((event: Blockly.Events.Abstract) => {\n      if (event.type === Blockly.Events.BLOCK_MOVE) {\n        const moveEvent = event as Blockly.Events.BlockMove;\n        if (!moveEvent.blockId) return;\n        \n        const block = workspace.getBlockById(moveEvent.blockId);\n        if (!block || !block.data) return;\n        \n        const tooltipContent = createTooltipContent(block);\n        block.setTooltip(() => tooltipContent);\n      }\n    });\n  }, []);\n\n  return { \n    setupTooltipListeners,\n    onMouseOverTooltipComponent,\n    onMouseLeaveTooltipComponent\n  };\n};\n"],"mappings":";AAAA,OAAO,KAAKA,OAAO,MAAM,cAAc;AACvC,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,iBAAiB,QAAQ,2BAA2B;AAE7D,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGJ,iBAAiB,CAAC,CAAC;EAE3D,MAAMK,2BAA2B,GAAGN,WAAW,CAAC,MAAM;IACpDK,cAAc,CAAEE,IAA6B,IAC3CA,IAAI,GAAG;MAAE,GAAGA,IAAI;MAAEC,cAAc,EAAE;IAAK,CAAC,GAAGC,SAC7C,CAAC;EACH,CAAC,EAAE,CAACJ,cAAc,CAAC,CAAC;EAEpB,MAAMK,4BAA4B,GAAGV,WAAW,CAAC,MAAM;IACrDK,cAAc,CAAEE,IAA6B,IAC3CA,IAAI,GAAG;MAAE,GAAGA,IAAI;MAAEC,cAAc,EAAE;IAAM,CAAC,GAAGC,SAC9C,CAAC;EACH,CAAC,EAAE,CAACJ,cAAc,CAAC,CAAC;EAEpB,MAAMM,qBAAqB,GAAGX,WAAW,CAAEY,SAA2C,IAAK;IACzF,IAAI,CAACA,SAAS,EAAE;IAEhBA,SAAS,CAACC,iBAAiB,CAAEC,KAA8B,IAAK;MAC9D,IAAIA,KAAK,CAACC,IAAI,KAAKhB,OAAO,CAACiB,MAAM,CAACC,UAAU,EAAE;QAC5C,MAAMC,SAAS,GAAGJ,KAAiC;QACnD,IAAI,CAACI,SAAS,CAACC,OAAO,EAAE;QAExB,MAAMC,KAAK,GAAGR,SAAS,CAACS,YAAY,CAACH,SAAS,CAACC,OAAO,CAAC;QACvD,IAAI,CAACC,KAAK,IAAI,CAACA,KAAK,CAACE,IAAI,EAAE;QAE3B,MAAMC,cAAc,GAAGC,oBAAoB,CAACJ,KAAK,CAAC;QAClDA,KAAK,CAACK,UAAU,CAAC,MAAMF,cAAc,CAAC;MACxC;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLZ,qBAAqB;IACrBL,2BAA2B;IAC3BI;EACF,CAAC;AACH,CAAC;AAACP,EAAA,CArCWD,UAAU;EAAA,QACmBD,iBAAiB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}