{"ast":null,"code":"// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([\"./blockly_compressed.js\"], factory);\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports = factory(require(\"./blockly_compressed.js\"));\n  } else {\n    // Browser\n    var factoryExports = factory(root.Blockly);\n    root.Blockly.libraryBlocks = factoryExports;\n  }\n})(this, function (__parent__) {\n  var $ = __parent__.__namespace__;\n  var blocks$$module$build$src$blocks$colour = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{\n    type: \"colour_picker\",\n    message0: \"%1\",\n    args0: [{\n      type: \"field_colour\",\n      name: \"COLOUR\",\n      colour: \"#ff0000\"\n    }],\n    output: \"Colour\",\n    helpUrl: \"%{BKY_COLOUR_PICKER_HELPURL}\",\n    style: \"colour_blocks\",\n    tooltip: \"%{BKY_COLOUR_PICKER_TOOLTIP}\",\n    extensions: [\"parent_tooltip_when_inline\"]\n  }, {\n    type: \"colour_random\",\n    message0: \"%{BKY_COLOUR_RANDOM_TITLE}\",\n    output: \"Colour\",\n    helpUrl: \"%{BKY_COLOUR_RANDOM_HELPURL}\",\n    style: \"colour_blocks\",\n    tooltip: \"%{BKY_COLOUR_RANDOM_TOOLTIP}\"\n  }, {\n    type: \"colour_rgb\",\n    message0: \"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3\",\n    args0: [{\n      type: \"input_value\",\n      name: \"RED\",\n      check: \"Number\",\n      align: \"RIGHT\"\n    }, {\n      type: \"input_value\",\n      name: \"GREEN\",\n      check: \"Number\",\n      align: \"RIGHT\"\n    }, {\n      type: \"input_value\",\n      name: \"BLUE\",\n      check: \"Number\",\n      align: \"RIGHT\"\n    }],\n    output: \"Colour\",\n    helpUrl: \"%{BKY_COLOUR_RGB_HELPURL}\",\n    style: \"colour_blocks\",\n    tooltip: \"%{BKY_COLOUR_RGB_TOOLTIP}\"\n  }, {\n    type: \"colour_blend\",\n    message0: \"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3\",\n    args0: [{\n      type: \"input_value\",\n      name: \"COLOUR1\",\n      check: \"Colour\",\n      align: \"RIGHT\"\n    }, {\n      type: \"input_value\",\n      name: \"COLOUR2\",\n      check: \"Colour\",\n      align: \"RIGHT\"\n    }, {\n      type: \"input_value\",\n      name: \"RATIO\",\n      check: \"Number\",\n      align: \"RIGHT\"\n    }],\n    output: \"Colour\",\n    helpUrl: \"%{BKY_COLOUR_BLEND_HELPURL}\",\n    style: \"colour_blocks\",\n    tooltip: \"%{BKY_COLOUR_BLEND_TOOLTIP}\"\n  }]);\n  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$colour);\n  var module$build$src$blocks$colour = {};\n  module$build$src$blocks$colour.blocks = blocks$$module$build$src$blocks$colour;\n  var module$exports$Blockly$libraryBlocks$lists = {},\n    module$contents$Blockly$libraryBlocks$lists_fieldRegistry = $.module$build$src$core$field_registry,\n    module$contents$Blockly$libraryBlocks$lists_xmlUtils = $.module$build$src$core$utils$xml,\n    module$contents$Blockly$libraryBlocks$lists_Align = $.Align$$module$build$src$core$input,\n    module$contents$Blockly$libraryBlocks$lists_BlockDefinition = Object,\n    module$contents$Blockly$libraryBlocks$lists_ConnectionType = $.module$build$src$core$connection_type.ConnectionType,\n    module$contents$Blockly$libraryBlocks$lists_Msg = $.module$build$src$core$msg.Msg,\n    module$contents$Blockly$libraryBlocks$lists_Mutator = $.Mutator$$module$build$src$core$mutator,\n    module$contents$Blockly$libraryBlocks$lists_createBlockDefinitionsFromJsonArray = $.module$build$src$core$common.createBlockDefinitionsFromJsonArray,\n    module$contents$Blockly$libraryBlocks$lists_defineBlocks = $.module$build$src$core$common.defineBlocks;\n  module$exports$Blockly$libraryBlocks$lists.blocks = module$contents$Blockly$libraryBlocks$lists_createBlockDefinitionsFromJsonArray([{\n    type: \"lists_create_empty\",\n    message0: \"%{BKY_LISTS_CREATE_EMPTY_TITLE}\",\n    output: \"Array\",\n    style: \"list_blocks\",\n    tooltip: \"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}\",\n    helpUrl: \"%{BKY_LISTS_CREATE_EMPTY_HELPURL}\"\n  }, {\n    type: \"lists_repeat\",\n    message0: \"%{BKY_LISTS_REPEAT_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"ITEM\"\n    }, {\n      type: \"input_value\",\n      name: \"NUM\",\n      check: \"Number\"\n    }],\n    output: \"Array\",\n    style: \"list_blocks\",\n    tooltip: \"%{BKY_LISTS_REPEAT_TOOLTIP}\",\n    helpUrl: \"%{BKY_LISTS_REPEAT_HELPURL}\"\n  }, {\n    type: \"lists_reverse\",\n    message0: \"%{BKY_LISTS_REVERSE_MESSAGE0}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"LIST\",\n      check: \"Array\"\n    }],\n    output: \"Array\",\n    inputsInline: !0,\n    style: \"list_blocks\",\n    tooltip: \"%{BKY_LISTS_REVERSE_TOOLTIP}\",\n    helpUrl: \"%{BKY_LISTS_REVERSE_HELPURL}\"\n  }, {\n    type: \"lists_isEmpty\",\n    message0: \"%{BKY_LISTS_ISEMPTY_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"VALUE\",\n      check: [\"String\", \"Array\"]\n    }],\n    output: \"Boolean\",\n    style: \"list_blocks\",\n    tooltip: \"%{BKY_LISTS_ISEMPTY_TOOLTIP}\",\n    helpUrl: \"%{BKY_LISTS_ISEMPTY_HELPURL}\"\n  }, {\n    type: \"lists_length\",\n    message0: \"%{BKY_LISTS_LENGTH_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"VALUE\",\n      check: [\"String\", \"Array\"]\n    }],\n    output: \"Number\",\n    style: \"list_blocks\",\n    tooltip: \"%{BKY_LISTS_LENGTH_TOOLTIP}\",\n    helpUrl: \"%{BKY_LISTS_LENGTH_HELPURL}\"\n  }]);\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_create_with = {\n    init: function () {\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_WITH_HELPURL);\n      this.setStyle(\"list_blocks\");\n      this.itemCount_ = 3;\n      this.updateShape_();\n      this.setOutput(!0, \"Array\");\n      this.setMutator(new $.Mutator$$module$build$src$core$mutator([\"lists_create_with_item\"], this));\n      this.setTooltip(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_WITH_TOOLTIP);\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      a.setAttribute(\"items\", this.itemCount_);\n      return a;\n    },\n    domToMutation: function (a) {\n      this.itemCount_ = parseInt(a.getAttribute(\"items\"), 10);\n      this.updateShape_();\n    },\n    saveExtraState: function () {\n      return {\n        itemCount: this.itemCount_\n      };\n    },\n    loadExtraState: function (a) {\n      this.itemCount_ = a.itemCount;\n      this.updateShape_();\n    },\n    decompose: function (a) {\n      const b = a.newBlock(\"lists_create_with_container\");\n      b.initSvg();\n      let c = b.getInput(\"STACK\").connection;\n      for (let d = 0; d < this.itemCount_; d++) {\n        const e = a.newBlock(\"lists_create_with_item\");\n        e.initSvg();\n        c.connect(e.previousConnection);\n        c = e.nextConnection;\n      }\n      return b;\n    },\n    compose: function (a) {\n      var b = a.getInputTargetBlock(\"STACK\");\n      for (a = []; b;) b.isInsertionMarker() || a.push(b.valueConnection_), b = b.getNextBlock();\n      for (b = 0; b < this.itemCount_; b++) {\n        const c = this.getInput(\"ADD\" + b).connection.targetConnection;\n        c && -1 === a.indexOf(c) && c.disconnect();\n      }\n      this.itemCount_ = a.length;\n      this.updateShape_();\n      for (b = 0; b < this.itemCount_; b++) $.Mutator$$module$build$src$core$mutator.reconnect(a[b], this, \"ADD\" + b);\n    },\n    saveConnections: function (a) {\n      a = a.getInputTargetBlock(\"STACK\");\n      let b = 0;\n      for (; a;) {\n        if (a.isInsertionMarker()) {\n          a = a.getNextBlock();\n          continue;\n        }\n        const c = this.getInput(\"ADD\" + b);\n        a.valueConnection_ = c && c.connection.targetConnection;\n        a = a.getNextBlock();\n        b++;\n      }\n    },\n    updateShape_: function () {\n      this.itemCount_ && this.getInput(\"EMPTY\") ? this.removeInput(\"EMPTY\") : this.itemCount_ || this.getInput(\"EMPTY\") || this.appendDummyInput(\"EMPTY\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_EMPTY_TITLE);\n      for (var a = 0; a < this.itemCount_; a++) if (!this.getInput(\"ADD\" + a)) {\n        const b = this.appendValueInput(\"ADD\" + a).setAlign($.Align$$module$build$src$core$input.RIGHT);\n        0 === a && b.appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_WITH_INPUT_WITH);\n      }\n      for (a = this.itemCount_; this.getInput(\"ADD\" + a); a++) this.removeInput(\"ADD\" + a);\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_create_with_container = {\n    init: function () {\n      this.setStyle(\"list_blocks\");\n      this.appendDummyInput().appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);\n      this.appendStatementInput(\"STACK\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);\n      this.contextMenu = !1;\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_create_with_item = {\n    init: function () {\n      this.setStyle(\"list_blocks\");\n      this.appendDummyInput().appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_WITH_ITEM_TITLE);\n      this.setPreviousStatement(!0);\n      this.setNextStatement(!0);\n      this.setTooltip(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);\n      this.contextMenu = !1;\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_indexOf = {\n    init: function () {\n      var a = [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_OF_FIRST, \"FIRST\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_OF_LAST, \"LAST\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_OF_HELPURL);\n      this.setStyle(\"list_blocks\");\n      this.setOutput(!0, \"Number\");\n      this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_OF_INPUT_IN_LIST);\n      a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: a\n      });\n      this.appendValueInput(\"FIND\").appendField(a, \"END\");\n      this.setInputsInline(!0);\n      const b = this;\n      this.setTooltip(function () {\n        return module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_OF_TOOLTIP.replace(\"%1\", b.workspace.options.oneBasedIndex ? \"0\" : \"-1\");\n      });\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_getIndex = {\n    init: function () {\n      var a = [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_GET, \"GET\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_GET_REMOVE, \"GET_REMOVE\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_REMOVE, \"REMOVE\"]];\n      this.WHERE_OPTIONS = [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_FROM_START, \"FROM_START\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_FROM_END, \"FROM_END\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_FIRST, \"FIRST\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_LAST, \"LAST\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_RANDOM, \"RANDOM\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_HELPURL);\n      this.setStyle(\"list_blocks\");\n      a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: a\n      });\n      a.setValidator(function (c) {\n        c = \"REMOVE\" === c;\n        this.getSourceBlock().updateStatement_(c);\n      });\n      this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_INPUT_IN_LIST);\n      this.appendDummyInput().appendField(a, \"MODE\").appendField(\"\", \"SPACE\");\n      this.appendDummyInput(\"AT\");\n      module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TAIL && this.appendDummyInput(\"TAIL\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TAIL);\n      this.setInputsInline(!0);\n      this.setOutput(!0);\n      this.updateAt_(!0);\n      const b = this;\n      this.setTooltip(function () {\n        const c = b.getFieldValue(\"MODE\"),\n          d = b.getFieldValue(\"WHERE\");\n        let e = \"\";\n        switch (c + \" \" + d) {\n          case \"GET FROM_START\":\n          case \"GET FROM_END\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;\n            break;\n          case \"GET FIRST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;\n            break;\n          case \"GET LAST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;\n            break;\n          case \"GET RANDOM\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;\n            break;\n          case \"GET_REMOVE FROM_START\":\n          case \"GET_REMOVE FROM_END\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;\n            break;\n          case \"GET_REMOVE FIRST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;\n            break;\n          case \"GET_REMOVE LAST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;\n            break;\n          case \"GET_REMOVE RANDOM\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;\n            break;\n          case \"REMOVE FROM_START\":\n          case \"REMOVE FROM_END\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;\n            break;\n          case \"REMOVE FIRST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;\n            break;\n          case \"REMOVE LAST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;\n            break;\n          case \"REMOVE RANDOM\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM;\n        }\n        if (\"FROM_START\" === d || \"FROM_END\" === d) e += \"  \" + (\"FROM_START\" === d ? module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_FROM_START_TOOLTIP : module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace(\"%1\", b.workspace.options.oneBasedIndex ? \"#1\" : \"#0\");\n        return e;\n      });\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      a.setAttribute(\"statement\", !this.outputConnection);\n      const b = this.getInput(\"AT\").type === $.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;\n      a.setAttribute(\"at\", b);\n      return a;\n    },\n    domToMutation: function (a) {\n      const b = \"true\" === a.getAttribute(\"statement\");\n      this.updateStatement_(b);\n      a = \"false\" !== a.getAttribute(\"at\");\n      this.updateAt_(a);\n    },\n    saveExtraState: function () {\n      return this.outputConnection ? null : {\n        isStatement: !0\n      };\n    },\n    loadExtraState: function (a) {\n      a.isStatement ? this.updateStatement_(!0) : \"string\" === typeof a && this.domToMutation($.module$build$src$core$utils$xml.textToDom(a));\n    },\n    updateStatement_: function (a) {\n      a !== !this.outputConnection && (this.unplug(!0, !0), a ? (this.setOutput(!1), this.setPreviousStatement(!0), this.setNextStatement(!0)) : (this.setPreviousStatement(!1), this.setNextStatement(!1), this.setOutput(!0)));\n    },\n    updateAt_: function (a) {\n      this.removeInput(\"AT\");\n      this.removeInput(\"ORDINAL\", !0);\n      a ? (this.appendValueInput(\"AT\").setCheck(\"Number\"), module$contents$Blockly$libraryBlocks$lists_Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput(\"ORDINAL\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput(\"AT\");\n      const b = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: this.WHERE_OPTIONS\n      });\n      b.setValidator(function (c) {\n        const d = \"FROM_START\" === c || \"FROM_END\" === c;\n        if (d !== a) {\n          const e = this.getSourceBlock();\n          e.updateAt_(d);\n          e.setFieldValue(c, \"WHERE\");\n          return null;\n        }\n      });\n      this.getInput(\"AT\").appendField(b, \"WHERE\");\n      module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_TAIL && this.moveInputBefore(\"TAIL\", null);\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_setIndex = {\n    init: function () {\n      var a = [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_SET, \"SET\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_INSERT, \"INSERT\"]];\n      this.WHERE_OPTIONS = [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_FROM_START, \"FROM_START\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_FROM_END, \"FROM_END\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_FIRST, \"FIRST\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_LAST, \"LAST\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_INDEX_RANDOM, \"RANDOM\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_HELPURL);\n      this.setStyle(\"list_blocks\");\n      this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_INPUT_IN_LIST);\n      a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: a\n      });\n      this.appendDummyInput().appendField(a, \"MODE\").appendField(\"\", \"SPACE\");\n      this.appendDummyInput(\"AT\");\n      this.appendValueInput(\"TO\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_INPUT_TO);\n      this.setInputsInline(!0);\n      this.setPreviousStatement(!0);\n      this.setNextStatement(!0);\n      this.setTooltip(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP);\n      this.updateAt_(!0);\n      const b = this;\n      this.setTooltip(function () {\n        const c = b.getFieldValue(\"MODE\"),\n          d = b.getFieldValue(\"WHERE\");\n        let e = \"\";\n        switch (c + \" \" + d) {\n          case \"SET FROM_START\":\n          case \"SET FROM_END\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;\n            break;\n          case \"SET FIRST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;\n            break;\n          case \"SET LAST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;\n            break;\n          case \"SET RANDOM\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;\n            break;\n          case \"INSERT FROM_START\":\n          case \"INSERT FROM_END\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;\n            break;\n          case \"INSERT FIRST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;\n            break;\n          case \"INSERT LAST\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;\n            break;\n          case \"INSERT RANDOM\":\n            e = module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM;\n        }\n        if (\"FROM_START\" === d || \"FROM_END\" === d) e += \"  \" + module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace(\"%1\", b.workspace.options.oneBasedIndex ? \"#1\" : \"#0\");\n        return e;\n      });\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\"),\n        b = this.getInput(\"AT\").type === $.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;\n      a.setAttribute(\"at\", b);\n      return a;\n    },\n    domToMutation: function (a) {\n      a = \"false\" !== a.getAttribute(\"at\");\n      this.updateAt_(a);\n    },\n    saveExtraState: function () {\n      return null;\n    },\n    loadExtraState: function () {},\n    updateAt_: function (a) {\n      this.removeInput(\"AT\");\n      this.removeInput(\"ORDINAL\", !0);\n      a ? (this.appendValueInput(\"AT\").setCheck(\"Number\"), module$contents$Blockly$libraryBlocks$lists_Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput(\"ORDINAL\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput(\"AT\");\n      const b = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: this.WHERE_OPTIONS\n      });\n      b.setValidator(function (c) {\n        const d = \"FROM_START\" === c || \"FROM_END\" === c;\n        if (d !== a) {\n          const e = this.getSourceBlock();\n          e.updateAt_(d);\n          e.setFieldValue(c, \"WHERE\");\n          return null;\n        }\n      });\n      this.moveInputBefore(\"AT\", \"TO\");\n      this.getInput(\"ORDINAL\") && this.moveInputBefore(\"ORDINAL\", \"TO\");\n      this.getInput(\"AT\").appendField(b, \"WHERE\");\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_getSublist = {\n    init: function () {\n      this.WHERE_OPTIONS_1 = [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_START_FROM_START, \"FROM_START\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_START_FROM_END, \"FROM_END\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_START_FIRST, \"FIRST\"]];\n      this.WHERE_OPTIONS_2 = [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_END_FROM_START, \"FROM_START\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_END_FROM_END, \"FROM_END\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_END_LAST, \"LAST\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_HELPURL);\n      this.setStyle(\"list_blocks\");\n      this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);\n      this.appendDummyInput(\"AT1\");\n      this.appendDummyInput(\"AT2\");\n      module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_TAIL && this.appendDummyInput(\"TAIL\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_TAIL);\n      this.setInputsInline(!0);\n      this.setOutput(!0, \"Array\");\n      this.updateAt_(1, !0);\n      this.updateAt_(2, !0);\n      this.setTooltip(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_TOOLTIP);\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      var b = this.getInput(\"AT1\").type === $.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;\n      a.setAttribute(\"at1\", b);\n      b = this.getInput(\"AT2\").type === $.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;\n      a.setAttribute(\"at2\", b);\n      return a;\n    },\n    domToMutation: function (a) {\n      const b = \"true\" === a.getAttribute(\"at1\");\n      a = \"true\" === a.getAttribute(\"at2\");\n      this.updateAt_(1, b);\n      this.updateAt_(2, a);\n    },\n    saveExtraState: function () {\n      return null;\n    },\n    loadExtraState: function () {},\n    updateAt_: function (a, b) {\n      this.removeInput(\"AT\" + a);\n      this.removeInput(\"ORDINAL\" + a, !0);\n      b ? (this.appendValueInput(\"AT\" + a).setCheck(\"Number\"), module$contents$Blockly$libraryBlocks$lists_Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput(\"ORDINAL\" + a).appendField(module$contents$Blockly$libraryBlocks$lists_Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput(\"AT\" + a);\n      const c = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: this[\"WHERE_OPTIONS_\" + a]\n      });\n      c.setValidator(function (d) {\n        const e = \"FROM_START\" === d || \"FROM_END\" === d;\n        if (e !== b) {\n          const f = this.getSourceBlock();\n          f.updateAt_(a, e);\n          f.setFieldValue(d, \"WHERE\" + a);\n          return null;\n        }\n      });\n      this.getInput(\"AT\" + a).appendField(c, \"WHERE\" + a);\n      1 === a && (this.moveInputBefore(\"AT1\", \"AT2\"), this.getInput(\"ORDINAL1\") && this.moveInputBefore(\"ORDINAL1\", \"AT2\"));\n      module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_GET_SUBLIST_TAIL && this.moveInputBefore(\"TAIL\", null);\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_sort = {\n    init: function () {\n      this.jsonInit({\n        message0: \"%{BKY_LISTS_SORT_TITLE}\",\n        args0: [{\n          type: \"field_dropdown\",\n          name: \"TYPE\",\n          options: [[\"%{BKY_LISTS_SORT_TYPE_NUMERIC}\", \"NUMERIC\"], [\"%{BKY_LISTS_SORT_TYPE_TEXT}\", \"TEXT\"], [\"%{BKY_LISTS_SORT_TYPE_IGNORECASE}\", \"IGNORE_CASE\"]]\n        }, {\n          type: \"field_dropdown\",\n          name: \"DIRECTION\",\n          options: [[\"%{BKY_LISTS_SORT_ORDER_ASCENDING}\", \"1\"], [\"%{BKY_LISTS_SORT_ORDER_DESCENDING}\", \"-1\"]]\n        }, {\n          type: \"input_value\",\n          name: \"LIST\",\n          check: \"Array\"\n        }],\n        output: \"Array\",\n        style: \"list_blocks\",\n        tooltip: \"%{BKY_LISTS_SORT_TOOLTIP}\",\n        helpUrl: \"%{BKY_LISTS_SORT_HELPURL}\"\n      });\n    }\n  };\n  module$exports$Blockly$libraryBlocks$lists.blocks.lists_split = {\n    init: function () {\n      const a = this,\n        b = $.module$build$src$core$field_registry.fromJson({\n          type: \"field_dropdown\",\n          options: [[module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SPLIT_LIST_FROM_TEXT, \"SPLIT\"], [module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SPLIT_TEXT_FROM_LIST, \"JOIN\"]]\n        });\n      b.setValidator(function (c) {\n        a.updateType_(c);\n      });\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SPLIT_HELPURL);\n      this.setStyle(\"list_blocks\");\n      this.appendValueInput(\"INPUT\").setCheck(\"String\").appendField(b, \"MODE\");\n      this.appendValueInput(\"DELIM\").setCheck(\"String\").appendField(module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SPLIT_WITH_DELIMITER);\n      this.setInputsInline(!0);\n      this.setOutput(!0, \"Array\");\n      this.setTooltip(function () {\n        const c = a.getFieldValue(\"MODE\");\n        if (\"SPLIT\" === c) return module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SPLIT_TOOLTIP_SPLIT;\n        if (\"JOIN\" === c) return module$contents$Blockly$libraryBlocks$lists_Msg.LISTS_SPLIT_TOOLTIP_JOIN;\n        throw Error(\"Unknown mode: \" + c);\n      });\n    },\n    updateType_: function (a) {\n      if (this.getFieldValue(\"MODE\") !== a) {\n        const b = this.getInput(\"INPUT\").connection;\n        b.setShadowDom(null);\n        const c = b.targetBlock();\n        c && (b.disconnect(), c.isShadow() ? c.dispose() : this.bumpNeighbours());\n      }\n      \"SPLIT\" === a ? (this.outputConnection.setCheck(\"Array\"), this.getInput(\"INPUT\").setCheck(\"String\")) : (this.outputConnection.setCheck(\"String\"), this.getInput(\"INPUT\").setCheck(\"Array\"));\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      a.setAttribute(\"mode\", this.getFieldValue(\"MODE\"));\n      return a;\n    },\n    domToMutation: function (a) {\n      this.updateType_(a.getAttribute(\"mode\"));\n    },\n    saveExtraState: function () {\n      return null;\n    },\n    loadExtraState: function () {}\n  };\n  module$contents$Blockly$libraryBlocks$lists_defineBlocks(module$exports$Blockly$libraryBlocks$lists.blocks);\n  var module$exports$Blockly$libraryBlocks$logic = {},\n    module$contents$Blockly$libraryBlocks$logic_Events = $.module$build$src$core$events$events,\n    module$contents$Blockly$libraryBlocks$logic_Extensions = $.module$build$src$core$extensions,\n    module$contents$Blockly$libraryBlocks$logic_xmlUtils = $.module$build$src$core$utils$xml,\n    module$contents$Blockly$libraryBlocks$logic_BlockDefinition = Object,\n    module$contents$Blockly$libraryBlocks$logic_Msg = $.module$build$src$core$msg.Msg,\n    module$contents$Blockly$libraryBlocks$logic_Mutator = $.Mutator$$module$build$src$core$mutator,\n    module$contents$Blockly$libraryBlocks$logic_createBlockDefinitionsFromJsonArray = $.module$build$src$core$common.createBlockDefinitionsFromJsonArray,\n    module$contents$Blockly$libraryBlocks$logic_defineBlocks = $.module$build$src$core$common.defineBlocks;\n  module$exports$Blockly$libraryBlocks$logic.blocks = module$contents$Blockly$libraryBlocks$logic_createBlockDefinitionsFromJsonArray([{\n    type: \"logic_boolean\",\n    message0: \"%1\",\n    args0: [{\n      type: \"field_dropdown\",\n      name: \"BOOL\",\n      options: [[\"%{BKY_LOGIC_BOOLEAN_TRUE}\", \"TRUE\"], [\"%{BKY_LOGIC_BOOLEAN_FALSE}\", \"FALSE\"]]\n    }],\n    output: \"Boolean\",\n    style: \"logic_blocks\",\n    tooltip: \"%{BKY_LOGIC_BOOLEAN_TOOLTIP}\",\n    helpUrl: \"%{BKY_LOGIC_BOOLEAN_HELPURL}\"\n  }, {\n    type: \"controls_if\",\n    message0: \"%{BKY_CONTROLS_IF_MSG_IF} %1\",\n    args0: [{\n      type: \"input_value\",\n      name: \"IF0\",\n      check: \"Boolean\"\n    }],\n    message1: \"%{BKY_CONTROLS_IF_MSG_THEN} %1\",\n    args1: [{\n      type: \"input_statement\",\n      name: \"DO0\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"logic_blocks\",\n    helpUrl: \"%{BKY_CONTROLS_IF_HELPURL}\",\n    suppressPrefixSuffix: !0,\n    mutator: \"controls_if_mutator\",\n    extensions: [\"controls_if_tooltip\"]\n  }, {\n    type: \"controls_ifelse\",\n    message0: \"%{BKY_CONTROLS_IF_MSG_IF} %1\",\n    args0: [{\n      type: \"input_value\",\n      name: \"IF0\",\n      check: \"Boolean\"\n    }],\n    message1: \"%{BKY_CONTROLS_IF_MSG_THEN} %1\",\n    args1: [{\n      type: \"input_statement\",\n      name: \"DO0\"\n    }],\n    message2: \"%{BKY_CONTROLS_IF_MSG_ELSE} %1\",\n    args2: [{\n      type: \"input_statement\",\n      name: \"ELSE\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"logic_blocks\",\n    tooltip: \"%{BKYCONTROLS_IF_TOOLTIP_2}\",\n    helpUrl: \"%{BKY_CONTROLS_IF_HELPURL}\",\n    suppressPrefixSuffix: !0,\n    extensions: [\"controls_if_tooltip\"]\n  }, {\n    type: \"logic_compare\",\n    message0: \"%1 %2 %3\",\n    args0: [{\n      type: \"input_value\",\n      name: \"A\"\n    }, {\n      type: \"field_dropdown\",\n      name: \"OP\",\n      options: [[\"=\", \"EQ\"], [\"\\u2260\", \"NEQ\"], [\"\\u200f<\", \"LT\"], [\"\\u200f\\u2264\", \"LTE\"], [\"\\u200f>\", \"GT\"], [\"\\u200f\\u2265\", \"GTE\"]]\n    }, {\n      type: \"input_value\",\n      name: \"B\"\n    }],\n    inputsInline: !0,\n    output: \"Boolean\",\n    style: \"logic_blocks\",\n    helpUrl: \"%{BKY_LOGIC_COMPARE_HELPURL}\",\n    extensions: [\"logic_compare\", \"logic_op_tooltip\"]\n  }, {\n    type: \"logic_operation\",\n    message0: \"%1 %2 %3\",\n    args0: [{\n      type: \"input_value\",\n      name: \"A\",\n      check: \"Boolean\"\n    }, {\n      type: \"field_dropdown\",\n      name: \"OP\",\n      options: [[\"%{BKY_LOGIC_OPERATION_AND}\", \"AND\"], [\"%{BKY_LOGIC_OPERATION_OR}\", \"OR\"]]\n    }, {\n      type: \"input_value\",\n      name: \"B\",\n      check: \"Boolean\"\n    }],\n    inputsInline: !0,\n    output: \"Boolean\",\n    style: \"logic_blocks\",\n    helpUrl: \"%{BKY_LOGIC_OPERATION_HELPURL}\",\n    extensions: [\"logic_op_tooltip\"]\n  }, {\n    type: \"logic_negate\",\n    message0: \"%{BKY_LOGIC_NEGATE_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"BOOL\",\n      check: \"Boolean\"\n    }],\n    output: \"Boolean\",\n    style: \"logic_blocks\",\n    tooltip: \"%{BKY_LOGIC_NEGATE_TOOLTIP}\",\n    helpUrl: \"%{BKY_LOGIC_NEGATE_HELPURL}\"\n  }, {\n    type: \"logic_null\",\n    message0: \"%{BKY_LOGIC_NULL}\",\n    output: null,\n    style: \"logic_blocks\",\n    tooltip: \"%{BKY_LOGIC_NULL_TOOLTIP}\",\n    helpUrl: \"%{BKY_LOGIC_NULL_HELPURL}\"\n  }, {\n    type: \"logic_ternary\",\n    message0: \"%{BKY_LOGIC_TERNARY_CONDITION} %1\",\n    args0: [{\n      type: \"input_value\",\n      name: \"IF\",\n      check: \"Boolean\"\n    }],\n    message1: \"%{BKY_LOGIC_TERNARY_IF_TRUE} %1\",\n    args1: [{\n      type: \"input_value\",\n      name: \"THEN\"\n    }],\n    message2: \"%{BKY_LOGIC_TERNARY_IF_FALSE} %1\",\n    args2: [{\n      type: \"input_value\",\n      name: \"ELSE\"\n    }],\n    output: null,\n    style: \"logic_blocks\",\n    tooltip: \"%{BKY_LOGIC_TERNARY_TOOLTIP}\",\n    helpUrl: \"%{BKY_LOGIC_TERNARY_HELPURL}\",\n    extensions: [\"logic_ternary\"]\n  }, {\n    type: \"controls_if_if\",\n    message0: \"%{BKY_CONTROLS_IF_IF_TITLE_IF}\",\n    nextStatement: null,\n    enableContextMenu: !1,\n    style: \"logic_blocks\",\n    tooltip: \"%{BKY_CONTROLS_IF_IF_TOOLTIP}\"\n  }, {\n    type: \"controls_if_elseif\",\n    message0: \"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}\",\n    previousStatement: null,\n    nextStatement: null,\n    enableContextMenu: !1,\n    style: \"logic_blocks\",\n    tooltip: \"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}\"\n  }, {\n    type: \"controls_if_else\",\n    message0: \"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}\",\n    previousStatement: null,\n    enableContextMenu: !1,\n    style: \"logic_blocks\",\n    tooltip: \"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}\"\n  }]);\n  var module$contents$Blockly$libraryBlocks$logic_TOOLTIPS_BY_OP = {\n    EQ: \"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}\",\n    NEQ: \"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}\",\n    LT: \"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}\",\n    LTE: \"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}\",\n    GT: \"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}\",\n    GTE: \"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}\",\n    AND: \"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}\",\n    OR: \"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}\"\n  };\n  $.module$build$src$core$extensions.register(\"logic_op_tooltip\", $.module$build$src$core$extensions.buildTooltipForDropdown(\"OP\", module$contents$Blockly$libraryBlocks$logic_TOOLTIPS_BY_OP));\n  var module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_MUTATOR_MIXIN = {\n    elseifCount_: 0,\n    elseCount_: 0,\n    mutationToDom: function () {\n      if (!this.elseifCount_ && !this.elseCount_) return null;\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      this.elseifCount_ && a.setAttribute(\"elseif\", this.elseifCount_);\n      this.elseCount_ && a.setAttribute(\"else\", 1);\n      return a;\n    },\n    domToMutation: function (a) {\n      this.elseifCount_ = parseInt(a.getAttribute(\"elseif\"), 10) || 0;\n      this.elseCount_ = parseInt(a.getAttribute(\"else\"), 10) || 0;\n      this.rebuildShape_();\n    },\n    saveExtraState: function () {\n      if (!this.elseifCount_ && !this.elseCount_) return null;\n      const a = Object.create(null);\n      this.elseifCount_ && (a.elseIfCount = this.elseifCount_);\n      this.elseCount_ && (a.hasElse = !0);\n      return a;\n    },\n    loadExtraState: function (a) {\n      this.elseifCount_ = a.elseIfCount || 0;\n      this.elseCount_ = a.hasElse ? 1 : 0;\n      this.updateShape_();\n    },\n    decompose: function (a) {\n      const b = a.newBlock(\"controls_if_if\");\n      b.initSvg();\n      let c = b.nextConnection;\n      for (let d = 1; d <= this.elseifCount_; d++) {\n        const e = a.newBlock(\"controls_if_elseif\");\n        e.initSvg();\n        c.connect(e.previousConnection);\n        c = e.nextConnection;\n      }\n      this.elseCount_ && (a = a.newBlock(\"controls_if_else\"), a.initSvg(), c.connect(a.previousConnection));\n      return b;\n    },\n    compose: function (a) {\n      a = a.nextConnection.targetBlock();\n      this.elseCount_ = this.elseifCount_ = 0;\n      const b = [null],\n        c = [null];\n      let d = null;\n      for (; a;) {\n        if (!a.isInsertionMarker()) switch (a.type) {\n          case \"controls_if_elseif\":\n            this.elseifCount_++;\n            b.push(a.valueConnection_);\n            c.push(a.statementConnection_);\n            break;\n          case \"controls_if_else\":\n            this.elseCount_++;\n            d = a.statementConnection_;\n            break;\n          default:\n            throw TypeError(\"Unknown block type: \" + a.type);\n        }\n        a = a.getNextBlock();\n      }\n      this.updateShape_();\n      this.reconnectChildBlocks_(b, c, d);\n    },\n    saveConnections: function (a) {\n      a = a.nextConnection.targetBlock();\n      let b = 1;\n      for (; a;) {\n        if (!a.isInsertionMarker()) switch (a.type) {\n          case \"controls_if_elseif\":\n            var c = this.getInput(\"IF\" + b);\n            const d = this.getInput(\"DO\" + b);\n            a.valueConnection_ = c && c.connection.targetConnection;\n            a.statementConnection_ = d && d.connection.targetConnection;\n            b++;\n            break;\n          case \"controls_if_else\":\n            c = this.getInput(\"ELSE\");\n            a.statementConnection_ = c && c.connection.targetConnection;\n            break;\n          default:\n            throw TypeError(\"Unknown block type: \" + a.type);\n        }\n        a = a.getNextBlock();\n      }\n    },\n    rebuildShape_: function () {\n      const a = [null],\n        b = [null];\n      let c = null;\n      this.getInput(\"ELSE\") && (c = this.getInput(\"ELSE\").connection.targetConnection);\n      for (let d = 1; this.getInput(\"IF\" + d); d++) {\n        const e = this.getInput(\"IF\" + d),\n          f = this.getInput(\"DO\" + d);\n        a.push(e.connection.targetConnection);\n        b.push(f.connection.targetConnection);\n      }\n      this.updateShape_();\n      this.reconnectChildBlocks_(a, b, c);\n    },\n    updateShape_: function () {\n      this.getInput(\"ELSE\") && this.removeInput(\"ELSE\");\n      for (var a = 1; this.getInput(\"IF\" + a); a++) this.removeInput(\"IF\" + a), this.removeInput(\"DO\" + a);\n      for (a = 1; a <= this.elseifCount_; a++) this.appendValueInput(\"IF\" + a).setCheck(\"Boolean\").appendField(module$contents$Blockly$libraryBlocks$logic_Msg.CONTROLS_IF_MSG_ELSEIF), this.appendStatementInput(\"DO\" + a).appendField(module$contents$Blockly$libraryBlocks$logic_Msg.CONTROLS_IF_MSG_THEN);\n      this.elseCount_ && this.appendStatementInput(\"ELSE\").appendField(module$contents$Blockly$libraryBlocks$logic_Msg.CONTROLS_IF_MSG_ELSE);\n    },\n    reconnectChildBlocks_: function (a, b, c) {\n      for (let d = 1; d <= this.elseifCount_; d++) $.Mutator$$module$build$src$core$mutator.reconnect(a[d], this, \"IF\" + d), $.Mutator$$module$build$src$core$mutator.reconnect(b[d], this, \"DO\" + d);\n      $.Mutator$$module$build$src$core$mutator.reconnect(c, this, \"ELSE\");\n    }\n  };\n  $.module$build$src$core$extensions.registerMutator(\"controls_if_mutator\", module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_MUTATOR_MIXIN, null, [\"controls_if_elseif\", \"controls_if_else\"]);\n  var module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_TOOLTIP_EXTENSION = function () {\n    this.setTooltip(function () {\n      if (this.elseifCount_ || this.elseCount_) {\n        if (!this.elseifCount_ && this.elseCount_) return module$contents$Blockly$libraryBlocks$logic_Msg.CONTROLS_IF_TOOLTIP_2;\n        if (this.elseifCount_ && !this.elseCount_) return module$contents$Blockly$libraryBlocks$logic_Msg.CONTROLS_IF_TOOLTIP_3;\n        if (this.elseifCount_ && this.elseCount_) return module$contents$Blockly$libraryBlocks$logic_Msg.CONTROLS_IF_TOOLTIP_4;\n      } else return module$contents$Blockly$libraryBlocks$logic_Msg.CONTROLS_IF_TOOLTIP_1;\n      return \"\";\n    }.bind(this));\n  };\n  $.module$build$src$core$extensions.register(\"controls_if_tooltip\", module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_TOOLTIP_EXTENSION);\n  var module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_ONCHANGE_MIXIN = {\n      onchange: function (a) {\n        this.prevBlocks_ || (this.prevBlocks_ = [null, null]);\n        var b = this.getInputTargetBlock(\"A\");\n        const c = this.getInputTargetBlock(\"B\");\n        b && c && !this.workspace.connectionChecker.doTypeChecks(b.outputConnection, c.outputConnection) && ($.module$build$src$core$events$events.setGroup(a.group), a = this.prevBlocks_[0], a !== b && (b.unplug(), !a || a.isDisposed() || a.isShadow() || this.getInput(\"A\").connection.connect(a.outputConnection)), b = this.prevBlocks_[1], b !== c && (c.unplug(), !b || b.isDisposed() || b.isShadow() || this.getInput(\"B\").connection.connect(b.outputConnection)), this.bumpNeighbours(), $.module$build$src$core$events$events.setGroup(!1));\n        this.prevBlocks_[0] = this.getInputTargetBlock(\"A\");\n        this.prevBlocks_[1] = this.getInputTargetBlock(\"B\");\n      }\n    },\n    module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_EXTENSION = function () {\n      this.mixin(module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_ONCHANGE_MIXIN);\n    };\n  $.module$build$src$core$extensions.register(\"logic_compare\", module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_EXTENSION);\n  var module$contents$Blockly$libraryBlocks$logic_LOGIC_TERNARY_ONCHANGE_MIXIN = {\n    prevParentConnection_: null,\n    onchange: function (a) {\n      const b = this.getInputTargetBlock(\"THEN\"),\n        c = this.getInputTargetBlock(\"ELSE\"),\n        d = this.outputConnection.targetConnection;\n      if ((b || c) && d) for (let e = 0; 2 > e; e++) {\n        const f = 1 === e ? b : c;\n        f && !f.workspace.connectionChecker.doTypeChecks(f.outputConnection, d) && ($.module$build$src$core$events$events.setGroup(a.group), d === this.prevParentConnection_ ? (this.unplug(), d.getSourceBlock().bumpNeighbours()) : (f.unplug(), f.bumpNeighbours()), $.module$build$src$core$events$events.setGroup(!1));\n      }\n      this.prevParentConnection_ = d;\n    }\n  };\n  $.module$build$src$core$extensions.registerMixin(\"logic_ternary\", module$contents$Blockly$libraryBlocks$logic_LOGIC_TERNARY_ONCHANGE_MIXIN);\n  module$contents$Blockly$libraryBlocks$logic_defineBlocks(module$exports$Blockly$libraryBlocks$logic.blocks);\n  var module$exports$Blockly$libraryBlocks$loops = {},\n    module$contents$Blockly$libraryBlocks$loops_ContextMenu = $.module$build$src$core$contextmenu,\n    module$contents$Blockly$libraryBlocks$loops_Events = $.module$build$src$core$events$events,\n    module$contents$Blockly$libraryBlocks$loops_Extensions = $.module$build$src$core$extensions,\n    module$contents$Blockly$libraryBlocks$loops_Variables = $.module$build$src$core$variables,\n    module$contents$Blockly$libraryBlocks$loops_xmlUtils = $.module$build$src$core$utils$xml,\n    module$contents$Blockly$libraryBlocks$loops_BlockDefinition = Object,\n    module$contents$Blockly$libraryBlocks$loops_Msg = $.module$build$src$core$msg.Msg,\n    module$contents$Blockly$libraryBlocks$loops_createBlockDefinitionsFromJsonArray = $.module$build$src$core$common.createBlockDefinitionsFromJsonArray,\n    module$contents$Blockly$libraryBlocks$loops_defineBlocks = $.module$build$src$core$common.defineBlocks;\n  module$exports$Blockly$libraryBlocks$loops.blocks = module$contents$Blockly$libraryBlocks$loops_createBlockDefinitionsFromJsonArray([{\n    type: \"controls_repeat_ext\",\n    message0: \"%{BKY_CONTROLS_REPEAT_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"TIMES\",\n      check: \"Number\"\n    }],\n    message1: \"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",\n    args1: [{\n      type: \"input_statement\",\n      name: \"DO\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"loop_blocks\",\n    tooltip: \"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",\n    helpUrl: \"%{BKY_CONTROLS_REPEAT_HELPURL}\"\n  }, {\n    type: \"controls_repeat\",\n    message0: \"%{BKY_CONTROLS_REPEAT_TITLE}\",\n    args0: [{\n      type: \"field_number\",\n      name: \"TIMES\",\n      value: 10,\n      min: 0,\n      precision: 1\n    }],\n    message1: \"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",\n    args1: [{\n      type: \"input_statement\",\n      name: \"DO\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"loop_blocks\",\n    tooltip: \"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",\n    helpUrl: \"%{BKY_CONTROLS_REPEAT_HELPURL}\"\n  }, {\n    type: \"controls_whileUntil\",\n    message0: \"%1 %2\",\n    args0: [{\n      type: \"field_dropdown\",\n      name: \"MODE\",\n      options: [[\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}\", \"WHILE\"], [\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}\", \"UNTIL\"]]\n    }, {\n      type: \"input_value\",\n      name: \"BOOL\",\n      check: \"Boolean\"\n    }],\n    message1: \"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",\n    args1: [{\n      type: \"input_statement\",\n      name: \"DO\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"loop_blocks\",\n    helpUrl: \"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}\",\n    extensions: [\"controls_whileUntil_tooltip\"]\n  }, {\n    type: \"controls_for\",\n    message0: \"%{BKY_CONTROLS_FOR_TITLE}\",\n    args0: [{\n      type: \"field_variable\",\n      name: \"VAR\",\n      variable: null\n    }, {\n      type: \"input_value\",\n      name: \"FROM\",\n      check: \"Number\",\n      align: \"RIGHT\"\n    }, {\n      type: \"input_value\",\n      name: \"TO\",\n      check: \"Number\",\n      align: \"RIGHT\"\n    }, {\n      type: \"input_value\",\n      name: \"BY\",\n      check: \"Number\",\n      align: \"RIGHT\"\n    }],\n    message1: \"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",\n    args1: [{\n      type: \"input_statement\",\n      name: \"DO\"\n    }],\n    inputsInline: !0,\n    previousStatement: null,\n    nextStatement: null,\n    style: \"loop_blocks\",\n    helpUrl: \"%{BKY_CONTROLS_FOR_HELPURL}\",\n    extensions: [\"contextMenu_newGetVariableBlock\", \"controls_for_tooltip\"]\n  }, {\n    type: \"controls_forEach\",\n    message0: \"%{BKY_CONTROLS_FOREACH_TITLE}\",\n    args0: [{\n      type: \"field_variable\",\n      name: \"VAR\",\n      variable: null\n    }, {\n      type: \"input_value\",\n      name: \"LIST\",\n      check: \"Array\"\n    }],\n    message1: \"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",\n    args1: [{\n      type: \"input_statement\",\n      name: \"DO\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"loop_blocks\",\n    helpUrl: \"%{BKY_CONTROLS_FOREACH_HELPURL}\",\n    extensions: [\"contextMenu_newGetVariableBlock\", \"controls_forEach_tooltip\"]\n  }, {\n    type: \"controls_flow_statements\",\n    message0: \"%1\",\n    args0: [{\n      type: \"field_dropdown\",\n      name: \"FLOW\",\n      options: [[\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}\", \"BREAK\"], [\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}\", \"CONTINUE\"]]\n    }],\n    previousStatement: null,\n    style: \"loop_blocks\",\n    helpUrl: \"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}\",\n    suppressPrefixSuffix: !0,\n    extensions: [\"controls_flow_tooltip\", \"controls_flow_in_loop_check\"]\n  }]);\n  var module$contents$Blockly$libraryBlocks$loops_WHILE_UNTIL_TOOLTIPS = {\n    WHILE: \"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}\",\n    UNTIL: \"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}\"\n  };\n  $.module$build$src$core$extensions.register(\"controls_whileUntil_tooltip\", $.module$build$src$core$extensions.buildTooltipForDropdown(\"MODE\", module$contents$Blockly$libraryBlocks$loops_WHILE_UNTIL_TOOLTIPS));\n  var module$contents$Blockly$libraryBlocks$loops_BREAK_CONTINUE_TOOLTIPS = {\n    BREAK: \"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}\",\n    CONTINUE: \"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}\"\n  };\n  $.module$build$src$core$extensions.register(\"controls_flow_tooltip\", $.module$build$src$core$extensions.buildTooltipForDropdown(\"FLOW\", module$contents$Blockly$libraryBlocks$loops_BREAK_CONTINUE_TOOLTIPS));\n  var module$contents$Blockly$libraryBlocks$loops_CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN = {\n    customContextMenu: function (a) {\n      if (!this.isInFlyout) {\n        var b = this.getField(\"VAR\").getVariable(),\n          c = b.name;\n        if (!this.isCollapsed() && null !== c) {\n          const d = {\n            enabled: !0\n          };\n          d.text = module$contents$Blockly$libraryBlocks$loops_Msg.VARIABLES_SET_CREATE_GET.replace(\"%1\", c);\n          b = $.module$build$src$core$variables.generateVariableFieldDom(b);\n          c = $.module$build$src$core$utils$xml.createElement(\"block\");\n          c.setAttribute(\"type\", \"variables_get\");\n          c.appendChild(b);\n          d.callback = $.module$build$src$core$contextmenu.callbackFactory(this, c);\n          a.push(d);\n        }\n      }\n    }\n  };\n  $.module$build$src$core$extensions.registerMixin(\"contextMenu_newGetVariableBlock\", module$contents$Blockly$libraryBlocks$loops_CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN);\n  $.module$build$src$core$extensions.register(\"controls_for_tooltip\", $.module$build$src$core$extensions.buildTooltipWithFieldText(\"%{BKY_CONTROLS_FOR_TOOLTIP}\", \"VAR\"));\n  $.module$build$src$core$extensions.register(\"controls_forEach_tooltip\", $.module$build$src$core$extensions.buildTooltipWithFieldText(\"%{BKY_CONTROLS_FOREACH_TOOLTIP}\", \"VAR\"));\n  module$exports$Blockly$libraryBlocks$loops.loopTypes = new Set([\"controls_repeat\", \"controls_repeat_ext\", \"controls_forEach\", \"controls_for\", \"controls_whileUntil\"]);\n  var module$contents$Blockly$libraryBlocks$loops_CONTROL_FLOW_IN_LOOP_CHECK_MIXIN = {\n    getSurroundLoop: function () {\n      let a = this;\n      do {\n        if (module$exports$Blockly$libraryBlocks$loops.loopTypes.has(a.type)) return a;\n        a = a.getSurroundParent();\n      } while (a);\n      return null;\n    },\n    onchange: function (a) {\n      if (this.workspace.isDragging && !this.workspace.isDragging() && a.type === $.module$build$src$core$events$events.BLOCK_MOVE) {\n        var b = this.getSurroundLoop(this);\n        this.setWarningText(b ? null : module$contents$Blockly$libraryBlocks$loops_Msg.CONTROLS_FLOW_STATEMENTS_WARNING);\n        if (!this.isInFlyout) {\n          const c = $.module$build$src$core$events$events.getGroup();\n          $.module$build$src$core$events$events.setGroup(a.group);\n          this.setEnabled(b);\n          $.module$build$src$core$events$events.setGroup(c);\n        }\n      }\n    }\n  };\n  $.module$build$src$core$extensions.registerMixin(\"controls_flow_in_loop_check\", module$contents$Blockly$libraryBlocks$loops_CONTROL_FLOW_IN_LOOP_CHECK_MIXIN);\n  module$contents$Blockly$libraryBlocks$loops_defineBlocks(module$exports$Blockly$libraryBlocks$loops.blocks);\n  var blocks$$module$build$src$blocks$math = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{\n      type: \"math_number\",\n      message0: \"%1\",\n      args0: [{\n        type: \"field_number\",\n        name: \"NUM\",\n        value: 0\n      }],\n      output: \"Number\",\n      helpUrl: \"%{BKY_MATH_NUMBER_HELPURL}\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_NUMBER_TOOLTIP}\",\n      extensions: [\"parent_tooltip_when_inline\"]\n    }, {\n      type: \"math_arithmetic\",\n      message0: \"%1 %2 %3\",\n      args0: [{\n        type: \"input_value\",\n        name: \"A\",\n        check: \"Number\"\n      }, {\n        type: \"field_dropdown\",\n        name: \"OP\",\n        options: [[\"%{BKY_MATH_ADDITION_SYMBOL}\", \"ADD\"], [\"%{BKY_MATH_SUBTRACTION_SYMBOL}\", \"MINUS\"], [\"%{BKY_MATH_MULTIPLICATION_SYMBOL}\", \"MULTIPLY\"], [\"%{BKY_MATH_DIVISION_SYMBOL}\", \"DIVIDE\"], [\"%{BKY_MATH_POWER_SYMBOL}\", \"POWER\"]]\n      }, {\n        type: \"input_value\",\n        name: \"B\",\n        check: \"Number\"\n      }],\n      inputsInline: !0,\n      output: \"Number\",\n      style: \"math_blocks\",\n      helpUrl: \"%{BKY_MATH_ARITHMETIC_HELPURL}\",\n      extensions: [\"math_op_tooltip\"]\n    }, {\n      type: \"math_single\",\n      message0: \"%1 %2\",\n      args0: [{\n        type: \"field_dropdown\",\n        name: \"OP\",\n        options: [[\"%{BKY_MATH_SINGLE_OP_ROOT}\", \"ROOT\"], [\"%{BKY_MATH_SINGLE_OP_ABSOLUTE}\", \"ABS\"], [\"-\", \"NEG\"], [\"ln\", \"LN\"], [\"log10\", \"LOG10\"], [\"e^\", \"EXP\"], [\"10^\", \"POW10\"]]\n      }, {\n        type: \"input_value\",\n        name: \"NUM\",\n        check: \"Number\"\n      }],\n      output: \"Number\",\n      style: \"math_blocks\",\n      helpUrl: \"%{BKY_MATH_SINGLE_HELPURL}\",\n      extensions: [\"math_op_tooltip\"]\n    }, {\n      type: \"math_trig\",\n      message0: \"%1 %2\",\n      args0: [{\n        type: \"field_dropdown\",\n        name: \"OP\",\n        options: [[\"%{BKY_MATH_TRIG_SIN}\", \"SIN\"], [\"%{BKY_MATH_TRIG_COS}\", \"COS\"], [\"%{BKY_MATH_TRIG_TAN}\", \"TAN\"], [\"%{BKY_MATH_TRIG_ASIN}\", \"ASIN\"], [\"%{BKY_MATH_TRIG_ACOS}\", \"ACOS\"], [\"%{BKY_MATH_TRIG_ATAN}\", \"ATAN\"]]\n      }, {\n        type: \"input_value\",\n        name: \"NUM\",\n        check: \"Number\"\n      }],\n      output: \"Number\",\n      style: \"math_blocks\",\n      helpUrl: \"%{BKY_MATH_TRIG_HELPURL}\",\n      extensions: [\"math_op_tooltip\"]\n    }, {\n      type: \"math_constant\",\n      message0: \"%1\",\n      args0: [{\n        type: \"field_dropdown\",\n        name: \"CONSTANT\",\n        options: [[\"\\u03c0\", \"PI\"], [\"e\", \"E\"], [\"\\u03c6\", \"GOLDEN_RATIO\"], [\"sqrt(2)\", \"SQRT2\"], [\"sqrt(\\u00bd)\", \"SQRT1_2\"], [\"\\u221e\", \"INFINITY\"]]\n      }],\n      output: \"Number\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_CONSTANT_TOOLTIP}\",\n      helpUrl: \"%{BKY_MATH_CONSTANT_HELPURL}\"\n    }, {\n      type: \"math_number_property\",\n      message0: \"%1 %2\",\n      args0: [{\n        type: \"input_value\",\n        name: \"NUMBER_TO_CHECK\",\n        check: \"Number\"\n      }, {\n        type: \"field_dropdown\",\n        name: \"PROPERTY\",\n        options: [[\"%{BKY_MATH_IS_EVEN}\", \"EVEN\"], [\"%{BKY_MATH_IS_ODD}\", \"ODD\"], [\"%{BKY_MATH_IS_PRIME}\", \"PRIME\"], [\"%{BKY_MATH_IS_WHOLE}\", \"WHOLE\"], [\"%{BKY_MATH_IS_POSITIVE}\", \"POSITIVE\"], [\"%{BKY_MATH_IS_NEGATIVE}\", \"NEGATIVE\"], [\"%{BKY_MATH_IS_DIVISIBLE_BY}\", \"DIVISIBLE_BY\"]]\n      }],\n      inputsInline: !0,\n      output: \"Boolean\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_IS_TOOLTIP}\",\n      mutator: \"math_is_divisibleby_mutator\"\n    }, {\n      type: \"math_change\",\n      message0: \"%{BKY_MATH_CHANGE_TITLE}\",\n      args0: [{\n        type: \"field_variable\",\n        name: \"VAR\",\n        variable: \"%{BKY_MATH_CHANGE_TITLE_ITEM}\"\n      }, {\n        type: \"input_value\",\n        name: \"DELTA\",\n        check: \"Number\"\n      }],\n      previousStatement: null,\n      nextStatement: null,\n      style: \"variable_blocks\",\n      helpUrl: \"%{BKY_MATH_CHANGE_HELPURL}\",\n      extensions: [\"math_change_tooltip\"]\n    }, {\n      type: \"math_round\",\n      message0: \"%1 %2\",\n      args0: [{\n        type: \"field_dropdown\",\n        name: \"OP\",\n        options: [[\"%{BKY_MATH_ROUND_OPERATOR_ROUND}\", \"ROUND\"], [\"%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}\", \"ROUNDUP\"], [\"%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}\", \"ROUNDDOWN\"]]\n      }, {\n        type: \"input_value\",\n        name: \"NUM\",\n        check: \"Number\"\n      }],\n      output: \"Number\",\n      style: \"math_blocks\",\n      helpUrl: \"%{BKY_MATH_ROUND_HELPURL}\",\n      tooltip: \"%{BKY_MATH_ROUND_TOOLTIP}\"\n    }, {\n      type: \"math_on_list\",\n      message0: \"%1 %2\",\n      args0: [{\n        type: \"field_dropdown\",\n        name: \"OP\",\n        options: [[\"%{BKY_MATH_ONLIST_OPERATOR_SUM}\", \"SUM\"], [\"%{BKY_MATH_ONLIST_OPERATOR_MIN}\", \"MIN\"], [\"%{BKY_MATH_ONLIST_OPERATOR_MAX}\", \"MAX\"], [\"%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}\", \"AVERAGE\"], [\"%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}\", \"MEDIAN\"], [\"%{BKY_MATH_ONLIST_OPERATOR_MODE}\", \"MODE\"], [\"%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}\", \"STD_DEV\"], [\"%{BKY_MATH_ONLIST_OPERATOR_RANDOM}\", \"RANDOM\"]]\n      }, {\n        type: \"input_value\",\n        name: \"LIST\",\n        check: \"Array\"\n      }],\n      output: \"Number\",\n      style: \"math_blocks\",\n      helpUrl: \"%{BKY_MATH_ONLIST_HELPURL}\",\n      mutator: \"math_modes_of_list_mutator\",\n      extensions: [\"math_op_tooltip\"]\n    }, {\n      type: \"math_modulo\",\n      message0: \"%{BKY_MATH_MODULO_TITLE}\",\n      args0: [{\n        type: \"input_value\",\n        name: \"DIVIDEND\",\n        check: \"Number\"\n      }, {\n        type: \"input_value\",\n        name: \"DIVISOR\",\n        check: \"Number\"\n      }],\n      inputsInline: !0,\n      output: \"Number\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_MODULO_TOOLTIP}\",\n      helpUrl: \"%{BKY_MATH_MODULO_HELPURL}\"\n    }, {\n      type: \"math_constrain\",\n      message0: \"%{BKY_MATH_CONSTRAIN_TITLE}\",\n      args0: [{\n        type: \"input_value\",\n        name: \"VALUE\",\n        check: \"Number\"\n      }, {\n        type: \"input_value\",\n        name: \"LOW\",\n        check: \"Number\"\n      }, {\n        type: \"input_value\",\n        name: \"HIGH\",\n        check: \"Number\"\n      }],\n      inputsInline: !0,\n      output: \"Number\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_CONSTRAIN_TOOLTIP}\",\n      helpUrl: \"%{BKY_MATH_CONSTRAIN_HELPURL}\"\n    }, {\n      type: \"math_random_int\",\n      message0: \"%{BKY_MATH_RANDOM_INT_TITLE}\",\n      args0: [{\n        type: \"input_value\",\n        name: \"FROM\",\n        check: \"Number\"\n      }, {\n        type: \"input_value\",\n        name: \"TO\",\n        check: \"Number\"\n      }],\n      inputsInline: !0,\n      output: \"Number\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_RANDOM_INT_TOOLTIP}\",\n      helpUrl: \"%{BKY_MATH_RANDOM_INT_HELPURL}\"\n    }, {\n      type: \"math_random_float\",\n      message0: \"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}\",\n      output: \"Number\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}\",\n      helpUrl: \"%{BKY_MATH_RANDOM_FLOAT_HELPURL}\"\n    }, {\n      type: \"math_atan2\",\n      message0: \"%{BKY_MATH_ATAN2_TITLE}\",\n      args0: [{\n        type: \"input_value\",\n        name: \"X\",\n        check: \"Number\"\n      }, {\n        type: \"input_value\",\n        name: \"Y\",\n        check: \"Number\"\n      }],\n      inputsInline: !0,\n      output: \"Number\",\n      style: \"math_blocks\",\n      tooltip: \"%{BKY_MATH_ATAN2_TOOLTIP}\",\n      helpUrl: \"%{BKY_MATH_ATAN2_HELPURL}\"\n    }]),\n    TOOLTIPS_BY_OP$$module$build$src$blocks$math = {\n      ADD: \"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}\",\n      MINUS: \"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}\",\n      MULTIPLY: \"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}\",\n      DIVIDE: \"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}\",\n      POWER: \"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}\",\n      ROOT: \"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}\",\n      ABS: \"%{BKY_MATH_SINGLE_TOOLTIP_ABS}\",\n      NEG: \"%{BKY_MATH_SINGLE_TOOLTIP_NEG}\",\n      LN: \"%{BKY_MATH_SINGLE_TOOLTIP_LN}\",\n      LOG10: \"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}\",\n      EXP: \"%{BKY_MATH_SINGLE_TOOLTIP_EXP}\",\n      POW10: \"%{BKY_MATH_SINGLE_TOOLTIP_POW10}\",\n      SIN: \"%{BKY_MATH_TRIG_TOOLTIP_SIN}\",\n      COS: \"%{BKY_MATH_TRIG_TOOLTIP_COS}\",\n      TAN: \"%{BKY_MATH_TRIG_TOOLTIP_TAN}\",\n      ASIN: \"%{BKY_MATH_TRIG_TOOLTIP_ASIN}\",\n      ACOS: \"%{BKY_MATH_TRIG_TOOLTIP_ACOS}\",\n      ATAN: \"%{BKY_MATH_TRIG_TOOLTIP_ATAN}\",\n      SUM: \"%{BKY_MATH_ONLIST_TOOLTIP_SUM}\",\n      MIN: \"%{BKY_MATH_ONLIST_TOOLTIP_MIN}\",\n      MAX: \"%{BKY_MATH_ONLIST_TOOLTIP_MAX}\",\n      AVERAGE: \"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}\",\n      MEDIAN: \"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}\",\n      MODE: \"%{BKY_MATH_ONLIST_TOOLTIP_MODE}\",\n      STD_DEV: \"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}\",\n      RANDOM: \"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}\"\n    };\n  $.register$$module$build$src$core$extensions(\"math_op_tooltip\", $.buildTooltipForDropdown$$module$build$src$core$extensions(\"OP\", TOOLTIPS_BY_OP$$module$build$src$blocks$math));\n  var IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math = {\n      mutationToDom: function () {\n        const a = $.createElement$$module$build$src$core$utils$xml(\"mutation\"),\n          b = \"DIVISIBLE_BY\" === this.getFieldValue(\"PROPERTY\");\n        a.setAttribute(\"divisor_input\", String(b));\n        return a;\n      },\n      domToMutation: function (a) {\n        a = \"true\" === a.getAttribute(\"divisor_input\");\n        this.updateShape_(a);\n      },\n      updateShape_: function (a) {\n        const b = this.getInput(\"DIVISOR\");\n        a ? b || this.appendValueInput(\"DIVISOR\").setCheck(\"Number\") : b && this.removeInput(\"DIVISOR\");\n      }\n    },\n    IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math = function () {\n      this.getField(\"PROPERTY\").setValidator(function (a) {\n        a = \"DIVISIBLE_BY\" === a;\n        this.getSourceBlock().updateShape_(a);\n      });\n    };\n  $.registerMutator$$module$build$src$core$extensions(\"math_is_divisibleby_mutator\", IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math, IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math);\n  $.register$$module$build$src$core$extensions(\"math_change_tooltip\", $.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_MATH_CHANGE_TOOLTIP}\", \"VAR\"));\n  var LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math = {\n      updateType_: function (a) {\n        \"MODE\" === a ? this.outputConnection.setCheck(\"Array\") : this.outputConnection.setCheck(\"Number\");\n      },\n      mutationToDom: function () {\n        const a = $.createElement$$module$build$src$core$utils$xml(\"mutation\");\n        a.setAttribute(\"op\", this.getFieldValue(\"OP\"));\n        return a;\n      },\n      domToMutation: function (a) {\n        a = a.getAttribute(\"op\");\n        if (null === a) throw new TypeError(\"xmlElement had no op attribute\");\n        this.updateType_(a);\n      }\n    },\n    LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math = function () {\n      this.getField(\"OP\").setValidator(function (a) {\n        this.updateType_(a);\n      }.bind(this));\n    };\n  $.registerMutator$$module$build$src$core$extensions(\"math_modes_of_list_mutator\", LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math, LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math);\n  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$math);\n  var module$build$src$blocks$math = {};\n  module$build$src$blocks$math.blocks = blocks$$module$build$src$blocks$math;\n  var module$exports$Blockly$libraryBlocks$procedures = {},\n    module$contents$Blockly$libraryBlocks$procedures_ContextMenu = $.module$build$src$core$contextmenu,\n    module$contents$Blockly$libraryBlocks$procedures_Events = $.module$build$src$core$events$events,\n    module$contents$Blockly$libraryBlocks$procedures_Procedures = $.module$build$src$core$procedures,\n    module$contents$Blockly$libraryBlocks$procedures_Variables = $.module$build$src$core$variables,\n    module$contents$Blockly$libraryBlocks$procedures_Xml = $.module$build$src$core$xml,\n    module$contents$Blockly$libraryBlocks$procedures_fieldRegistry = $.module$build$src$core$field_registry,\n    module$contents$Blockly$libraryBlocks$procedures_xmlUtils = $.module$build$src$core$utils$xml,\n    module$contents$Blockly$libraryBlocks$procedures_Align = $.Align$$module$build$src$core$input,\n    module$contents$Blockly$libraryBlocks$procedures_BlockDefinition = Object,\n    module$contents$Blockly$libraryBlocks$procedures_config = $.config$$module$build$src$core$config,\n    module$contents$Blockly$libraryBlocks$procedures_Msg = $.module$build$src$core$msg.Msg,\n    module$contents$Blockly$libraryBlocks$procedures_Mutator = $.Mutator$$module$build$src$core$mutator,\n    module$contents$Blockly$libraryBlocks$procedures_Names = $.module$build$src$core$names.Names,\n    module$contents$Blockly$libraryBlocks$procedures_defineBlocks = $.module$build$src$core$common.defineBlocks;\n  module$exports$Blockly$libraryBlocks$procedures.blocks = {};\n  var module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_DEF_COMMON = {\n    setStatements_: function (a) {\n      this.hasStatements_ !== a && (a ? (this.appendStatementInput(\"STACK\").appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFNORETURN_DO), this.getInput(\"RETURN\") && this.moveInputBefore(\"STACK\", \"RETURN\")) : this.removeInput(\"STACK\", !0), this.hasStatements_ = a);\n    },\n    updateParams_: function () {\n      let a = \"\";\n      this.arguments_.length && (a = module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_BEFORE_PARAMS + \" \" + this.arguments_.join(\", \"));\n      $.module$build$src$core$events$events.disable();\n      try {\n        this.setFieldValue(a, \"PARAMS\");\n      } finally {\n        $.module$build$src$core$events$events.enable();\n      }\n    },\n    mutationToDom: function (a) {\n      const b = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      a && b.setAttribute(\"name\", this.getFieldValue(\"NAME\"));\n      for (let c = 0; c < this.argumentVarModels_.length; c++) {\n        const d = $.module$build$src$core$utils$xml.createElement(\"arg\"),\n          e = this.argumentVarModels_[c];\n        d.setAttribute(\"name\", e.name);\n        d.setAttribute(\"varid\", e.getId());\n        a && this.paramIds_ && d.setAttribute(\"paramId\", this.paramIds_[c]);\n        b.appendChild(d);\n      }\n      this.hasStatements_ || b.setAttribute(\"statements\", \"false\");\n      return b;\n    },\n    domToMutation: function (a) {\n      this.arguments_ = [];\n      this.argumentVarModels_ = [];\n      for (let c = 0, d; d = a.childNodes[c]; c++) if (\"arg\" === d.nodeName.toLowerCase()) {\n        const e = d.getAttribute(\"name\");\n        var b = d.getAttribute(\"varid\") || d.getAttribute(\"varId\");\n        this.arguments_.push(e);\n        b = $.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace, b, e, \"\");\n        null !== b ? this.argumentVarModels_.push(b) : console.log(`Failed to create a variable named \"${e}\", ignoring.`);\n      }\n      this.updateParams_();\n      $.module$build$src$core$procedures.mutateCallers(this);\n      this.setStatements_(\"false\" !== a.getAttribute(\"statements\"));\n    },\n    saveExtraState: function () {\n      if (!this.argumentVarModels_.length && this.hasStatements_) return null;\n      const a = Object.create(null);\n      if (this.argumentVarModels_.length) {\n        a.params = [];\n        for (let b = 0; b < this.argumentVarModels_.length; b++) a.params.push({\n          name: this.argumentVarModels_[b].name,\n          id: this.argumentVarModels_[b].getId()\n        });\n      }\n      this.hasStatements_ || (a.hasStatements = !1);\n      return a;\n    },\n    loadExtraState: function (a) {\n      this.arguments_ = [];\n      this.argumentVarModels_ = [];\n      if (a.params) for (let c = 0; c < a.params.length; c++) {\n        var b = a.params[c];\n        b = $.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace, b.id, b.name, \"\");\n        this.arguments_.push(b.name);\n        this.argumentVarModels_.push(b);\n      }\n      this.updateParams_();\n      $.module$build$src$core$procedures.mutateCallers(this);\n      this.setStatements_(!1 === a.hasStatements ? !1 : !0);\n    },\n    decompose: function (a) {\n      const b = $.module$build$src$core$utils$xml.createElement(\"block\");\n      b.setAttribute(\"type\", \"procedures_mutatorcontainer\");\n      var c = $.module$build$src$core$utils$xml.createElement(\"statement\");\n      c.setAttribute(\"name\", \"STACK\");\n      b.appendChild(c);\n      for (let e = 0; e < this.arguments_.length; e++) {\n        const f = $.module$build$src$core$utils$xml.createElement(\"block\");\n        f.setAttribute(\"type\", \"procedures_mutatorarg\");\n        var d = $.module$build$src$core$utils$xml.createElement(\"field\");\n        d.setAttribute(\"name\", \"NAME\");\n        const g = $.module$build$src$core$utils$xml.createTextNode(this.arguments_[e]);\n        d.appendChild(g);\n        f.appendChild(d);\n        d = $.module$build$src$core$utils$xml.createElement(\"next\");\n        f.appendChild(d);\n        c.appendChild(f);\n        c = d;\n      }\n      a = $.module$build$src$core$xml.domToBlock(b, a);\n      \"procedures_defreturn\" === this.type ? a.setFieldValue(this.hasStatements_, \"STATEMENTS\") : a.removeInput(\"STATEMENT_INPUT\");\n      $.module$build$src$core$procedures.mutateCallers(this);\n      return a;\n    },\n    compose: function (a) {\n      this.arguments_ = [];\n      this.paramIds_ = [];\n      this.argumentVarModels_ = [];\n      let b = a.getInputTargetBlock(\"STACK\");\n      for (; b && !b.isInsertionMarker();) {\n        var c = b.getFieldValue(\"NAME\");\n        this.arguments_.push(c);\n        c = this.workspace.getVariable(c, \"\");\n        this.argumentVarModels_.push(c);\n        this.paramIds_.push(b.id);\n        b = b.nextConnection && b.nextConnection.targetBlock();\n      }\n      this.updateParams_();\n      $.module$build$src$core$procedures.mutateCallers(this);\n      a = a.getFieldValue(\"STATEMENTS\");\n      if (null !== a && (a = \"TRUE\" === a, this.hasStatements_ !== a)) if (a) this.setStatements_(!0), $.Mutator$$module$build$src$core$mutator.reconnect(this.statementConnection_, this, \"STACK\"), this.statementConnection_ = null;else {\n        a = this.getInput(\"STACK\").connection;\n        if (this.statementConnection_ = a.targetConnection) a = a.targetBlock(), a.unplug(), a.bumpNeighbours();\n        this.setStatements_(!1);\n      }\n    },\n    getVars: function () {\n      return this.arguments_;\n    },\n    getVarModels: function () {\n      return this.argumentVarModels_;\n    },\n    renameVarById: function (a, b) {\n      var c = this.workspace.getVariableById(a);\n      if (\"\" === c.type) {\n        c = c.name;\n        b = this.workspace.getVariableById(b);\n        var d = !1;\n        for (let e = 0; e < this.argumentVarModels_.length; e++) this.argumentVarModels_[e].getId() === a && (this.arguments_[e] = b.name, this.argumentVarModels_[e] = b, d = !0);\n        d && (this.displayRenamedVar_(c, b.name), $.module$build$src$core$procedures.mutateCallers(this));\n      }\n    },\n    updateVarName: function (a) {\n      const b = a.name;\n      let c = !1,\n        d;\n      for (let e = 0; e < this.argumentVarModels_.length; e++) this.argumentVarModels_[e].getId() === a.getId() && (d = this.arguments_[e], this.arguments_[e] = b, c = !0);\n      c && (this.displayRenamedVar_(d, b), $.module$build$src$core$procedures.mutateCallers(this));\n    },\n    displayRenamedVar_: function (a, b) {\n      this.updateParams_();\n      if (this.mutator && this.mutator.isVisible()) {\n        const c = this.mutator.workspace_.getAllBlocks(!1);\n        for (let d = 0, e; e = c[d]; d++) \"procedures_mutatorarg\" === e.type && $.module$build$src$core$names.Names.equals(a, e.getFieldValue(\"NAME\")) && e.setFieldValue(b, \"NAME\");\n      }\n    },\n    customContextMenu: function (a) {\n      if (!this.isInFlyout) {\n        var b = {\n            enabled: !0\n          },\n          c = this.getFieldValue(\"NAME\");\n        b.text = module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_CREATE_DO.replace(\"%1\", c);\n        var d = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n        d.setAttribute(\"name\", c);\n        for (c = 0; c < this.arguments_.length; c++) {\n          var e = $.module$build$src$core$utils$xml.createElement(\"arg\");\n          e.setAttribute(\"name\", this.arguments_[c]);\n          d.appendChild(e);\n        }\n        c = $.module$build$src$core$utils$xml.createElement(\"block\");\n        c.setAttribute(\"type\", this.callType_);\n        c.appendChild(d);\n        b.callback = $.module$build$src$core$contextmenu.callbackFactory(this, c);\n        a.push(b);\n        if (!this.isCollapsed()) for (b = 0; b < this.argumentVarModels_.length; b++) d = {\n          enabled: !0\n        }, c = this.argumentVarModels_[b], d.text = module$contents$Blockly$libraryBlocks$procedures_Msg.VARIABLES_SET_CREATE_GET.replace(\"%1\", c.name), c = $.module$build$src$core$variables.generateVariableFieldDom(c), e = $.module$build$src$core$utils$xml.createElement(\"block\"), e.setAttribute(\"type\", \"variables_get\"), e.appendChild(c), d.callback = $.module$build$src$core$contextmenu.callbackFactory(this, e), a.push(d);\n      }\n    }\n  };\n  module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_defnoreturn = Object.assign({}, module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_DEF_COMMON, {\n    init: function () {\n      var a = $.module$build$src$core$procedures.findLegalName(\"\", this);\n      a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_input\",\n        text: a\n      });\n      a.setValidator($.module$build$src$core$procedures.rename);\n      a.setSpellcheck(!1);\n      this.appendDummyInput().appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a, \"NAME\").appendField(\"\", \"PARAMS\");\n      this.setMutator(new $.Mutator$$module$build$src$core$mutator([\"procedures_mutatorarg\"], this));\n      (this.workspace.options.comments || this.workspace.options.parentWorkspace && this.workspace.options.parentWorkspace.options.comments) && module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFNORETURN_COMMENT && this.setCommentText(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFNORETURN_COMMENT);\n      this.setStyle(\"procedure_blocks\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFNORETURN_TOOLTIP);\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFNORETURN_HELPURL);\n      this.arguments_ = [];\n      this.argumentVarModels_ = [];\n      this.setStatements_(!0);\n      this.statementConnection_ = null;\n    },\n    getProcedureDef: function () {\n      return [this.getFieldValue(\"NAME\"), this.arguments_, !1];\n    },\n    callType_: \"procedures_callnoreturn\"\n  });\n  module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_defreturn = Object.assign({}, module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_DEF_COMMON, {\n    init: function () {\n      var a = $.module$build$src$core$procedures.findLegalName(\"\", this);\n      a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_input\",\n        text: a\n      });\n      a.setValidator($.module$build$src$core$procedures.rename);\n      a.setSpellcheck(!1);\n      this.appendDummyInput().appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_TITLE).appendField(a, \"NAME\").appendField(\"\", \"PARAMS\");\n      this.appendValueInput(\"RETURN\").setAlign($.Align$$module$build$src$core$input.RIGHT).appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_RETURN);\n      this.setMutator(new $.Mutator$$module$build$src$core$mutator([\"procedures_mutatorarg\"], this));\n      (this.workspace.options.comments || this.workspace.options.parentWorkspace && this.workspace.options.parentWorkspace.options.comments) && module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_COMMENT && this.setCommentText(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_COMMENT);\n      this.setStyle(\"procedure_blocks\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_TOOLTIP);\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_HELPURL);\n      this.arguments_ = [];\n      this.argumentVarModels_ = [];\n      this.setStatements_(!0);\n      this.statementConnection_ = null;\n    },\n    getProcedureDef: function () {\n      return [this.getFieldValue(\"NAME\"), this.arguments_, !0];\n    },\n    callType_: \"procedures_callreturn\"\n  });\n  module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_mutatorcontainer = {\n    init: function () {\n      this.appendDummyInput().appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_MUTATORCONTAINER_TITLE);\n      this.appendStatementInput(\"STACK\");\n      this.appendDummyInput(\"STATEMENT_INPUT\").appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_ALLOW_STATEMENTS).appendField($.module$build$src$core$field_registry.fromJson({\n        type: \"field_checkbox\",\n        checked: !0\n      }), \"STATEMENTS\");\n      this.setStyle(\"procedure_blocks\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);\n      this.contextMenu = !1;\n    }\n  };\n  module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_mutatorarg = {\n    init: function () {\n      const a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_input\",\n        text: $.module$build$src$core$procedures.DEFAULT_ARG\n      });\n      a.setValidator(this.validator_);\n      a.oldShowEditorFn_ = a.showEditor_;\n      a.showEditor_ = function () {\n        this.createdVariables_ = [];\n        this.oldShowEditorFn_();\n      };\n      this.appendDummyInput().appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_MUTATORARG_TITLE).appendField(a, \"NAME\");\n      this.setPreviousStatement(!0);\n      this.setNextStatement(!0);\n      this.setStyle(\"procedure_blocks\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_MUTATORARG_TOOLTIP);\n      this.contextMenu = !1;\n      a.onFinishEditing_ = this.deleteIntermediateVars_;\n      a.createdVariables_ = [];\n      a.onFinishEditing_(\"x\");\n    },\n    validator_: function (a) {\n      var b = this.getSourceBlock();\n      const c = $.Mutator$$module$build$src$core$mutator.findParentWs(b.workspace);\n      a = a.replace(/[\\s\\xa0]+/g, \" \").replace(/^ | $/g, \"\");\n      if (!a) return null;\n      const d = (b.workspace.targetWorkspace || b.workspace).getAllBlocks(!1),\n        e = a.toLowerCase();\n      for (let f = 0; f < d.length; f++) {\n        if (d[f].id === this.getSourceBlock().id) continue;\n        const g = d[f].getFieldValue(\"NAME\");\n        if (g && g.toLowerCase() === e) return null;\n      }\n      if (b.isInFlyout) return a;\n      (b = c.getVariable(a, \"\")) && b.name !== a && c.renameVariableById(b.getId(), a);\n      b || (b = c.createVariable(a, \"\")) && this.createdVariables_ && this.createdVariables_.push(b);\n      return a;\n    },\n    deleteIntermediateVars_: function (a) {\n      const b = $.Mutator$$module$build$src$core$mutator.findParentWs(this.getSourceBlock().workspace);\n      if (b) for (let c = 0; c < this.createdVariables_.length; c++) {\n        const d = this.createdVariables_[c];\n        d.name !== a && b.deleteVariableById(d.getId());\n      }\n    }\n  };\n  var module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_CALL_COMMON = {\n    getProcedureCall: function () {\n      return this.getFieldValue(\"NAME\");\n    },\n    renameProcedure: function (a, b) {\n      $.module$build$src$core$names.Names.equals(a, this.getProcedureCall()) && (this.setFieldValue(b, \"NAME\"), this.setTooltip((this.outputConnection ? module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_CALLRETURN_TOOLTIP : module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace(\"%1\", b)));\n    },\n    setProcedureParameters_: function (a, b) {\n      var c = $.module$build$src$core$procedures.getDefinition(this.getProcedureCall(), this.workspace),\n        d = c && c.mutator && c.mutator.isVisible();\n      d ? this.setCollapsed(!1) : (this.quarkConnections_ = {}, this.quarkIds_ = null);\n      if (a.join(\"\\n\") === this.arguments_.join(\"\\n\")) this.quarkIds_ = b;else {\n        if (b.length !== a.length) throw RangeError(\"paramNames and paramIds must be the same length.\");\n        this.quarkIds_ || (this.quarkConnections_ = {}, this.quarkIds_ = []);\n        c = this.rendered;\n        this.rendered = !1;\n        for (let f = 0; f < this.arguments_.length; f++) {\n          var e = this.getInput(\"ARG\" + f);\n          e && (e = e.connection.targetConnection, this.quarkConnections_[this.quarkIds_[f]] = e, d && e && -1 === b.indexOf(this.quarkIds_[f]) && (e.disconnect(), e.getSourceBlock().bumpNeighbours()));\n        }\n        this.arguments_ = [].concat(a);\n        this.argumentVarModels_ = [];\n        for (a = 0; a < this.arguments_.length; a++) d = $.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace, null, this.arguments_[a], \"\"), this.argumentVarModels_.push(d);\n        this.updateShape_();\n        if (this.quarkIds_ = b) for (b = 0; b < this.arguments_.length; b++) a = this.quarkIds_[b], a in this.quarkConnections_ && ($.Mutator$$module$build$src$core$mutator.reconnect(this.quarkConnections_[a], this, \"ARG\" + b) || delete this.quarkConnections_[a]);\n        (this.rendered = c) && this.render();\n      }\n    },\n    updateShape_: function () {\n      for (var a = 0; a < this.arguments_.length; a++) {\n        var b = this.getField(\"ARGNAME\" + a);\n        if (b) {\n          $.module$build$src$core$events$events.disable();\n          try {\n            b.setValue(this.arguments_[a]);\n          } finally {\n            $.module$build$src$core$events$events.enable();\n          }\n        } else b = $.module$build$src$core$field_registry.fromJson({\n          type: \"field_label\",\n          text: this.arguments_[a]\n        }), this.appendValueInput(\"ARG\" + a).setAlign($.Align$$module$build$src$core$input.RIGHT).appendField(b, \"ARGNAME\" + a).init();\n      }\n      for (a = this.arguments_.length; this.getInput(\"ARG\" + a); a++) this.removeInput(\"ARG\" + a);\n      if (a = this.getInput(\"TOPROW\")) this.arguments_.length ? this.getField(\"WITH\") || (a.appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_CALL_BEFORE_PARAMS, \"WITH\"), a.init()) : this.getField(\"WITH\") && a.removeField(\"WITH\");\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      a.setAttribute(\"name\", this.getProcedureCall());\n      for (let b = 0; b < this.arguments_.length; b++) {\n        const c = $.module$build$src$core$utils$xml.createElement(\"arg\");\n        c.setAttribute(\"name\", this.arguments_[b]);\n        a.appendChild(c);\n      }\n      return a;\n    },\n    domToMutation: function (a) {\n      var b = a.getAttribute(\"name\");\n      this.renameProcedure(this.getProcedureCall(), b);\n      b = [];\n      const c = [];\n      for (let d = 0, e; e = a.childNodes[d]; d++) \"arg\" === e.nodeName.toLowerCase() && (b.push(e.getAttribute(\"name\")), c.push(e.getAttribute(\"paramId\")));\n      this.setProcedureParameters_(b, c);\n    },\n    saveExtraState: function () {\n      const a = Object.create(null);\n      a.name = this.getProcedureCall();\n      this.arguments_.length && (a.params = this.arguments_);\n      return a;\n    },\n    loadExtraState: function (a) {\n      this.renameProcedure(this.getProcedureCall(), a.name);\n      if (a = a.params) {\n        const b = [];\n        b.length = a.length;\n        b.fill(null);\n        this.setProcedureParameters_(a, b);\n      }\n    },\n    getVars: function () {\n      return this.arguments_;\n    },\n    getVarModels: function () {\n      return this.argumentVarModels_;\n    },\n    onchange: function (a) {\n      if (this.workspace && !this.workspace.isFlyout && a.recordUndo) if (a.type === $.module$build$src$core$events$events.BLOCK_CREATE && -1 !== a.ids.indexOf(this.id)) {\n        var b = this.getProcedureCall();\n        b = $.module$build$src$core$procedures.getDefinition(b, this.workspace);\n        !b || b.type === this.defType_ && JSON.stringify(b.getVars()) === JSON.stringify(this.arguments_) || (b = null);\n        if (!b) {\n          $.module$build$src$core$events$events.setGroup(a.group);\n          a = $.module$build$src$core$utils$xml.createElement(\"xml\");\n          b = $.module$build$src$core$utils$xml.createElement(\"block\");\n          b.setAttribute(\"type\", this.defType_);\n          var c = this.getRelativeToSurfaceXY(),\n            d = c.y + 2 * $.config$$module$build$src$core$config.snapRadius;\n          b.setAttribute(\"x\", c.x + $.config$$module$build$src$core$config.snapRadius * (this.RTL ? -1 : 1));\n          b.setAttribute(\"y\", d);\n          c = this.mutationToDom();\n          b.appendChild(c);\n          c = $.module$build$src$core$utils$xml.createElement(\"field\");\n          c.setAttribute(\"name\", \"NAME\");\n          d = this.getProcedureCall();\n          const e = $.module$build$src$core$procedures.findLegalName(d, this);\n          d !== e && this.renameProcedure(d, e);\n          c.appendChild($.module$build$src$core$utils$xml.createTextNode(d));\n          b.appendChild(c);\n          a.appendChild(b);\n          $.module$build$src$core$xml.domToWorkspace(a, this.workspace);\n          $.module$build$src$core$events$events.setGroup(!1);\n        }\n      } else a.type === $.module$build$src$core$events$events.BLOCK_DELETE ? (b = this.getProcedureCall(), $.module$build$src$core$procedures.getDefinition(b, this.workspace) || ($.module$build$src$core$events$events.setGroup(a.group), this.dispose(!0), $.module$build$src$core$events$events.setGroup(!1))) : a.type === $.module$build$src$core$events$events.CHANGE && \"disabled\" === a.element && (b = this.getProcedureCall(), (b = $.module$build$src$core$procedures.getDefinition(b, this.workspace)) && b.id === a.blockId && ((b = $.module$build$src$core$events$events.getGroup()) && console.log(\"Saw an existing group while responding to a definition change\"), $.module$build$src$core$events$events.setGroup(a.group), a.newValue ? (this.previousEnabledState_ = this.isEnabled(), this.setEnabled(!1)) : this.setEnabled(this.previousEnabledState_), $.module$build$src$core$events$events.setGroup(b)));\n    },\n    customContextMenu: function (a) {\n      if (this.workspace.isMovable()) {\n        var b = {\n          enabled: !0\n        };\n        b.text = module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_HIGHLIGHT_DEF;\n        var c = this.getProcedureCall(),\n          d = this.workspace;\n        b.callback = function () {\n          const e = $.module$build$src$core$procedures.getDefinition(c, d);\n          e && (d.centerOnBlock(e.id), e.select());\n        };\n        a.push(b);\n      }\n    }\n  };\n  module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_callnoreturn = Object.assign({}, module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_CALL_COMMON, {\n    init: function () {\n      this.appendDummyInput(\"TOPROW\").appendField(\"\", \"NAME\");\n      this.setPreviousStatement(!0);\n      this.setNextStatement(!0);\n      this.setStyle(\"procedure_blocks\");\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_CALLNORETURN_HELPURL);\n      this.arguments_ = [];\n      this.argumentVarModels_ = [];\n      this.quarkConnections_ = {};\n      this.quarkIds_ = null;\n      this.previousEnabledState_ = !0;\n    },\n    defType_: \"procedures_defnoreturn\"\n  });\n  module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_callreturn = Object.assign({}, module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_CALL_COMMON, {\n    init: function () {\n      this.appendDummyInput(\"TOPROW\").appendField(\"\", \"NAME\");\n      this.setOutput(!0);\n      this.setStyle(\"procedure_blocks\");\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_CALLRETURN_HELPURL);\n      this.arguments_ = [];\n      this.argumentVarModels_ = [];\n      this.quarkConnections_ = {};\n      this.quarkIds_ = null;\n      this.previousEnabledState_ = !0;\n    },\n    defType_: \"procedures_defreturn\"\n  });\n  module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_ifreturn = {\n    init: function () {\n      this.appendValueInput(\"CONDITION\").setCheck(\"Boolean\").appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.CONTROLS_IF_MSG_IF);\n      this.appendValueInput(\"VALUE\").appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_RETURN);\n      this.setInputsInline(!0);\n      this.setPreviousStatement(!0);\n      this.setNextStatement(!0);\n      this.setStyle(\"procedure_blocks\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_IFRETURN_TOOLTIP);\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_IFRETURN_HELPURL);\n      this.hasReturnValue_ = !0;\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      a.setAttribute(\"value\", Number(this.hasReturnValue_));\n      return a;\n    },\n    domToMutation: function (a) {\n      this.hasReturnValue_ = \"1\" === a.getAttribute(\"value\");\n      this.hasReturnValue_ || (this.removeInput(\"VALUE\"), this.appendDummyInput(\"VALUE\").appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_RETURN));\n    },\n    onchange: function (a) {\n      if (!(this.workspace.isDragging && this.workspace.isDragging() || a.type !== $.module$build$src$core$events$events.BLOCK_MOVE)) {\n        var b = !1,\n          c = this;\n        do {\n          if (-1 !== this.FUNCTION_TYPES.indexOf(c.type)) {\n            b = !0;\n            break;\n          }\n          c = c.getSurroundParent();\n        } while (c);\n        b ? (\"procedures_defnoreturn\" === c.type && this.hasReturnValue_ ? (this.removeInput(\"VALUE\"), this.appendDummyInput(\"VALUE\").appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_RETURN), this.hasReturnValue_ = !1) : \"procedures_defreturn\" !== c.type || this.hasReturnValue_ || (this.removeInput(\"VALUE\"), this.appendValueInput(\"VALUE\").appendField(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_DEFRETURN_RETURN), this.hasReturnValue_ = !0), this.setWarningText(null)) : this.setWarningText(module$contents$Blockly$libraryBlocks$procedures_Msg.PROCEDURES_IFRETURN_WARNING);\n        this.isInFlyout || (c = $.module$build$src$core$events$events.getGroup(), $.module$build$src$core$events$events.setGroup(a.group), this.setEnabled(b), $.module$build$src$core$events$events.setGroup(c));\n      }\n    },\n    FUNCTION_TYPES: [\"procedures_defnoreturn\", \"procedures_defreturn\"]\n  };\n  module$contents$Blockly$libraryBlocks$procedures_defineBlocks(module$exports$Blockly$libraryBlocks$procedures.blocks);\n  var module$exports$Blockly$libraryBlocks$texts = {},\n    module$contents$Blockly$libraryBlocks$texts_Extensions = $.module$build$src$core$extensions,\n    module$contents$Blockly$libraryBlocks$texts_Msg = $.module$build$src$core$msg.Msg,\n    module$contents$Blockly$libraryBlocks$texts_fieldRegistry = $.module$build$src$core$field_registry,\n    module$contents$Blockly$libraryBlocks$texts_xmlUtils = $.module$build$src$core$utils$xml,\n    module$contents$Blockly$libraryBlocks$texts_Align = $.Align$$module$build$src$core$input,\n    module$contents$Blockly$libraryBlocks$texts_BlockDefinition = Object,\n    module$contents$Blockly$libraryBlocks$texts_ConnectionType = $.module$build$src$core$connection_type.ConnectionType,\n    module$contents$Blockly$libraryBlocks$texts_Mutator = $.Mutator$$module$build$src$core$mutator,\n    module$contents$Blockly$libraryBlocks$texts_createBlockDefinitionsFromJsonArray = $.module$build$src$core$common.createBlockDefinitionsFromJsonArray,\n    module$contents$Blockly$libraryBlocks$texts_defineBlocks = $.module$build$src$core$common.defineBlocks;\n  module$exports$Blockly$libraryBlocks$texts.blocks = module$contents$Blockly$libraryBlocks$texts_createBlockDefinitionsFromJsonArray([{\n    type: \"text\",\n    message0: \"%1\",\n    args0: [{\n      type: \"field_input\",\n      name: \"TEXT\",\n      text: \"\"\n    }],\n    output: \"String\",\n    style: \"text_blocks\",\n    helpUrl: \"%{BKY_TEXT_TEXT_HELPURL}\",\n    tooltip: \"%{BKY_TEXT_TEXT_TOOLTIP}\",\n    extensions: [\"text_quotes\", \"parent_tooltip_when_inline\"]\n  }, {\n    type: \"text_multiline\",\n    message0: \"%1 %2\",\n    args0: [{\n      type: \"field_image\",\n      src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=\",\n      width: 12,\n      height: 17,\n      alt: \"\\u00b6\"\n    }, {\n      type: \"field_multilinetext\",\n      name: \"TEXT\",\n      text: \"\"\n    }],\n    output: \"String\",\n    style: \"text_blocks\",\n    helpUrl: \"%{BKY_TEXT_TEXT_HELPURL}\",\n    tooltip: \"%{BKY_TEXT_TEXT_TOOLTIP}\",\n    extensions: [\"parent_tooltip_when_inline\"]\n  }, {\n    type: \"text_join\",\n    message0: \"\",\n    output: \"String\",\n    style: \"text_blocks\",\n    helpUrl: \"%{BKY_TEXT_JOIN_HELPURL}\",\n    tooltip: \"%{BKY_TEXT_JOIN_TOOLTIP}\",\n    mutator: \"text_join_mutator\"\n  }, {\n    type: \"text_create_join_container\",\n    message0: \"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2\",\n    args0: [{\n      type: \"input_dummy\"\n    }, {\n      type: \"input_statement\",\n      name: \"STACK\"\n    }],\n    style: \"text_blocks\",\n    tooltip: \"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}\",\n    enableContextMenu: !1\n  }, {\n    type: \"text_create_join_item\",\n    message0: \"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"text_blocks\",\n    tooltip: \"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}\",\n    enableContextMenu: !1\n  }, {\n    type: \"text_append\",\n    message0: \"%{BKY_TEXT_APPEND_TITLE}\",\n    args0: [{\n      type: \"field_variable\",\n      name: \"VAR\",\n      variable: \"%{BKY_TEXT_APPEND_VARIABLE}\"\n    }, {\n      type: \"input_value\",\n      name: \"TEXT\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"text_blocks\",\n    extensions: [\"text_append_tooltip\"]\n  }, {\n    type: \"text_length\",\n    message0: \"%{BKY_TEXT_LENGTH_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"VALUE\",\n      check: [\"String\", \"Array\"]\n    }],\n    output: \"Number\",\n    style: \"text_blocks\",\n    tooltip: \"%{BKY_TEXT_LENGTH_TOOLTIP}\",\n    helpUrl: \"%{BKY_TEXT_LENGTH_HELPURL}\"\n  }, {\n    type: \"text_isEmpty\",\n    message0: \"%{BKY_TEXT_ISEMPTY_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"VALUE\",\n      check: [\"String\", \"Array\"]\n    }],\n    output: \"Boolean\",\n    style: \"text_blocks\",\n    tooltip: \"%{BKY_TEXT_ISEMPTY_TOOLTIP}\",\n    helpUrl: \"%{BKY_TEXT_ISEMPTY_HELPURL}\"\n  }, {\n    type: \"text_indexOf\",\n    message0: \"%{BKY_TEXT_INDEXOF_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"VALUE\",\n      check: \"String\"\n    }, {\n      type: \"field_dropdown\",\n      name: \"END\",\n      options: [[\"%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}\", \"FIRST\"], [\"%{BKY_TEXT_INDEXOF_OPERATOR_LAST}\", \"LAST\"]]\n    }, {\n      type: \"input_value\",\n      name: \"FIND\",\n      check: \"String\"\n    }],\n    output: \"Number\",\n    style: \"text_blocks\",\n    helpUrl: \"%{BKY_TEXT_INDEXOF_HELPURL}\",\n    inputsInline: !0,\n    extensions: [\"text_indexOf_tooltip\"]\n  }, {\n    type: \"text_charAt\",\n    message0: \"%{BKY_TEXT_CHARAT_TITLE}\",\n    args0: [{\n      type: \"input_value\",\n      name: \"VALUE\",\n      check: \"String\"\n    }, {\n      type: \"field_dropdown\",\n      name: \"WHERE\",\n      options: [[\"%{BKY_TEXT_CHARAT_FROM_START}\", \"FROM_START\"], [\"%{BKY_TEXT_CHARAT_FROM_END}\", \"FROM_END\"], [\"%{BKY_TEXT_CHARAT_FIRST}\", \"FIRST\"], [\"%{BKY_TEXT_CHARAT_LAST}\", \"LAST\"], [\"%{BKY_TEXT_CHARAT_RANDOM}\", \"RANDOM\"]]\n    }],\n    output: \"String\",\n    style: \"text_blocks\",\n    helpUrl: \"%{BKY_TEXT_CHARAT_HELPURL}\",\n    inputsInline: !0,\n    mutator: \"text_charAt_mutator\"\n  }]);\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_getSubstring = {\n    init: function () {\n      this.WHERE_OPTIONS_1 = [[module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_START_FROM_START, \"FROM_START\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_START_FROM_END, \"FROM_END\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_START_FIRST, \"FIRST\"]];\n      this.WHERE_OPTIONS_2 = [[module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_END_FROM_START, \"FROM_START\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_END_FROM_END, \"FROM_END\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_END_LAST, \"LAST\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_HELPURL);\n      this.setStyle(\"text_blocks\");\n      this.appendValueInput(\"STRING\").setCheck(\"String\").appendField(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);\n      this.appendDummyInput(\"AT1\");\n      this.appendDummyInput(\"AT2\");\n      module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_TAIL && this.appendDummyInput(\"TAIL\").appendField(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_TAIL);\n      this.setInputsInline(!0);\n      this.setOutput(!0, \"String\");\n      this.updateAt_(1, !0);\n      this.updateAt_(2, !0);\n      this.setTooltip(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_TOOLTIP);\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      var b = this.getInput(\"AT1\").type === $.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;\n      a.setAttribute(\"at1\", b);\n      b = this.getInput(\"AT2\").type === $.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;\n      a.setAttribute(\"at2\", b);\n      return a;\n    },\n    domToMutation: function (a) {\n      const b = \"true\" === a.getAttribute(\"at1\");\n      a = \"true\" === a.getAttribute(\"at2\");\n      this.updateAt_(1, b);\n      this.updateAt_(2, a);\n    },\n    updateAt_: function (a, b) {\n      this.removeInput(\"AT\" + a);\n      this.removeInput(\"ORDINAL\" + a, !0);\n      b ? (this.appendValueInput(\"AT\" + a).setCheck(\"Number\"), module$contents$Blockly$libraryBlocks$texts_Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput(\"ORDINAL\" + a).appendField(module$contents$Blockly$libraryBlocks$texts_Msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput(\"AT\" + a);\n      2 === a && module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_TAIL && (this.removeInput(\"TAIL\", !0), this.appendDummyInput(\"TAIL\").appendField(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_GET_SUBSTRING_TAIL));\n      const c = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: this[\"WHERE_OPTIONS_\" + a]\n      });\n      c.setValidator(function (d) {\n        const e = \"FROM_START\" === d || \"FROM_END\" === d;\n        if (e !== b) {\n          const f = this.getSourceBlock();\n          f.updateAt_(a, e);\n          f.setFieldValue(d, \"WHERE\" + a);\n          return null;\n        }\n      });\n      this.getInput(\"AT\" + a).appendField(c, \"WHERE\" + a);\n      1 === a && (this.moveInputBefore(\"AT1\", \"AT2\"), this.getInput(\"ORDINAL1\") && this.moveInputBefore(\"ORDINAL1\", \"AT2\"));\n    }\n  };\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_changeCase = {\n    init: function () {\n      const a = [[module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE, \"UPPERCASE\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE, \"LOWERCASE\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE, \"TITLECASE\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHANGECASE_HELPURL);\n      this.setStyle(\"text_blocks\");\n      this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: a\n      }), \"CASE\");\n      this.setOutput(!0, \"String\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHANGECASE_TOOLTIP);\n    }\n  };\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_trim = {\n    init: function () {\n      const a = [[module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_TRIM_OPERATOR_BOTH, \"BOTH\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_TRIM_OPERATOR_LEFT, \"LEFT\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_TRIM_OPERATOR_RIGHT, \"RIGHT\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_TRIM_HELPURL);\n      this.setStyle(\"text_blocks\");\n      this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: a\n      }), \"MODE\");\n      this.setOutput(!0, \"String\");\n      this.setTooltip(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_TRIM_TOOLTIP);\n    }\n  };\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_print = {\n    init: function () {\n      this.jsonInit({\n        message0: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PRINT_TITLE,\n        args0: [{\n          type: \"input_value\",\n          name: \"TEXT\"\n        }],\n        previousStatement: null,\n        nextStatement: null,\n        style: \"text_blocks\",\n        tooltip: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PRINT_TOOLTIP,\n        helpUrl: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PRINT_HELPURL\n      });\n    }\n  };\n  var module$contents$Blockly$libraryBlocks$texts_TEXT_PROMPT_COMMON = {\n    updateType_: function (a) {\n      this.outputConnection.setCheck(\"NUMBER\" === a ? \"Number\" : \"String\");\n    },\n    mutationToDom: function () {\n      const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n      a.setAttribute(\"type\", this.getFieldValue(\"TYPE\"));\n      return a;\n    },\n    domToMutation: function (a) {\n      this.updateType_(a.getAttribute(\"type\"));\n    }\n  };\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_prompt_ext = Object.assign({}, module$contents$Blockly$libraryBlocks$texts_TEXT_PROMPT_COMMON, {\n    init: function () {\n      var a = [[module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TYPE_TEXT, \"TEXT\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TYPE_NUMBER, \"NUMBER\"]];\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_HELPURL);\n      this.setStyle(\"text_blocks\");\n      const b = this;\n      a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: a\n      });\n      a.setValidator(function (c) {\n        b.updateType_(c);\n      });\n      this.appendValueInput(\"TEXT\").appendField(a, \"TYPE\");\n      this.setOutput(!0, \"String\");\n      this.setTooltip(function () {\n        return \"TEXT\" === b.getFieldValue(\"TYPE\") ? module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TOOLTIP_TEXT : module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TOOLTIP_NUMBER;\n      });\n    }\n  });\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_prompt = Object.assign({}, module$contents$Blockly$libraryBlocks$texts_TEXT_PROMPT_COMMON, {\n    init: function () {\n      this.mixin(module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN);\n      var a = [[module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TYPE_TEXT, \"TEXT\"], [module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TYPE_NUMBER, \"NUMBER\"]];\n      const b = this;\n      this.setHelpUrl(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_HELPURL);\n      this.setStyle(\"text_blocks\");\n      a = $.module$build$src$core$field_registry.fromJson({\n        type: \"field_dropdown\",\n        options: a\n      });\n      a.setValidator(function (c) {\n        b.updateType_(c);\n      });\n      this.appendDummyInput().appendField(a, \"TYPE\").appendField(this.newQuote_(!0)).appendField($.module$build$src$core$field_registry.fromJson({\n        type: \"field_input\",\n        text: \"\"\n      }), \"TEXT\").appendField(this.newQuote_(!1));\n      this.setOutput(!0, \"String\");\n      this.setTooltip(function () {\n        return \"TEXT\" === b.getFieldValue(\"TYPE\") ? module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TOOLTIP_TEXT : module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_PROMPT_TOOLTIP_NUMBER;\n      });\n    }\n  });\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_count = {\n    init: function () {\n      this.jsonInit({\n        message0: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_COUNT_MESSAGE0,\n        args0: [{\n          type: \"input_value\",\n          name: \"SUB\",\n          check: \"String\"\n        }, {\n          type: \"input_value\",\n          name: \"TEXT\",\n          check: \"String\"\n        }],\n        output: \"Number\",\n        inputsInline: !0,\n        style: \"text_blocks\",\n        tooltip: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_COUNT_TOOLTIP,\n        helpUrl: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_COUNT_HELPURL\n      });\n    }\n  };\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_replace = {\n    init: function () {\n      this.jsonInit({\n        message0: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_REPLACE_MESSAGE0,\n        args0: [{\n          type: \"input_value\",\n          name: \"FROM\",\n          check: \"String\"\n        }, {\n          type: \"input_value\",\n          name: \"TO\",\n          check: \"String\"\n        }, {\n          type: \"input_value\",\n          name: \"TEXT\",\n          check: \"String\"\n        }],\n        output: \"String\",\n        inputsInline: !0,\n        style: \"text_blocks\",\n        tooltip: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_REPLACE_TOOLTIP,\n        helpUrl: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_REPLACE_HELPURL\n      });\n    }\n  };\n  module$exports$Blockly$libraryBlocks$texts.blocks.text_reverse = {\n    init: function () {\n      this.jsonInit({\n        message0: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_REVERSE_MESSAGE0,\n        args0: [{\n          type: \"input_value\",\n          name: \"TEXT\",\n          check: \"String\"\n        }],\n        output: \"String\",\n        inputsInline: !0,\n        style: \"text_blocks\",\n        tooltip: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_REVERSE_TOOLTIP,\n        helpUrl: module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_REVERSE_HELPURL\n      });\n    }\n  };\n  var module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN = {\n      QUOTE_IMAGE_LEFT_DATAURI: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC\",\n      QUOTE_IMAGE_RIGHT_DATAURI: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==\",\n      QUOTE_IMAGE_WIDTH: 12,\n      QUOTE_IMAGE_HEIGHT: 12,\n      quoteField_: function (a) {\n        for (let b = 0, c; c = this.inputList[b]; b++) for (let d = 0, e; e = c.fieldRow[d]; d++) if (a === e.name) {\n          c.insertFieldAt(d, this.newQuote_(!0));\n          c.insertFieldAt(d + 2, this.newQuote_(!1));\n          return;\n        }\n        console.warn('field named \"' + a + '\" not found in ' + this.toDevString());\n      },\n      newQuote_: function (a) {\n        a = this.RTL ? !a : a;\n        return $.module$build$src$core$field_registry.fromJson({\n          type: \"field_image\",\n          src: a ? this.QUOTE_IMAGE_LEFT_DATAURI : this.QUOTE_IMAGE_RIGHT_DATAURI,\n          width: this.QUOTE_IMAGE_WIDTH,\n          height: this.QUOTE_IMAGE_HEIGHT,\n          alt: a ? \"\\u201c\" : \"\\u201d\"\n        });\n      }\n    },\n    module$contents$Blockly$libraryBlocks$texts_TEXT_QUOTES_EXTENSION = function () {\n      this.mixin(module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN);\n      this.quoteField_(\"TEXT\");\n    },\n    module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_MUTATOR_MIXIN = {\n      mutationToDom: function () {\n        const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n        a.setAttribute(\"items\", this.itemCount_);\n        return a;\n      },\n      domToMutation: function (a) {\n        this.itemCount_ = parseInt(a.getAttribute(\"items\"), 10);\n        this.updateShape_();\n      },\n      saveExtraState: function () {\n        return {\n          itemCount: this.itemCount_\n        };\n      },\n      loadExtraState: function (a) {\n        this.itemCount_ = a.itemCount;\n        this.updateShape_();\n      },\n      decompose: function (a) {\n        const b = a.newBlock(\"text_create_join_container\");\n        b.initSvg();\n        let c = b.getInput(\"STACK\").connection;\n        for (let d = 0; d < this.itemCount_; d++) {\n          const e = a.newBlock(\"text_create_join_item\");\n          e.initSvg();\n          c.connect(e.previousConnection);\n          c = e.nextConnection;\n        }\n        return b;\n      },\n      compose: function (a) {\n        var b = a.getInputTargetBlock(\"STACK\");\n        for (a = []; b;) b.isInsertionMarker() || a.push(b.valueConnection_), b = b.getNextBlock();\n        for (b = 0; b < this.itemCount_; b++) {\n          const c = this.getInput(\"ADD\" + b).connection.targetConnection;\n          c && -1 === a.indexOf(c) && c.disconnect();\n        }\n        this.itemCount_ = a.length;\n        this.updateShape_();\n        for (b = 0; b < this.itemCount_; b++) $.Mutator$$module$build$src$core$mutator.reconnect(a[b], this, \"ADD\" + b);\n      },\n      saveConnections: function (a) {\n        a = a.getInputTargetBlock(\"STACK\");\n        let b = 0;\n        for (; a;) {\n          if (a.isInsertionMarker()) {\n            a = a.getNextBlock();\n            continue;\n          }\n          const c = this.getInput(\"ADD\" + b);\n          a.valueConnection_ = c && c.connection.targetConnection;\n          a = a.getNextBlock();\n          b++;\n        }\n      },\n      updateShape_: function () {\n        this.itemCount_ && this.getInput(\"EMPTY\") ? this.removeInput(\"EMPTY\") : this.itemCount_ || this.getInput(\"EMPTY\") || this.appendDummyInput(\"EMPTY\").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));\n        for (var a = 0; a < this.itemCount_; a++) if (!this.getInput(\"ADD\" + a)) {\n          const b = this.appendValueInput(\"ADD\" + a).setAlign($.Align$$module$build$src$core$input.RIGHT);\n          0 === a && b.appendField(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_JOIN_TITLE_CREATEWITH);\n        }\n        for (a = this.itemCount_; this.getInput(\"ADD\" + a); a++) this.removeInput(\"ADD\" + a);\n      }\n    },\n    module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_EXTENSION = function () {\n      this.mixin(module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN);\n      this.itemCount_ = 2;\n      this.updateShape_();\n      this.setMutator(new $.Mutator$$module$build$src$core$mutator([\"text_create_join_item\"], this));\n    };\n  $.module$build$src$core$extensions.register(\"text_append_tooltip\", $.module$build$src$core$extensions.buildTooltipWithFieldText(\"%{BKY_TEXT_APPEND_TOOLTIP}\", \"VAR\"));\n  var module$contents$Blockly$libraryBlocks$texts_TEXT_INDEXOF_TOOLTIP_EXTENSION = function () {\n      const a = this;\n      this.setTooltip(function () {\n        return module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_INDEXOF_TOOLTIP.replace(\"%1\", a.workspace.options.oneBasedIndex ? \"0\" : \"-1\");\n      });\n    },\n    module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_MUTATOR_MIXIN = {\n      mutationToDom: function () {\n        const a = $.module$build$src$core$utils$xml.createElement(\"mutation\");\n        a.setAttribute(\"at\", !!this.isAt_);\n        return a;\n      },\n      domToMutation: function (a) {\n        a = \"false\" !== a.getAttribute(\"at\");\n        this.updateAt_(a);\n      },\n      updateAt_: function (a) {\n        this.removeInput(\"AT\", !0);\n        this.removeInput(\"ORDINAL\", !0);\n        a && (this.appendValueInput(\"AT\").setCheck(\"Number\"), module$contents$Blockly$libraryBlocks$texts_Msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput(\"ORDINAL\").appendField(module$contents$Blockly$libraryBlocks$texts_Msg.ORDINAL_NUMBER_SUFFIX));\n        module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHARAT_TAIL && (this.removeInput(\"TAIL\", !0), this.appendDummyInput(\"TAIL\").appendField(module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHARAT_TAIL));\n        this.isAt_ = a;\n      }\n    },\n    module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_EXTENSION = function () {\n      this.getField(\"WHERE\").setValidator(function (b) {\n        b = \"FROM_START\" === b || \"FROM_END\" === b;\n        b !== this.isAt_ && this.getSourceBlock().updateAt_(b);\n      });\n      this.updateAt_(!0);\n      const a = this;\n      this.setTooltip(function () {\n        var b = a.getFieldValue(\"WHERE\");\n        let c = module$contents$Blockly$libraryBlocks$texts_Msg.TEXT_CHARAT_TOOLTIP;\n        (\"FROM_START\" === b || \"FROM_END\" === b) && (b = \"FROM_START\" === b ? module$contents$Blockly$libraryBlocks$texts_Msg.LISTS_INDEX_FROM_START_TOOLTIP : module$contents$Blockly$libraryBlocks$texts_Msg.LISTS_INDEX_FROM_END_TOOLTIP) && (c += \"  \" + b.replace(\"%1\", a.workspace.options.oneBasedIndex ? \"#1\" : \"#0\"));\n        return c;\n      });\n    };\n  $.module$build$src$core$extensions.register(\"text_indexOf_tooltip\", module$contents$Blockly$libraryBlocks$texts_TEXT_INDEXOF_TOOLTIP_EXTENSION);\n  $.module$build$src$core$extensions.register(\"text_quotes\", module$contents$Blockly$libraryBlocks$texts_TEXT_QUOTES_EXTENSION);\n  $.module$build$src$core$extensions.registerMutator(\"text_join_mutator\", module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_MUTATOR_MIXIN, module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_EXTENSION);\n  $.module$build$src$core$extensions.registerMutator(\"text_charAt_mutator\", module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_MUTATOR_MIXIN, module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_EXTENSION);\n  module$contents$Blockly$libraryBlocks$texts_defineBlocks(module$exports$Blockly$libraryBlocks$texts.blocks);\n  var module$exports$Blockly$libraryBlocks$variables = {},\n    module$contents$Blockly$libraryBlocks$variables_ContextMenu = $.module$build$src$core$contextmenu,\n    module$contents$Blockly$libraryBlocks$variables_Extensions = $.module$build$src$core$extensions,\n    module$contents$Blockly$libraryBlocks$variables_Variables = $.module$build$src$core$variables,\n    module$contents$Blockly$libraryBlocks$variables_xmlUtils = $.module$build$src$core$utils$xml,\n    module$contents$Blockly$libraryBlocks$variables_BlockDefinition = Object,\n    module$contents$Blockly$libraryBlocks$variables_Msg = $.module$build$src$core$msg.Msg,\n    module$contents$Blockly$libraryBlocks$variables_createBlockDefinitionsFromJsonArray = $.module$build$src$core$common.createBlockDefinitionsFromJsonArray,\n    module$contents$Blockly$libraryBlocks$variables_defineBlocks = $.module$build$src$core$common.defineBlocks;\n  module$exports$Blockly$libraryBlocks$variables.blocks = module$contents$Blockly$libraryBlocks$variables_createBlockDefinitionsFromJsonArray([{\n    type: \"variables_get\",\n    message0: \"%1\",\n    args0: [{\n      type: \"field_variable\",\n      name: \"VAR\",\n      variable: \"%{BKY_VARIABLES_DEFAULT_NAME}\"\n    }],\n    output: null,\n    style: \"variable_blocks\",\n    helpUrl: \"%{BKY_VARIABLES_GET_HELPURL}\",\n    tooltip: \"%{BKY_VARIABLES_GET_TOOLTIP}\",\n    extensions: [\"contextMenu_variableSetterGetter\"]\n  }, {\n    type: \"variables_set\",\n    message0: \"%{BKY_VARIABLES_SET}\",\n    args0: [{\n      type: \"field_variable\",\n      name: \"VAR\",\n      variable: \"%{BKY_VARIABLES_DEFAULT_NAME}\"\n    }, {\n      type: \"input_value\",\n      name: \"VALUE\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"variable_blocks\",\n    tooltip: \"%{BKY_VARIABLES_SET_TOOLTIP}\",\n    helpUrl: \"%{BKY_VARIABLES_SET_HELPURL}\",\n    extensions: [\"contextMenu_variableSetterGetter\"]\n  }]);\n  var module$contents$Blockly$libraryBlocks$variables_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN = {\n      customContextMenu: function (a) {\n        if (!this.isInFlyout) {\n          if (\"variables_get\" === this.type) {\n            var b = \"variables_set\";\n            var c = module$contents$Blockly$libraryBlocks$variables_Msg.VARIABLES_GET_CREATE_SET;\n          } else b = \"variables_get\", c = module$contents$Blockly$libraryBlocks$variables_Msg.VARIABLES_SET_CREATE_GET;\n          var d = {\n              enabled: 0 < this.workspace.remainingCapacity()\n            },\n            e = this.getField(\"VAR\").getText();\n          d.text = c.replace(\"%1\", e);\n          c = $.module$build$src$core$utils$xml.createElement(\"field\");\n          c.setAttribute(\"name\", \"VAR\");\n          c.appendChild($.module$build$src$core$utils$xml.createTextNode(e));\n          e = $.module$build$src$core$utils$xml.createElement(\"block\");\n          e.setAttribute(\"type\", b);\n          e.appendChild(c);\n          d.callback = $.module$build$src$core$contextmenu.callbackFactory(this, e);\n          a.push(d);\n        } else if (\"variables_get\" === this.type || \"variables_get_reporter\" === this.type) b = {\n          text: module$contents$Blockly$libraryBlocks$variables_Msg.RENAME_VARIABLE,\n          enabled: !0,\n          callback: module$contents$Blockly$libraryBlocks$variables_renameOptionCallbackFactory(this)\n        }, d = this.getField(\"VAR\").getText(), d = {\n          text: module$contents$Blockly$libraryBlocks$variables_Msg.DELETE_VARIABLE.replace(\"%1\", d),\n          enabled: !0,\n          callback: module$contents$Blockly$libraryBlocks$variables_deleteOptionCallbackFactory(this)\n        }, a.unshift(b), a.unshift(d);\n      }\n    },\n    module$contents$Blockly$libraryBlocks$variables_renameOptionCallbackFactory = function (a) {\n      return function () {\n        const b = a.workspace,\n          c = a.getField(\"VAR\").getVariable();\n        $.module$build$src$core$variables.renameVariable(b, c);\n      };\n    },\n    module$contents$Blockly$libraryBlocks$variables_deleteOptionCallbackFactory = function (a) {\n      return function () {\n        const b = a.workspace,\n          c = a.getField(\"VAR\").getVariable();\n        b.deleteVariableById(c.getId());\n        b.refreshToolboxSelection();\n      };\n    };\n  $.module$build$src$core$extensions.registerMixin(\"contextMenu_variableSetterGetter\", module$contents$Blockly$libraryBlocks$variables_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);\n  module$contents$Blockly$libraryBlocks$variables_defineBlocks(module$exports$Blockly$libraryBlocks$variables.blocks);\n  var module$exports$Blockly$libraryBlocks$variablesDynamic = {},\n    module$contents$Blockly$libraryBlocks$variablesDynamic_ContextMenu = $.module$build$src$core$contextmenu,\n    module$contents$Blockly$libraryBlocks$variablesDynamic_Extensions = $.module$build$src$core$extensions,\n    module$contents$Blockly$libraryBlocks$variablesDynamic_Variables = $.module$build$src$core$variables,\n    module$contents$Blockly$libraryBlocks$variablesDynamic_xml = $.module$build$src$core$utils$xml,\n    module$contents$Blockly$libraryBlocks$variablesDynamic_BlockDefinition = Object,\n    module$contents$Blockly$libraryBlocks$variablesDynamic_Msg = $.module$build$src$core$msg.Msg,\n    module$contents$Blockly$libraryBlocks$variablesDynamic_createBlockDefinitionsFromJsonArray = $.module$build$src$core$common.createBlockDefinitionsFromJsonArray,\n    module$contents$Blockly$libraryBlocks$variablesDynamic_defineBlocks = $.module$build$src$core$common.defineBlocks;\n  module$exports$Blockly$libraryBlocks$variablesDynamic.blocks = module$contents$Blockly$libraryBlocks$variablesDynamic_createBlockDefinitionsFromJsonArray([{\n    type: \"variables_get_dynamic\",\n    message0: \"%1\",\n    args0: [{\n      type: \"field_variable\",\n      name: \"VAR\",\n      variable: \"%{BKY_VARIABLES_DEFAULT_NAME}\"\n    }],\n    output: null,\n    style: \"variable_dynamic_blocks\",\n    helpUrl: \"%{BKY_VARIABLES_GET_HELPURL}\",\n    tooltip: \"%{BKY_VARIABLES_GET_TOOLTIP}\",\n    extensions: [\"contextMenu_variableDynamicSetterGetter\"]\n  }, {\n    type: \"variables_set_dynamic\",\n    message0: \"%{BKY_VARIABLES_SET}\",\n    args0: [{\n      type: \"field_variable\",\n      name: \"VAR\",\n      variable: \"%{BKY_VARIABLES_DEFAULT_NAME}\"\n    }, {\n      type: \"input_value\",\n      name: \"VALUE\"\n    }],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"variable_dynamic_blocks\",\n    tooltip: \"%{BKY_VARIABLES_SET_TOOLTIP}\",\n    helpUrl: \"%{BKY_VARIABLES_SET_HELPURL}\",\n    extensions: [\"contextMenu_variableDynamicSetterGetter\"]\n  }]);\n  var module$contents$Blockly$libraryBlocks$variablesDynamic_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN = {\n      customContextMenu: function (a) {\n        if (!this.isInFlyout) {\n          var b = this.getFieldValue(\"VAR\");\n          var c = this.workspace.getVariableById(b).type;\n          if (\"variables_get_dynamic\" === this.type) {\n            b = \"variables_set_dynamic\";\n            var d = module$contents$Blockly$libraryBlocks$variablesDynamic_Msg.VARIABLES_GET_CREATE_SET;\n          } else b = \"variables_get_dynamic\", d = module$contents$Blockly$libraryBlocks$variablesDynamic_Msg.VARIABLES_SET_CREATE_GET;\n          var e = {\n            enabled: 0 < this.workspace.remainingCapacity()\n          };\n          const f = this.getField(\"VAR\").getText();\n          e.text = d.replace(\"%1\", f);\n          d = $.module$build$src$core$utils$xml.createElement(\"field\");\n          d.setAttribute(\"name\", \"VAR\");\n          d.setAttribute(\"variabletype\", c);\n          d.appendChild($.module$build$src$core$utils$xml.createTextNode(f));\n          c = $.module$build$src$core$utils$xml.createElement(\"block\");\n          c.setAttribute(\"type\", b);\n          c.appendChild(d);\n          e.callback = $.module$build$src$core$contextmenu.callbackFactory(this, c);\n          a.push(e);\n        } else if (\"variables_get_dynamic\" === this.type || \"variables_get_reporter_dynamic\" === this.type) b = {\n          text: module$contents$Blockly$libraryBlocks$variablesDynamic_Msg.RENAME_VARIABLE,\n          enabled: !0,\n          callback: module$contents$Blockly$libraryBlocks$variablesDynamic_renameOptionCallbackFactory(this)\n        }, e = this.getField(\"VAR\").getText(), e = {\n          text: module$contents$Blockly$libraryBlocks$variablesDynamic_Msg.DELETE_VARIABLE.replace(\"%1\", e),\n          enabled: !0,\n          callback: module$contents$Blockly$libraryBlocks$variablesDynamic_deleteOptionCallbackFactory(this)\n        }, a.unshift(b), a.unshift(e);\n      },\n      onchange: function (a) {\n        a = this.getFieldValue(\"VAR\");\n        a = $.module$build$src$core$variables.getVariable(this.workspace, a);\n        \"variables_get_dynamic\" === this.type ? this.outputConnection.setCheck(a.type) : this.getInput(\"VALUE\").connection.setCheck(a.type);\n      }\n    },\n    module$contents$Blockly$libraryBlocks$variablesDynamic_renameOptionCallbackFactory = function (a) {\n      return function () {\n        const b = a.workspace,\n          c = a.getField(\"VAR\").getVariable();\n        $.module$build$src$core$variables.renameVariable(b, c);\n      };\n    },\n    module$contents$Blockly$libraryBlocks$variablesDynamic_deleteOptionCallbackFactory = function (a) {\n      return function () {\n        const b = a.workspace,\n          c = a.getField(\"VAR\").getVariable();\n        b.deleteVariableById(c.getId());\n        b.refreshToolboxSelection();\n      };\n    };\n  $.module$build$src$core$extensions.registerMixin(\"contextMenu_variableDynamicSetterGetter\", module$contents$Blockly$libraryBlocks$variablesDynamic_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);\n  module$contents$Blockly$libraryBlocks$variablesDynamic_defineBlocks(module$exports$Blockly$libraryBlocks$variablesDynamic.blocks);\n  var module$exports$Blockly$libraryBlocks = {\n      colour: module$build$src$blocks$colour,\n      math: module$build$src$blocks$math\n    },\n    module$contents$Blockly$libraryBlocks_BlockDefinition = Object;\n  module$exports$Blockly$libraryBlocks.lists = module$exports$Blockly$libraryBlocks$lists;\n  module$exports$Blockly$libraryBlocks.logic = module$exports$Blockly$libraryBlocks$logic;\n  module$exports$Blockly$libraryBlocks.loops = module$exports$Blockly$libraryBlocks$loops;\n  module$exports$Blockly$libraryBlocks.procedures = module$exports$Blockly$libraryBlocks$procedures;\n  module$exports$Blockly$libraryBlocks.texts = module$exports$Blockly$libraryBlocks$texts;\n  module$exports$Blockly$libraryBlocks.variables = module$exports$Blockly$libraryBlocks$variables;\n  module$exports$Blockly$libraryBlocks.variablesDynamic = module$exports$Blockly$libraryBlocks$variablesDynamic;\n  module$exports$Blockly$libraryBlocks.blocks = Object.assign({}, module$build$src$blocks$colour.blocks, module$exports$Blockly$libraryBlocks$lists.blocks, module$exports$Blockly$libraryBlocks$logic.blocks, module$exports$Blockly$libraryBlocks$loops.blocks, module$build$src$blocks$math.blocks, module$exports$Blockly$libraryBlocks$procedures.blocks, module$exports$Blockly$libraryBlocks$variables.blocks, module$exports$Blockly$libraryBlocks$variablesDynamic.blocks);\n  module$exports$Blockly$libraryBlocks.__namespace__ = $;\n  return module$exports$Blockly$libraryBlocks;\n});","map":{"version":3,"names":["blocks$$module$build$src$blocks$colour","$","createBlockDefinitionsFromJsonArray$$module$build$src$core$common","type","message0","args0","name","colour","output","helpUrl","style","tooltip","extensions","check","align","defineBlocks$$module$build$src$core$common","module$build$src$blocks$colour","blocks","module$exports$Blockly$libraryBlocks$lists","module$contents$Blockly$libraryBlocks$lists_fieldRegistry","module$build$src$core$field_registry","module$contents$Blockly$libraryBlocks$lists_xmlUtils","module$build$src$core$utils$xml","module$contents$Blockly$libraryBlocks$lists_Align","Align$$module$build$src$core$input","module$contents$Blockly$libraryBlocks$lists_BlockDefinition","Object","module$contents$Blockly$libraryBlocks$lists_ConnectionType","module$build$src$core$connection_type","ConnectionType","module$contents$Blockly$libraryBlocks$lists_Msg","module$build$src$core$msg","Msg","module$contents$Blockly$libraryBlocks$lists_Mutator","Mutator$$module$build$src$core$mutator","module$contents$Blockly$libraryBlocks$lists_createBlockDefinitionsFromJsonArray","module$build$src$core$common","createBlockDefinitionsFromJsonArray","module$contents$Blockly$libraryBlocks$lists_defineBlocks","defineBlocks","inputsInline","lists_create_with","init","setHelpUrl","LISTS_CREATE_WITH_HELPURL","setStyle","itemCount_","updateShape_","setOutput","setMutator","setTooltip","LISTS_CREATE_WITH_TOOLTIP","mutationToDom","a","createElement","setAttribute","domToMutation","parseInt","getAttribute","saveExtraState","itemCount","loadExtraState","decompose","b","newBlock","initSvg","c","getInput","connection","d","e","connect","previousConnection","nextConnection","compose","getInputTargetBlock","isInsertionMarker","push","valueConnection_","getNextBlock","targetConnection","indexOf","disconnect","length","reconnect","saveConnections","removeInput","appendDummyInput","appendField","LISTS_CREATE_EMPTY_TITLE","appendValueInput","setAlign","RIGHT","LISTS_CREATE_WITH_INPUT_WITH","lists_create_with_container","LISTS_CREATE_WITH_CONTAINER_TITLE_ADD","appendStatementInput","LISTS_CREATE_WITH_CONTAINER_TOOLTIP","contextMenu","lists_create_with_item","LISTS_CREATE_WITH_ITEM_TITLE","setPreviousStatement","setNextStatement","LISTS_CREATE_WITH_ITEM_TOOLTIP","lists_indexOf","LISTS_INDEX_OF_FIRST","LISTS_INDEX_OF_LAST","LISTS_INDEX_OF_HELPURL","setCheck","LISTS_INDEX_OF_INPUT_IN_LIST","fromJson","options","setInputsInline","LISTS_INDEX_OF_TOOLTIP","replace","workspace","oneBasedIndex","lists_getIndex","LISTS_GET_INDEX_GET","LISTS_GET_INDEX_GET_REMOVE","LISTS_GET_INDEX_REMOVE","WHERE_OPTIONS","LISTS_GET_INDEX_FROM_START","LISTS_GET_INDEX_FROM_END","LISTS_GET_INDEX_FIRST","LISTS_GET_INDEX_LAST","LISTS_GET_INDEX_RANDOM","LISTS_GET_INDEX_HELPURL","setValidator","getSourceBlock","updateStatement_","LISTS_GET_INDEX_INPUT_IN_LIST","LISTS_GET_INDEX_TAIL","updateAt_","getFieldValue","LISTS_GET_INDEX_TOOLTIP_GET_FROM","LISTS_GET_INDEX_TOOLTIP_GET_FIRST","LISTS_GET_INDEX_TOOLTIP_GET_LAST","LISTS_GET_INDEX_TOOLTIP_GET_RANDOM","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM","LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM","LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST","LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST","LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM","LISTS_INDEX_FROM_START_TOOLTIP","LISTS_INDEX_FROM_END_TOOLTIP","outputConnection","INPUT_VALUE","isStatement","textToDom","unplug","ORDINAL_NUMBER_SUFFIX","setFieldValue","moveInputBefore","lists_setIndex","LISTS_SET_INDEX_SET","LISTS_SET_INDEX_INSERT","LISTS_SET_INDEX_HELPURL","LISTS_SET_INDEX_INPUT_IN_LIST","LISTS_SET_INDEX_INPUT_TO","LISTS_SET_INDEX_TOOLTIP","LISTS_SET_INDEX_TOOLTIP_SET_FROM","LISTS_SET_INDEX_TOOLTIP_SET_FIRST","LISTS_SET_INDEX_TOOLTIP_SET_LAST","LISTS_SET_INDEX_TOOLTIP_SET_RANDOM","LISTS_SET_INDEX_TOOLTIP_INSERT_FROM","LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST","LISTS_SET_INDEX_TOOLTIP_INSERT_LAST","LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM","lists_getSublist","WHERE_OPTIONS_1","LISTS_GET_SUBLIST_START_FROM_START","LISTS_GET_SUBLIST_START_FROM_END","LISTS_GET_SUBLIST_START_FIRST","WHERE_OPTIONS_2","LISTS_GET_SUBLIST_END_FROM_START","LISTS_GET_SUBLIST_END_FROM_END","LISTS_GET_SUBLIST_END_LAST","LISTS_GET_SUBLIST_HELPURL","LISTS_GET_SUBLIST_INPUT_IN_LIST","LISTS_GET_SUBLIST_TAIL","LISTS_GET_SUBLIST_TOOLTIP","f","lists_sort","jsonInit","lists_split","LISTS_SPLIT_LIST_FROM_TEXT","LISTS_SPLIT_TEXT_FROM_LIST","updateType_","LISTS_SPLIT_HELPURL","LISTS_SPLIT_WITH_DELIMITER","LISTS_SPLIT_TOOLTIP_SPLIT","LISTS_SPLIT_TOOLTIP_JOIN","Error","setShadowDom","targetBlock","isShadow","dispose","bumpNeighbours","module$exports$Blockly$libraryBlocks$logic","module$contents$Blockly$libraryBlocks$logic_Events","module$build$src$core$events$events","module$contents$Blockly$libraryBlocks$logic_Extensions","module$build$src$core$extensions","module$contents$Blockly$libraryBlocks$logic_xmlUtils","module$contents$Blockly$libraryBlocks$logic_BlockDefinition","module$contents$Blockly$libraryBlocks$logic_Msg","module$contents$Blockly$libraryBlocks$logic_Mutator","module$contents$Blockly$libraryBlocks$logic_createBlockDefinitionsFromJsonArray","module$contents$Blockly$libraryBlocks$logic_defineBlocks","message1","args1","previousStatement","nextStatement","suppressPrefixSuffix","mutator","message2","args2","enableContextMenu","module$contents$Blockly$libraryBlocks$logic_TOOLTIPS_BY_OP","EQ","NEQ","LT","LTE","GT","GTE","AND","OR","register","buildTooltipForDropdown","module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_MUTATOR_MIXIN","elseifCount_","elseCount_","rebuildShape_","create","elseIfCount","hasElse","statementConnection_","TypeError","reconnectChildBlocks_","CONTROLS_IF_MSG_ELSEIF","CONTROLS_IF_MSG_THEN","CONTROLS_IF_MSG_ELSE","registerMutator","module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_TOOLTIP_EXTENSION","CONTROLS_IF_TOOLTIP_2","CONTROLS_IF_TOOLTIP_3","CONTROLS_IF_TOOLTIP_4","CONTROLS_IF_TOOLTIP_1","bind","module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_ONCHANGE_MIXIN","onchange","prevBlocks_","connectionChecker","doTypeChecks","setGroup","group","isDisposed","module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_EXTENSION","mixin","module$contents$Blockly$libraryBlocks$logic_LOGIC_TERNARY_ONCHANGE_MIXIN","prevParentConnection_","registerMixin","module$exports$Blockly$libraryBlocks$loops","module$contents$Blockly$libraryBlocks$loops_ContextMenu","module$build$src$core$contextmenu","module$contents$Blockly$libraryBlocks$loops_Events","module$contents$Blockly$libraryBlocks$loops_Extensions","module$contents$Blockly$libraryBlocks$loops_Variables","module$build$src$core$variables","module$contents$Blockly$libraryBlocks$loops_xmlUtils","module$contents$Blockly$libraryBlocks$loops_BlockDefinition","module$contents$Blockly$libraryBlocks$loops_Msg","module$contents$Blockly$libraryBlocks$loops_createBlockDefinitionsFromJsonArray","module$contents$Blockly$libraryBlocks$loops_defineBlocks","value","min","precision","variable","module$contents$Blockly$libraryBlocks$loops_WHILE_UNTIL_TOOLTIPS","WHILE","UNTIL","module$contents$Blockly$libraryBlocks$loops_BREAK_CONTINUE_TOOLTIPS","BREAK","CONTINUE","module$contents$Blockly$libraryBlocks$loops_CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN","customContextMenu","isInFlyout","getField","getVariable","isCollapsed","enabled","text","VARIABLES_SET_CREATE_GET","generateVariableFieldDom","appendChild","callback","callbackFactory","buildTooltipWithFieldText","loopTypes","Set","module$contents$Blockly$libraryBlocks$loops_CONTROL_FLOW_IN_LOOP_CHECK_MIXIN","getSurroundLoop","has","getSurroundParent","isDragging","BLOCK_MOVE","setWarningText","CONTROLS_FLOW_STATEMENTS_WARNING","getGroup","setEnabled","blocks$$module$build$src$blocks$math","TOOLTIPS_BY_OP$$module$build$src$blocks$math","ADD","MINUS","MULTIPLY","DIVIDE","POWER","ROOT","ABS","NEG","LN","LOG10","EXP","POW10","SIN","COS","TAN","ASIN","ACOS","ATAN","SUM","MIN","MAX","AVERAGE","MEDIAN","MODE","STD_DEV","RANDOM","register$$module$build$src$core$extensions","buildTooltipForDropdown$$module$build$src$core$extensions","IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math","createElement$$module$build$src$core$utils$xml","String","IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math","registerMutator$$module$build$src$core$extensions","buildTooltipWithFieldText$$module$build$src$core$extensions","LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math","LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math","module$build$src$blocks$math","module$exports$Blockly$libraryBlocks$procedures","module$contents$Blockly$libraryBlocks$procedures_ContextMenu","module$contents$Blockly$libraryBlocks$procedures_Events","module$contents$Blockly$libraryBlocks$procedures_Procedures","module$build$src$core$procedures","module$contents$Blockly$libraryBlocks$procedures_Variables","module$contents$Blockly$libraryBlocks$procedures_Xml","module$build$src$core$xml","module$contents$Blockly$libraryBlocks$procedures_fieldRegistry","module$contents$Blockly$libraryBlocks$procedures_xmlUtils","module$contents$Blockly$libraryBlocks$procedures_Align","module$contents$Blockly$libraryBlocks$procedures_BlockDefinition","module$contents$Blockly$libraryBlocks$procedures_config","config$$module$build$src$core$config","module$contents$Blockly$libraryBlocks$procedures_Msg","module$contents$Blockly$libraryBlocks$procedures_Mutator","module$contents$Blockly$libraryBlocks$procedures_Names","module$build$src$core$names","Names","module$contents$Blockly$libraryBlocks$procedures_defineBlocks","module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_DEF_COMMON","setStatements_","hasStatements_","PROCEDURES_DEFNORETURN_DO","updateParams_","arguments_","PROCEDURES_BEFORE_PARAMS","join","disable","enable","argumentVarModels_","getId","paramIds_","childNodes","nodeName","toLowerCase","getOrCreateVariablePackage","console","log","mutateCallers","params","id","hasStatements","g","createTextNode","domToBlock","getVars","getVarModels","renameVarById","getVariableById","displayRenamedVar_","updateVarName","isVisible","workspace_","getAllBlocks","equals","PROCEDURES_CREATE_DO","callType_","procedures_defnoreturn","assign","findLegalName","rename","setSpellcheck","PROCEDURES_DEFNORETURN_TITLE","comments","parentWorkspace","PROCEDURES_DEFNORETURN_COMMENT","setCommentText","PROCEDURES_DEFNORETURN_TOOLTIP","PROCEDURES_DEFNORETURN_HELPURL","getProcedureDef","procedures_defreturn","PROCEDURES_DEFRETURN_TITLE","PROCEDURES_DEFRETURN_RETURN","PROCEDURES_DEFRETURN_COMMENT","PROCEDURES_DEFRETURN_TOOLTIP","PROCEDURES_DEFRETURN_HELPURL","procedures_mutatorcontainer","PROCEDURES_MUTATORCONTAINER_TITLE","PROCEDURES_ALLOW_STATEMENTS","checked","PROCEDURES_MUTATORCONTAINER_TOOLTIP","procedures_mutatorarg","DEFAULT_ARG","validator_","oldShowEditorFn_","showEditor_","createdVariables_","PROCEDURES_MUTATORARG_TITLE","PROCEDURES_MUTATORARG_TOOLTIP","onFinishEditing_","deleteIntermediateVars_","findParentWs","targetWorkspace","renameVariableById","createVariable","deleteVariableById","module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_CALL_COMMON","getProcedureCall","renameProcedure","PROCEDURES_CALLRETURN_TOOLTIP","PROCEDURES_CALLNORETURN_TOOLTIP","setProcedureParameters_","getDefinition","setCollapsed","quarkConnections_","quarkIds_","RangeError","rendered","concat","render","setValue","PROCEDURES_CALL_BEFORE_PARAMS","removeField","fill","isFlyout","recordUndo","BLOCK_CREATE","ids","defType_","JSON","stringify","getRelativeToSurfaceXY","y","snapRadius","x","RTL","domToWorkspace","BLOCK_DELETE","CHANGE","element","blockId","newValue","previousEnabledState_","isEnabled","isMovable","PROCEDURES_HIGHLIGHT_DEF","centerOnBlock","select","procedures_callnoreturn","PROCEDURES_CALLNORETURN_HELPURL","procedures_callreturn","PROCEDURES_CALLRETURN_HELPURL","procedures_ifreturn","CONTROLS_IF_MSG_IF","PROCEDURES_IFRETURN_TOOLTIP","PROCEDURES_IFRETURN_HELPURL","hasReturnValue_","Number","FUNCTION_TYPES","PROCEDURES_IFRETURN_WARNING","module$exports$Blockly$libraryBlocks$texts","module$contents$Blockly$libraryBlocks$texts_Extensions","module$contents$Blockly$libraryBlocks$texts_Msg","module$contents$Blockly$libraryBlocks$texts_fieldRegistry","module$contents$Blockly$libraryBlocks$texts_xmlUtils","module$contents$Blockly$libraryBlocks$texts_Align","module$contents$Blockly$libraryBlocks$texts_BlockDefinition","module$contents$Blockly$libraryBlocks$texts_ConnectionType","module$contents$Blockly$libraryBlocks$texts_Mutator","module$contents$Blockly$libraryBlocks$texts_createBlockDefinitionsFromJsonArray","module$contents$Blockly$libraryBlocks$texts_defineBlocks","src","width","height","alt","text_getSubstring","TEXT_GET_SUBSTRING_START_FROM_START","TEXT_GET_SUBSTRING_START_FROM_END","TEXT_GET_SUBSTRING_START_FIRST","TEXT_GET_SUBSTRING_END_FROM_START","TEXT_GET_SUBSTRING_END_FROM_END","TEXT_GET_SUBSTRING_END_LAST","TEXT_GET_SUBSTRING_HELPURL","TEXT_GET_SUBSTRING_INPUT_IN_TEXT","TEXT_GET_SUBSTRING_TAIL","TEXT_GET_SUBSTRING_TOOLTIP","text_changeCase","TEXT_CHANGECASE_OPERATOR_UPPERCASE","TEXT_CHANGECASE_OPERATOR_LOWERCASE","TEXT_CHANGECASE_OPERATOR_TITLECASE","TEXT_CHANGECASE_HELPURL","TEXT_CHANGECASE_TOOLTIP","text_trim","TEXT_TRIM_OPERATOR_BOTH","TEXT_TRIM_OPERATOR_LEFT","TEXT_TRIM_OPERATOR_RIGHT","TEXT_TRIM_HELPURL","TEXT_TRIM_TOOLTIP","text_print","TEXT_PRINT_TITLE","TEXT_PRINT_TOOLTIP","TEXT_PRINT_HELPURL","module$contents$Blockly$libraryBlocks$texts_TEXT_PROMPT_COMMON","text_prompt_ext","TEXT_PROMPT_TYPE_TEXT","TEXT_PROMPT_TYPE_NUMBER","TEXT_PROMPT_HELPURL","TEXT_PROMPT_TOOLTIP_TEXT","TEXT_PROMPT_TOOLTIP_NUMBER","text_prompt","module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN","newQuote_","text_count","TEXT_COUNT_MESSAGE0","TEXT_COUNT_TOOLTIP","TEXT_COUNT_HELPURL","text_replace","TEXT_REPLACE_MESSAGE0","TEXT_REPLACE_TOOLTIP","TEXT_REPLACE_HELPURL","text_reverse","TEXT_REVERSE_MESSAGE0","TEXT_REVERSE_TOOLTIP","TEXT_REVERSE_HELPURL","QUOTE_IMAGE_LEFT_DATAURI","QUOTE_IMAGE_RIGHT_DATAURI","QUOTE_IMAGE_WIDTH","QUOTE_IMAGE_HEIGHT","quoteField_","inputList","fieldRow","insertFieldAt","warn","toDevString","module$contents$Blockly$libraryBlocks$texts_TEXT_QUOTES_EXTENSION","module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_MUTATOR_MIXIN","TEXT_JOIN_TITLE_CREATEWITH","module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_EXTENSION","module$contents$Blockly$libraryBlocks$texts_TEXT_INDEXOF_TOOLTIP_EXTENSION","TEXT_INDEXOF_TOOLTIP","module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_MUTATOR_MIXIN","isAt_","TEXT_CHARAT_TAIL","module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_EXTENSION","TEXT_CHARAT_TOOLTIP","module$exports$Blockly$libraryBlocks$variables","module$contents$Blockly$libraryBlocks$variables_ContextMenu","module$contents$Blockly$libraryBlocks$variables_Extensions","module$contents$Blockly$libraryBlocks$variables_Variables","module$contents$Blockly$libraryBlocks$variables_xmlUtils","module$contents$Blockly$libraryBlocks$variables_BlockDefinition","module$contents$Blockly$libraryBlocks$variables_Msg","module$contents$Blockly$libraryBlocks$variables_createBlockDefinitionsFromJsonArray","module$contents$Blockly$libraryBlocks$variables_defineBlocks","module$contents$Blockly$libraryBlocks$variables_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN","VARIABLES_GET_CREATE_SET","remainingCapacity","getText","RENAME_VARIABLE","module$contents$Blockly$libraryBlocks$variables_renameOptionCallbackFactory","DELETE_VARIABLE","module$contents$Blockly$libraryBlocks$variables_deleteOptionCallbackFactory","unshift","renameVariable","refreshToolboxSelection","module$exports$Blockly$libraryBlocks$variablesDynamic","module$contents$Blockly$libraryBlocks$variablesDynamic_ContextMenu","module$contents$Blockly$libraryBlocks$variablesDynamic_Extensions","module$contents$Blockly$libraryBlocks$variablesDynamic_Variables","module$contents$Blockly$libraryBlocks$variablesDynamic_xml","module$contents$Blockly$libraryBlocks$variablesDynamic_BlockDefinition","module$contents$Blockly$libraryBlocks$variablesDynamic_Msg","module$contents$Blockly$libraryBlocks$variablesDynamic_createBlockDefinitionsFromJsonArray","module$contents$Blockly$libraryBlocks$variablesDynamic_defineBlocks","module$contents$Blockly$libraryBlocks$variablesDynamic_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN","module$contents$Blockly$libraryBlocks$variablesDynamic_renameOptionCallbackFactory","module$contents$Blockly$libraryBlocks$variablesDynamic_deleteOptionCallbackFactory","module$exports$Blockly$libraryBlocks","math","module$contents$Blockly$libraryBlocks_BlockDefinition","lists","logic","loops","procedures","texts","variables","variablesDynamic"],"sources":["/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/colour.ts","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/lists.js","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/logic.js","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/loops.js","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/math.ts","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/procedures.js","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/text.js","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/variables.js","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/variables_dynamic.js","/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/node_modules/blockly/blocks/blocks.js"],"sourcesContent":["/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Colour blocks for Blockly.\n */\n\nimport * as goog from '../closure/goog/goog.js';\ngoog.declareModuleId('Blockly.libraryBlocks.colour');\n\nimport type {BlockDefinition} from '../core/blocks.js';\nimport {createBlockDefinitionsFromJsonArray, defineBlocks} from '../core/common.js';\nimport '../core/field_colour.js';\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n */\nexport const blocks = createBlockDefinitionsFromJsonArray([\n  // Block for colour picker.\n  {\n    'type': 'colour_picker',\n    'message0': '%1',\n    'args0': [\n      {\n        'type': 'field_colour',\n        'name': 'COLOUR',\n        'colour': '#ff0000',\n      },\n    ],\n    'output': 'Colour',\n    'helpUrl': '%{BKY_COLOUR_PICKER_HELPURL}',\n    'style': 'colour_blocks',\n    'tooltip': '%{BKY_COLOUR_PICKER_TOOLTIP}',\n    'extensions': ['parent_tooltip_when_inline'],\n  },\n\n  // Block for random colour.\n  {\n    'type': 'colour_random',\n    'message0': '%{BKY_COLOUR_RANDOM_TITLE}',\n    'output': 'Colour',\n    'helpUrl': '%{BKY_COLOUR_RANDOM_HELPURL}',\n    'style': 'colour_blocks',\n    'tooltip': '%{BKY_COLOUR_RANDOM_TOOLTIP}',\n  },\n\n  // Block for composing a colour from RGB components.\n  {\n    'type': 'colour_rgb',\n    'message0':\n        '%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'RED',\n        'check': 'Number',\n        'align': 'RIGHT',\n      },\n      {\n        'type': 'input_value',\n        'name': 'GREEN',\n        'check': 'Number',\n        'align': 'RIGHT',\n      },\n      {\n        'type': 'input_value',\n        'name': 'BLUE',\n        'check': 'Number',\n        'align': 'RIGHT',\n      },\n    ],\n    'output': 'Colour',\n    'helpUrl': '%{BKY_COLOUR_RGB_HELPURL}',\n    'style': 'colour_blocks',\n    'tooltip': '%{BKY_COLOUR_RGB_TOOLTIP}',\n  },\n\n  // Block for blending two colours together.\n  {\n    'type': 'colour_blend',\n    'message0': '%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} ' +\n        '%1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'COLOUR1',\n        'check': 'Colour',\n        'align': 'RIGHT',\n      },\n      {\n        'type': 'input_value',\n        'name': 'COLOUR2',\n        'check': 'Colour',\n        'align': 'RIGHT',\n      },\n      {\n        'type': 'input_value',\n        'name': 'RATIO',\n        'check': 'Number',\n        'align': 'RIGHT',\n      },\n    ],\n    'output': 'Colour',\n    'helpUrl': '%{BKY_COLOUR_BLEND_HELPURL}',\n    'style': 'colour_blocks',\n    'tooltip': '%{BKY_COLOUR_BLEND_TOOLTIP}',\n  },\n]);\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview List blocks for Blockly.\n * @suppress {checkTypes}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks.lists');\n\nconst fieldRegistry = goog.require('Blockly.fieldRegistry');\nconst xmlUtils = goog.require('Blockly.utils.xml');\nconst {Align} = goog.require('Blockly.Input');\n/* eslint-disable-next-line no-unused-vars */\nconst {Block} = goog.requireType('Blockly.Block');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\nconst {ConnectionType} = goog.require('Blockly.ConnectionType');\nconst {Msg} = goog.require('Blockly.Msg');\nconst {Mutator} = goog.require('Blockly.Mutator');\n/* eslint-disable-next-line no-unused-vars */\nconst {Workspace} = goog.requireType('Blockly.Workspace');\nconst {createBlockDefinitionsFromJsonArray, defineBlocks} = goog.require('Blockly.common');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldDropdown');\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = createBlockDefinitionsFromJsonArray([\n  // Block for creating an empty list\n  // The 'list_create_with' block is preferred as it is more flexible.\n  // <block type=\"lists_create_with\">\n  //   <mutation items=\"0\"></mutation>\n  // </block>\n  {\n    'type': 'lists_create_empty',\n    'message0': '%{BKY_LISTS_CREATE_EMPTY_TITLE}',\n    'output': 'Array',\n    'style': 'list_blocks',\n    'tooltip': '%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}',\n    'helpUrl': '%{BKY_LISTS_CREATE_EMPTY_HELPURL}',\n  },\n  // Block for creating a list with one element repeated.\n  {\n    'type': 'lists_repeat',\n    'message0': '%{BKY_LISTS_REPEAT_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'ITEM',\n      },\n      {\n        'type': 'input_value',\n        'name': 'NUM',\n        'check': 'Number',\n      },\n    ],\n    'output': 'Array',\n    'style': 'list_blocks',\n    'tooltip': '%{BKY_LISTS_REPEAT_TOOLTIP}',\n    'helpUrl': '%{BKY_LISTS_REPEAT_HELPURL}',\n  },\n  // Block for reversing a list.\n  {\n    'type': 'lists_reverse',\n    'message0': '%{BKY_LISTS_REVERSE_MESSAGE0}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'LIST',\n        'check': 'Array',\n      },\n    ],\n    'output': 'Array',\n    'inputsInline': true,\n    'style': 'list_blocks',\n    'tooltip': '%{BKY_LISTS_REVERSE_TOOLTIP}',\n    'helpUrl': '%{BKY_LISTS_REVERSE_HELPURL}',\n  },\n  // Block for checking if a list is empty\n  {\n    'type': 'lists_isEmpty',\n    'message0': '%{BKY_LISTS_ISEMPTY_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n        'check': ['String', 'Array'],\n      },\n    ],\n    'output': 'Boolean',\n    'style': 'list_blocks',\n    'tooltip': '%{BKY_LISTS_ISEMPTY_TOOLTIP}',\n    'helpUrl': '%{BKY_LISTS_ISEMPTY_HELPURL}',\n  },\n  // Block for getting the list length\n  {\n    'type': 'lists_length',\n    'message0': '%{BKY_LISTS_LENGTH_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n        'check': ['String', 'Array'],\n      },\n    ],\n    'output': 'Number',\n    'style': 'list_blocks',\n    'tooltip': '%{BKY_LISTS_LENGTH_TOOLTIP}',\n    'helpUrl': '%{BKY_LISTS_LENGTH_HELPURL}',\n  },\n]);\nexports.blocks = blocks;\n\nblocks['lists_create_with'] = {\n  /**\n   * Block for creating a list with any number of elements of any type.\n   * @this {Block}\n   */\n  init: function() {\n    this.setHelpUrl(Msg['LISTS_CREATE_WITH_HELPURL']);\n    this.setStyle('list_blocks');\n    this.itemCount_ = 3;\n    this.updateShape_();\n    this.setOutput(true, 'Array');\n    this.setMutator(new Mutator(['lists_create_with_item'], this));\n    this.setTooltip(Msg['LISTS_CREATE_WITH_TOOLTIP']);\n  },\n  /**\n   * Create XML to represent list inputs.\n   * Backwards compatible serialization implementation.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('items', this.itemCount_);\n    return container;\n  },\n  /**\n   * Parse XML to restore the list inputs.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.itemCount_ = parseInt(xmlElement.getAttribute('items'), 10);\n    this.updateShape_();\n  },\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {{itemCount: number}} The state of this block, ie the item count.\n   */\n  saveExtraState: function() {\n    return {\n      'itemCount': this.itemCount_,\n    };\n  },\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block, ie the item count.\n   */\n  loadExtraState: function(state) {\n    this.itemCount_ = state['itemCount'];\n    this.updateShape_();\n  },\n  /**\n   * Populate the mutator's dialog with this block's components.\n   * @param {!Workspace} workspace Mutator's workspace.\n   * @return {!Block} Root block in mutator.\n   * @this {Block}\n   */\n  decompose: function(workspace) {\n    const containerBlock = workspace.newBlock('lists_create_with_container');\n    containerBlock.initSvg();\n    let connection = containerBlock.getInput('STACK').connection;\n    for (let i = 0; i < this.itemCount_; i++) {\n      const itemBlock = workspace.newBlock('lists_create_with_item');\n      itemBlock.initSvg();\n      connection.connect(itemBlock.previousConnection);\n      connection = itemBlock.nextConnection;\n    }\n    return containerBlock;\n  },\n  /**\n   * Reconfigure this block based on the mutator dialog's components.\n   * @param {!Block} containerBlock Root block in mutator.\n   * @this {Block}\n   */\n  compose: function(containerBlock) {\n    let itemBlock = containerBlock.getInputTargetBlock('STACK');\n    // Count number of inputs.\n    const connections = [];\n    while (itemBlock) {\n      if (itemBlock.isInsertionMarker()) {\n        itemBlock = itemBlock.getNextBlock();\n        continue;\n      }\n      connections.push(itemBlock.valueConnection_);\n      itemBlock = itemBlock.getNextBlock();\n    }\n    // Disconnect any children that don't belong.\n    for (let i = 0; i < this.itemCount_; i++) {\n      const connection = this.getInput('ADD' + i).connection.targetConnection;\n      if (connection && connections.indexOf(connection) === -1) {\n        connection.disconnect();\n      }\n    }\n    this.itemCount_ = connections.length;\n    this.updateShape_();\n    // Reconnect any child blocks.\n    for (let i = 0; i < this.itemCount_; i++) {\n      Mutator.reconnect(connections[i], this, 'ADD' + i);\n    }\n  },\n  /**\n   * Store pointers to any connected child blocks.\n   * @param {!Block} containerBlock Root block in mutator.\n   * @this {Block}\n   */\n  saveConnections: function(containerBlock) {\n    let itemBlock = containerBlock.getInputTargetBlock('STACK');\n    let i = 0;\n    while (itemBlock) {\n      if (itemBlock.isInsertionMarker()) {\n        itemBlock = itemBlock.getNextBlock();\n        continue;\n      }\n      const input = this.getInput('ADD' + i);\n      itemBlock.valueConnection_ = input && input.connection.targetConnection;\n      itemBlock = itemBlock.getNextBlock();\n      i++;\n    }\n  },\n  /**\n   * Modify this block to have the correct number of inputs.\n   * @private\n   * @this {Block}\n   */\n  updateShape_: function() {\n    if (this.itemCount_ && this.getInput('EMPTY')) {\n      this.removeInput('EMPTY');\n    } else if (!this.itemCount_ && !this.getInput('EMPTY')) {\n      this.appendDummyInput('EMPTY').appendField(\n          Msg['LISTS_CREATE_EMPTY_TITLE']);\n    }\n    // Add new inputs.\n    for (let i = 0; i < this.itemCount_; i++) {\n      if (!this.getInput('ADD' + i)) {\n        const input = this.appendValueInput('ADD' + i).setAlign(Align.RIGHT);\n        if (i === 0) {\n          input.appendField(Msg['LISTS_CREATE_WITH_INPUT_WITH']);\n        }\n      }\n    }\n    // Remove deleted inputs.\n    for (let i = this.itemCount_; this.getInput('ADD' + i); i++) {\n      this.removeInput('ADD' + i);\n    }\n  },\n};\n\nblocks['lists_create_with_container'] = {\n  /**\n   * Mutator block for list container.\n   * @this {Block}\n   */\n  init: function() {\n    this.setStyle('list_blocks');\n    this.appendDummyInput().appendField(\n        Msg['LISTS_CREATE_WITH_CONTAINER_TITLE_ADD']);\n    this.appendStatementInput('STACK');\n    this.setTooltip(Msg['LISTS_CREATE_WITH_CONTAINER_TOOLTIP']);\n    this.contextMenu = false;\n  },\n};\n\nblocks['lists_create_with_item'] = {\n  /**\n   * Mutator block for adding items.\n   * @this {Block}\n   */\n  init: function() {\n    this.setStyle('list_blocks');\n    this.appendDummyInput().appendField(Msg['LISTS_CREATE_WITH_ITEM_TITLE']);\n    this.setPreviousStatement(true);\n    this.setNextStatement(true);\n    this.setTooltip(Msg['LISTS_CREATE_WITH_ITEM_TOOLTIP']);\n    this.contextMenu = false;\n  },\n};\n\nblocks['lists_indexOf'] = {\n  /**\n   * Block for finding an item in the list.\n   * @this {Block}\n   */\n  init: function() {\n    const OPERATORS = [\n      [Msg['LISTS_INDEX_OF_FIRST'], 'FIRST'],\n      [Msg['LISTS_INDEX_OF_LAST'], 'LAST'],\n    ];\n    this.setHelpUrl(Msg['LISTS_INDEX_OF_HELPURL']);\n    this.setStyle('list_blocks');\n    this.setOutput(true, 'Number');\n    this.appendValueInput('VALUE').setCheck('Array').appendField(\n        Msg['LISTS_INDEX_OF_INPUT_IN_LIST']);\n    const operatorsDropdown = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: OPERATORS,\n    });\n    this.appendValueInput('FIND').appendField(operatorsDropdown, 'END');\n    this.setInputsInline(true);\n    // Assign 'this' to a variable for use in the tooltip closure below.\n    const thisBlock = this;\n    this.setTooltip(function() {\n      return Msg['LISTS_INDEX_OF_TOOLTIP'].replace(\n          '%1', thisBlock.workspace.options.oneBasedIndex ? '0' : '-1');\n    });\n  },\n};\n\nblocks['lists_getIndex'] = {\n  /**\n   * Block for getting element at index.\n   * @this {Block}\n   */\n  init: function() {\n    const MODE = [\n      [Msg['LISTS_GET_INDEX_GET'], 'GET'],\n      [Msg['LISTS_GET_INDEX_GET_REMOVE'], 'GET_REMOVE'],\n      [Msg['LISTS_GET_INDEX_REMOVE'], 'REMOVE'],\n    ];\n    this.WHERE_OPTIONS = [\n      [Msg['LISTS_GET_INDEX_FROM_START'], 'FROM_START'],\n      [Msg['LISTS_GET_INDEX_FROM_END'], 'FROM_END'],\n      [Msg['LISTS_GET_INDEX_FIRST'], 'FIRST'],\n      [Msg['LISTS_GET_INDEX_LAST'], 'LAST'],\n      [Msg['LISTS_GET_INDEX_RANDOM'], 'RANDOM'],\n    ];\n    this.setHelpUrl(Msg['LISTS_GET_INDEX_HELPURL']);\n    this.setStyle('list_blocks');\n    const modeMenu = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: MODE,\n    });\n    modeMenu.setValidator(\n        /**\n         * @param {*} value The input value.\n         * @this {FieldDropdown}\n         */\n        function(value) {\n          const isStatement = (value === 'REMOVE');\n          this.getSourceBlock().updateStatement_(isStatement);\n        });\n    this.appendValueInput('VALUE').setCheck('Array').appendField(\n        Msg['LISTS_GET_INDEX_INPUT_IN_LIST']);\n    this.appendDummyInput()\n        .appendField(modeMenu, 'MODE')\n        .appendField('', 'SPACE');\n    this.appendDummyInput('AT');\n    if (Msg['LISTS_GET_INDEX_TAIL']) {\n      this.appendDummyInput('TAIL').appendField(Msg['LISTS_GET_INDEX_TAIL']);\n    }\n    this.setInputsInline(true);\n    this.setOutput(true);\n    this.updateAt_(true);\n    // Assign 'this' to a variable for use in the tooltip closure below.\n    const thisBlock = this;\n    this.setTooltip(function() {\n      const mode = thisBlock.getFieldValue('MODE');\n      const where = thisBlock.getFieldValue('WHERE');\n      let tooltip = '';\n      switch (mode + ' ' + where) {\n        case 'GET FROM_START':\n        case 'GET FROM_END':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_FROM'];\n          break;\n        case 'GET FIRST':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_FIRST'];\n          break;\n        case 'GET LAST':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_LAST'];\n          break;\n        case 'GET RANDOM':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_RANDOM'];\n          break;\n        case 'GET_REMOVE FROM_START':\n        case 'GET_REMOVE FROM_END':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM'];\n          break;\n        case 'GET_REMOVE FIRST':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST'];\n          break;\n        case 'GET_REMOVE LAST':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST'];\n          break;\n        case 'GET_REMOVE RANDOM':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM'];\n          break;\n        case 'REMOVE FROM_START':\n        case 'REMOVE FROM_END':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM'];\n          break;\n        case 'REMOVE FIRST':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST'];\n          break;\n        case 'REMOVE LAST':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST'];\n          break;\n        case 'REMOVE RANDOM':\n          tooltip = Msg['LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM'];\n          break;\n      }\n      if (where === 'FROM_START' || where === 'FROM_END') {\n        const msg = (where === 'FROM_START') ?\n            Msg['LISTS_INDEX_FROM_START_TOOLTIP'] :\n            Msg['LISTS_INDEX_FROM_END_TOOLTIP'];\n        tooltip += '  ' +\n            msg.replace(\n                '%1', thisBlock.workspace.options.oneBasedIndex ? '#1' : '#0');\n      }\n      return tooltip;\n    });\n  },\n  /**\n   * Create XML to represent whether the block is a statement or a value.\n   * Also represent whether there is an 'AT' input.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    const isStatement = !this.outputConnection;\n    container.setAttribute('statement', isStatement);\n    const isAt = this.getInput('AT').type === ConnectionType.INPUT_VALUE;\n    container.setAttribute('at', isAt);\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'AT' input.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    // Note: Until January 2013 this block did not have mutations,\n    // so 'statement' defaults to false and 'at' defaults to true.\n    const isStatement = (xmlElement.getAttribute('statement') === 'true');\n    this.updateStatement_(isStatement);\n    const isAt = (xmlElement.getAttribute('at') !== 'false');\n    this.updateAt_(isAt);\n  },\n\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * Returns null for efficiency if no state is needed (not a statement)\n   * @return {?{isStatement: boolean}} The state of this block, ie whether it's\n   *     a statement.\n   */\n  saveExtraState: function() {\n    if (!this.outputConnection) {\n      return {\n        'isStatement': true,\n      };\n    }\n    return null;\n  },\n\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block, ie whether it's a\n   *     statement.\n   */\n  loadExtraState: function(state) {\n    if (state['isStatement']) {\n      this.updateStatement_(true);\n    } else if (typeof state === 'string') {\n      // backward compatible for json serialised mutations\n      this.domToMutation(xmlUtils.textToDom(state));\n    }\n  },\n\n  /**\n   * Switch between a value block and a statement block.\n   * @param {boolean} newStatement True if the block should be a statement.\n   *     False if the block should be a value.\n   * @private\n   * @this {Block}\n   */\n  updateStatement_: function(newStatement) {\n    const oldStatement = !this.outputConnection;\n    if (newStatement !== oldStatement) {\n      this.unplug(true, true);\n      if (newStatement) {\n        this.setOutput(false);\n        this.setPreviousStatement(true);\n        this.setNextStatement(true);\n      } else {\n        this.setPreviousStatement(false);\n        this.setNextStatement(false);\n        this.setOutput(true);\n      }\n    }\n  },\n  /**\n   * Create or delete an input for the numeric index.\n   * @param {boolean} isAt True if the input should exist.\n   * @private\n   * @this {Block}\n   */\n  updateAt_: function(isAt) {\n    // Destroy old 'AT' and 'ORDINAL' inputs.\n    this.removeInput('AT');\n    this.removeInput('ORDINAL', true);\n    // Create either a value 'AT' input or a dummy input.\n    if (isAt) {\n      this.appendValueInput('AT').setCheck('Number');\n      if (Msg['ORDINAL_NUMBER_SUFFIX']) {\n        this.appendDummyInput('ORDINAL').appendField(\n            Msg['ORDINAL_NUMBER_SUFFIX']);\n      }\n    } else {\n      this.appendDummyInput('AT');\n    }\n    const menu = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: this.WHERE_OPTIONS,\n    });\n    menu.setValidator(\n        /**\n         * @param {*} value The input value.\n         * @this {FieldDropdown}\n         * @return {null|undefined} Null if the field has been replaced;\n         *     otherwise undefined.\n         */\n        function(value) {\n          const newAt = (value === 'FROM_START') || (value === 'FROM_END');\n          // The 'isAt' variable is available due to this function being a\n          // closure.\n          if (newAt !== isAt) {\n            const block = this.getSourceBlock();\n            block.updateAt_(newAt);\n            // This menu has been destroyed and replaced.  Update the\n            // replacement.\n            block.setFieldValue(value, 'WHERE');\n            return null;\n          }\n          return undefined;\n        });\n    this.getInput('AT').appendField(menu, 'WHERE');\n    if (Msg['LISTS_GET_INDEX_TAIL']) {\n      this.moveInputBefore('TAIL', null);\n    }\n  },\n};\n\nblocks['lists_setIndex'] = {\n  /**\n   * Block for setting the element at index.\n   * @this {Block}\n   */\n  init: function() {\n    const MODE = [\n      [Msg['LISTS_SET_INDEX_SET'], 'SET'],\n      [Msg['LISTS_SET_INDEX_INSERT'], 'INSERT'],\n    ];\n    this.WHERE_OPTIONS = [\n      [Msg['LISTS_GET_INDEX_FROM_START'], 'FROM_START'],\n      [Msg['LISTS_GET_INDEX_FROM_END'], 'FROM_END'],\n      [Msg['LISTS_GET_INDEX_FIRST'], 'FIRST'],\n      [Msg['LISTS_GET_INDEX_LAST'], 'LAST'],\n      [Msg['LISTS_GET_INDEX_RANDOM'], 'RANDOM'],\n    ];\n    this.setHelpUrl(Msg['LISTS_SET_INDEX_HELPURL']);\n    this.setStyle('list_blocks');\n    this.appendValueInput('LIST').setCheck('Array').appendField(\n        Msg['LISTS_SET_INDEX_INPUT_IN_LIST']);\n    const operationDropdown = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: MODE,\n    });\n    this.appendDummyInput()\n        .appendField(operationDropdown, 'MODE')\n        .appendField('', 'SPACE');\n    this.appendDummyInput('AT');\n    this.appendValueInput('TO').appendField(Msg['LISTS_SET_INDEX_INPUT_TO']);\n    this.setInputsInline(true);\n    this.setPreviousStatement(true);\n    this.setNextStatement(true);\n    this.setTooltip(Msg['LISTS_SET_INDEX_TOOLTIP']);\n    this.updateAt_(true);\n    // Assign 'this' to a variable for use in the tooltip closure below.\n    const thisBlock = this;\n    this.setTooltip(function() {\n      const mode = thisBlock.getFieldValue('MODE');\n      const where = thisBlock.getFieldValue('WHERE');\n      let tooltip = '';\n      switch (mode + ' ' + where) {\n        case 'SET FROM_START':\n        case 'SET FROM_END':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_SET_FROM'];\n          break;\n        case 'SET FIRST':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_SET_FIRST'];\n          break;\n        case 'SET LAST':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_SET_LAST'];\n          break;\n        case 'SET RANDOM':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_SET_RANDOM'];\n          break;\n        case 'INSERT FROM_START':\n        case 'INSERT FROM_END':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_INSERT_FROM'];\n          break;\n        case 'INSERT FIRST':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST'];\n          break;\n        case 'INSERT LAST':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_INSERT_LAST'];\n          break;\n        case 'INSERT RANDOM':\n          tooltip = Msg['LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM'];\n          break;\n      }\n      if (where === 'FROM_START' || where === 'FROM_END') {\n        tooltip += '  ' +\n            Msg['LISTS_INDEX_FROM_START_TOOLTIP'].replace(\n                '%1', thisBlock.workspace.options.oneBasedIndex ? '#1' : '#0');\n      }\n      return tooltip;\n    });\n  },\n  /**\n   * Create XML to represent whether there is an 'AT' input.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    const isAt = this.getInput('AT').type === ConnectionType.INPUT_VALUE;\n    container.setAttribute('at', isAt);\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'AT' input.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    // Note: Until January 2013 this block did not have mutations,\n    // so 'at' defaults to true.\n    const isAt = (xmlElement.getAttribute('at') !== 'false');\n    this.updateAt_(isAt);\n  },\n\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * This block does not need to serialize any specific state as it is already\n   * encoded in the dropdown values, but must have an implementation to avoid\n   * the backward compatible XML mutations being serialized.\n   * @return {null} The state of this block.\n   */\n  saveExtraState: function() {\n    return null;\n  },\n\n  /**\n   * Applies the given state to this block.\n   * No extra state is needed or expected as it is already encoded in the\n   * dropdown values.\n   */\n  loadExtraState: function() {},\n\n  /**\n   * Create or delete an input for the numeric index.\n   * @param {boolean} isAt True if the input should exist.\n   * @private\n   * @this {Block}\n   */\n  updateAt_: function(isAt) {\n    // Destroy old 'AT' and 'ORDINAL' input.\n    this.removeInput('AT');\n    this.removeInput('ORDINAL', true);\n    // Create either a value 'AT' input or a dummy input.\n    if (isAt) {\n      this.appendValueInput('AT').setCheck('Number');\n      if (Msg['ORDINAL_NUMBER_SUFFIX']) {\n        this.appendDummyInput('ORDINAL').appendField(\n            Msg['ORDINAL_NUMBER_SUFFIX']);\n      }\n    } else {\n      this.appendDummyInput('AT');\n    }\n    const menu = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: this.WHERE_OPTIONS,\n    });\n    menu.setValidator(\n        /**\n         * @param {*} value The input value.\n         * @this {FieldDropdown}\n         * @return {null|undefined} Null if the field has been replaced;\n         *     otherwise undefined.\n         */\n        function(value) {\n          const newAt = (value === 'FROM_START') || (value === 'FROM_END');\n          // The 'isAt' variable is available due to this function being a\n          // closure.\n          if (newAt !== isAt) {\n            const block = this.getSourceBlock();\n            block.updateAt_(newAt);\n            // This menu has been destroyed and replaced.  Update the\n            // replacement.\n            block.setFieldValue(value, 'WHERE');\n            return null;\n          }\n          return undefined;\n        });\n    this.moveInputBefore('AT', 'TO');\n    if (this.getInput('ORDINAL')) {\n      this.moveInputBefore('ORDINAL', 'TO');\n    }\n\n    this.getInput('AT').appendField(menu, 'WHERE');\n  },\n};\n\nblocks['lists_getSublist'] = {\n  /**\n   * Block for getting sublist.\n   * @this {Block}\n   */\n  init: function() {\n    this['WHERE_OPTIONS_1'] = [\n      [Msg['LISTS_GET_SUBLIST_START_FROM_START'], 'FROM_START'],\n      [Msg['LISTS_GET_SUBLIST_START_FROM_END'], 'FROM_END'],\n      [Msg['LISTS_GET_SUBLIST_START_FIRST'], 'FIRST'],\n    ];\n    this['WHERE_OPTIONS_2'] = [\n      [Msg['LISTS_GET_SUBLIST_END_FROM_START'], 'FROM_START'],\n      [Msg['LISTS_GET_SUBLIST_END_FROM_END'], 'FROM_END'],\n      [Msg['LISTS_GET_SUBLIST_END_LAST'], 'LAST'],\n    ];\n    this.setHelpUrl(Msg['LISTS_GET_SUBLIST_HELPURL']);\n    this.setStyle('list_blocks');\n    this.appendValueInput('LIST').setCheck('Array').appendField(\n        Msg['LISTS_GET_SUBLIST_INPUT_IN_LIST']);\n    this.appendDummyInput('AT1');\n    this.appendDummyInput('AT2');\n    if (Msg['LISTS_GET_SUBLIST_TAIL']) {\n      this.appendDummyInput('TAIL').appendField(Msg['LISTS_GET_SUBLIST_TAIL']);\n    }\n    this.setInputsInline(true);\n    this.setOutput(true, 'Array');\n    this.updateAt_(1, true);\n    this.updateAt_(2, true);\n    this.setTooltip(Msg['LISTS_GET_SUBLIST_TOOLTIP']);\n  },\n  /**\n   * Create XML to represent whether there are 'AT' inputs.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    const isAt1 = this.getInput('AT1').type === ConnectionType.INPUT_VALUE;\n    container.setAttribute('at1', isAt1);\n    const isAt2 = this.getInput('AT2').type === ConnectionType.INPUT_VALUE;\n    container.setAttribute('at2', isAt2);\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'AT' inputs.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    const isAt1 = (xmlElement.getAttribute('at1') === 'true');\n    const isAt2 = (xmlElement.getAttribute('at2') === 'true');\n    this.updateAt_(1, isAt1);\n    this.updateAt_(2, isAt2);\n  },\n\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * This block does not need to serialize any specific state as it is already\n   * encoded in the dropdown values, but must have an implementation to avoid\n   * the backward compatible XML mutations being serialized.\n   * @return {null} The state of this block.\n   */\n  saveExtraState: function() {\n    return null;\n  },\n\n  /**\n   * Applies the given state to this block.\n   * No extra state is needed or expected as it is already encoded in the\n   * dropdown values.\n   */\n  loadExtraState: function() {},\n\n  /**\n   * Create or delete an input for a numeric index.\n   * This block has two such inputs, independent of each other.\n   * @param {number} n Specify first or second input (1 or 2).\n   * @param {boolean} isAt True if the input should exist.\n   * @private\n   * @this {Block}\n   */\n  updateAt_: function(n, isAt) {\n    // Create or delete an input for the numeric index.\n    // Destroy old 'AT' and 'ORDINAL' inputs.\n    this.removeInput('AT' + n);\n    this.removeInput('ORDINAL' + n, true);\n    // Create either a value 'AT' input or a dummy input.\n    if (isAt) {\n      this.appendValueInput('AT' + n).setCheck('Number');\n      if (Msg['ORDINAL_NUMBER_SUFFIX']) {\n        this.appendDummyInput('ORDINAL' + n)\n            .appendField(Msg['ORDINAL_NUMBER_SUFFIX']);\n      }\n    } else {\n      this.appendDummyInput('AT' + n);\n    }\n    const menu = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: this['WHERE_OPTIONS_' + n],\n    });\n    menu.setValidator(\n        /**\n         * @param {*} value The input value.\n         * @this {FieldDropdown}\n         * @return {null|undefined} Null if the field has been replaced;\n         *     otherwise undefined.\n         */\n        function(value) {\n          const newAt = (value === 'FROM_START') || (value === 'FROM_END');\n          // The 'isAt' variable is available due to this function being a\n          // closure.\n          if (newAt !== isAt) {\n            const block = this.getSourceBlock();\n            block.updateAt_(n, newAt);\n            // This menu has been destroyed and replaced.\n            // Update the replacement.\n            block.setFieldValue(value, 'WHERE' + n);\n            return null;\n          }\n        });\n    this.getInput('AT' + n).appendField(menu, 'WHERE' + n);\n    if (n === 1) {\n      this.moveInputBefore('AT1', 'AT2');\n      if (this.getInput('ORDINAL1')) {\n        this.moveInputBefore('ORDINAL1', 'AT2');\n      }\n    }\n    if (Msg['LISTS_GET_SUBLIST_TAIL']) {\n      this.moveInputBefore('TAIL', null);\n    }\n  },\n};\n\nblocks['lists_sort'] = {\n  /**\n   * Block for sorting a list.\n   * @this {Block}\n   */\n  init: function() {\n    this.jsonInit({\n      'message0': '%{BKY_LISTS_SORT_TITLE}',\n      'args0': [\n        {\n          'type': 'field_dropdown',\n          'name': 'TYPE',\n          'options': [\n            ['%{BKY_LISTS_SORT_TYPE_NUMERIC}', 'NUMERIC'],\n            ['%{BKY_LISTS_SORT_TYPE_TEXT}', 'TEXT'],\n            ['%{BKY_LISTS_SORT_TYPE_IGNORECASE}', 'IGNORE_CASE'],\n          ],\n        },\n        {\n          'type': 'field_dropdown',\n          'name': 'DIRECTION',\n          'options': [\n            ['%{BKY_LISTS_SORT_ORDER_ASCENDING}', '1'],\n            ['%{BKY_LISTS_SORT_ORDER_DESCENDING}', '-1'],\n          ],\n        },\n        {\n          'type': 'input_value',\n          'name': 'LIST',\n          'check': 'Array',\n        },\n      ],\n      'output': 'Array',\n      'style': 'list_blocks',\n      'tooltip': '%{BKY_LISTS_SORT_TOOLTIP}',\n      'helpUrl': '%{BKY_LISTS_SORT_HELPURL}',\n    });\n  },\n};\n\nblocks['lists_split'] = {\n  /**\n   * Block for splitting text into a list, or joining a list into text.\n   * @this {Block}\n   */\n  init: function() {\n    // Assign 'this' to a variable for use in the closures below.\n    const thisBlock = this;\n    const dropdown = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: [\n        [Msg['LISTS_SPLIT_LIST_FROM_TEXT'], 'SPLIT'],\n        [Msg['LISTS_SPLIT_TEXT_FROM_LIST'], 'JOIN'],\n      ],\n    });\n    dropdown.setValidator(function(newMode) {\n      thisBlock.updateType_(newMode);\n    });\n    this.setHelpUrl(Msg['LISTS_SPLIT_HELPURL']);\n    this.setStyle('list_blocks');\n    this.appendValueInput('INPUT').setCheck('String').appendField(\n        dropdown, 'MODE');\n    this.appendValueInput('DELIM').setCheck('String').appendField(\n        Msg['LISTS_SPLIT_WITH_DELIMITER']);\n    this.setInputsInline(true);\n    this.setOutput(true, 'Array');\n    this.setTooltip(function() {\n      const mode = thisBlock.getFieldValue('MODE');\n      if (mode === 'SPLIT') {\n        return Msg['LISTS_SPLIT_TOOLTIP_SPLIT'];\n      } else if (mode === 'JOIN') {\n        return Msg['LISTS_SPLIT_TOOLTIP_JOIN'];\n      }\n      throw Error('Unknown mode: ' + mode);\n    });\n  },\n  /**\n   * Modify this block to have the correct input and output types.\n   * @param {string} newMode Either 'SPLIT' or 'JOIN'.\n   * @private\n   * @this {Block}\n   */\n  updateType_: function(newMode) {\n    const mode = this.getFieldValue('MODE');\n    if (mode !== newMode) {\n      const inputConnection = this.getInput('INPUT').connection;\n      inputConnection.setShadowDom(null);\n      const inputBlock = inputConnection.targetBlock();\n      if (inputBlock) {\n        inputConnection.disconnect();\n        if (inputBlock.isShadow()) {\n          inputBlock.dispose();\n        } else {\n          this.bumpNeighbours();\n        }\n      }\n    }\n    if (newMode === 'SPLIT') {\n      this.outputConnection.setCheck('Array');\n      this.getInput('INPUT').setCheck('String');\n    } else {\n      this.outputConnection.setCheck('String');\n      this.getInput('INPUT').setCheck('Array');\n    }\n  },\n  /**\n   * Create XML to represent the input and output types.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('mode', this.getFieldValue('MODE'));\n    return container;\n  },\n  /**\n   * Parse XML to restore the input and output types.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.updateType_(xmlElement.getAttribute('mode'));\n  },\n\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * This block does not need to serialize any specific state as it is already\n   * encoded in the dropdown values, but must have an implementation to avoid\n   * the backward compatible XML mutations being serialized.\n   * @return {null} The state of this block.\n   */\n  saveExtraState: function() {\n    return null;\n  },\n\n  /**\n   * Applies the given state to this block.\n   * No extra state is needed or expected as it is already encoded in the\n   * dropdown values.\n   */\n  loadExtraState: function() {},\n};\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Logic blocks for Blockly.\n * @suppress {checkTypes}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks.logic');\n\n/* eslint-disable-next-line no-unused-vars */\nconst AbstractEvent = goog.requireType('Blockly.Events.Abstract');\nconst Events = goog.require('Blockly.Events');\nconst Extensions = goog.require('Blockly.Extensions');\nconst xmlUtils = goog.require('Blockly.utils.xml');\n/* eslint-disable-next-line no-unused-vars */\nconst {Block} = goog.requireType('Blockly.Block');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\nconst {Msg} = goog.require('Blockly.Msg');\nconst {Mutator} = goog.require('Blockly.Mutator');\n/* eslint-disable-next-line no-unused-vars */\nconst {RenderedConnection} = goog.requireType('Blockly.RenderedConnection');\n/* eslint-disable-next-line no-unused-vars */\nconst {Workspace} = goog.requireType('Blockly.Workspace');\nconst {createBlockDefinitionsFromJsonArray, defineBlocks} = goog.require('Blockly.common');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldDropdown');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldLabel');\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = createBlockDefinitionsFromJsonArray([\n  // Block for boolean data type: true and false.\n  {\n    'type': 'logic_boolean',\n    'message0': '%1',\n    'args0': [\n      {\n        'type': 'field_dropdown',\n        'name': 'BOOL',\n        'options': [\n          ['%{BKY_LOGIC_BOOLEAN_TRUE}', 'TRUE'],\n          ['%{BKY_LOGIC_BOOLEAN_FALSE}', 'FALSE'],\n        ],\n      },\n    ],\n    'output': 'Boolean',\n    'style': 'logic_blocks',\n    'tooltip': '%{BKY_LOGIC_BOOLEAN_TOOLTIP}',\n    'helpUrl': '%{BKY_LOGIC_BOOLEAN_HELPURL}',\n  },\n  // Block for if/elseif/else condition.\n  {\n    'type': 'controls_if',\n    'message0': '%{BKY_CONTROLS_IF_MSG_IF} %1',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'IF0',\n        'check': 'Boolean',\n      },\n    ],\n    'message1': '%{BKY_CONTROLS_IF_MSG_THEN} %1',\n    'args1': [\n      {\n        'type': 'input_statement',\n        'name': 'DO0',\n      },\n    ],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'logic_blocks',\n    'helpUrl': '%{BKY_CONTROLS_IF_HELPURL}',\n    'suppressPrefixSuffix': true,\n    'mutator': 'controls_if_mutator',\n    'extensions': ['controls_if_tooltip'],\n  },\n  // If/else block that does not use a mutator.\n  {\n    'type': 'controls_ifelse',\n    'message0': '%{BKY_CONTROLS_IF_MSG_IF} %1',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'IF0',\n        'check': 'Boolean',\n      },\n    ],\n    'message1': '%{BKY_CONTROLS_IF_MSG_THEN} %1',\n    'args1': [\n      {\n        'type': 'input_statement',\n        'name': 'DO0',\n      },\n    ],\n    'message2': '%{BKY_CONTROLS_IF_MSG_ELSE} %1',\n    'args2': [\n      {\n        'type': 'input_statement',\n        'name': 'ELSE',\n      },\n    ],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'logic_blocks',\n    'tooltip': '%{BKYCONTROLS_IF_TOOLTIP_2}',\n    'helpUrl': '%{BKY_CONTROLS_IF_HELPURL}',\n    'suppressPrefixSuffix': true,\n    'extensions': ['controls_if_tooltip'],\n  },\n  // Block for comparison operator.\n  {\n    'type': 'logic_compare',\n    'message0': '%1 %2 %3',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'A',\n      },\n      {\n        'type': 'field_dropdown',\n        'name': 'OP',\n        'options': [\n          ['=', 'EQ'],\n          ['\\u2260', 'NEQ'],\n          ['\\u200F<', 'LT'],\n          ['\\u200F\\u2264', 'LTE'],\n          ['\\u200F>', 'GT'],\n          ['\\u200F\\u2265', 'GTE'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'B',\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Boolean',\n    'style': 'logic_blocks',\n    'helpUrl': '%{BKY_LOGIC_COMPARE_HELPURL}',\n    'extensions': ['logic_compare', 'logic_op_tooltip'],\n  },\n  // Block for logical operations: 'and', 'or'.\n  {\n    'type': 'logic_operation',\n    'message0': '%1 %2 %3',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'A',\n        'check': 'Boolean',\n      },\n      {\n        'type': 'field_dropdown',\n        'name': 'OP',\n        'options': [\n          ['%{BKY_LOGIC_OPERATION_AND}', 'AND'],\n          ['%{BKY_LOGIC_OPERATION_OR}', 'OR'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'B',\n        'check': 'Boolean',\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Boolean',\n    'style': 'logic_blocks',\n    'helpUrl': '%{BKY_LOGIC_OPERATION_HELPURL}',\n    'extensions': ['logic_op_tooltip'],\n  },\n  // Block for negation.\n  {\n    'type': 'logic_negate',\n    'message0': '%{BKY_LOGIC_NEGATE_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'BOOL',\n        'check': 'Boolean',\n      },\n    ],\n    'output': 'Boolean',\n    'style': 'logic_blocks',\n    'tooltip': '%{BKY_LOGIC_NEGATE_TOOLTIP}',\n    'helpUrl': '%{BKY_LOGIC_NEGATE_HELPURL}',\n  },\n  // Block for null data type.\n  {\n    'type': 'logic_null',\n    'message0': '%{BKY_LOGIC_NULL}',\n    'output': null,\n    'style': 'logic_blocks',\n    'tooltip': '%{BKY_LOGIC_NULL_TOOLTIP}',\n    'helpUrl': '%{BKY_LOGIC_NULL_HELPURL}',\n  },\n  // Block for ternary operator.\n  {\n    'type': 'logic_ternary',\n    'message0': '%{BKY_LOGIC_TERNARY_CONDITION} %1',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'IF',\n        'check': 'Boolean',\n      },\n    ],\n    'message1': '%{BKY_LOGIC_TERNARY_IF_TRUE} %1',\n    'args1': [\n      {\n        'type': 'input_value',\n        'name': 'THEN',\n      },\n    ],\n    'message2': '%{BKY_LOGIC_TERNARY_IF_FALSE} %1',\n    'args2': [\n      {\n        'type': 'input_value',\n        'name': 'ELSE',\n      },\n    ],\n    'output': null,\n    'style': 'logic_blocks',\n    'tooltip': '%{BKY_LOGIC_TERNARY_TOOLTIP}',\n    'helpUrl': '%{BKY_LOGIC_TERNARY_HELPURL}',\n    'extensions': ['logic_ternary'],\n  },\n  // Block representing the if statement in the controls_if mutator.\n  {\n    'type': 'controls_if_if',\n    'message0': '%{BKY_CONTROLS_IF_IF_TITLE_IF}',\n    'nextStatement': null,\n    'enableContextMenu': false,\n    'style': 'logic_blocks',\n    'tooltip': '%{BKY_CONTROLS_IF_IF_TOOLTIP}',\n  },\n  // Block representing the else-if statement in the controls_if mutator.\n  {\n    'type': 'controls_if_elseif',\n    'message0': '%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}',\n    'previousStatement': null,\n    'nextStatement': null,\n    'enableContextMenu': false,\n    'style': 'logic_blocks',\n    'tooltip': '%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}',\n  },\n  // Block representing the else statement in the controls_if mutator.\n  {\n    'type': 'controls_if_else',\n    'message0': '%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}',\n    'previousStatement': null,\n    'enableContextMenu': false,\n    'style': 'logic_blocks',\n    'tooltip': '%{BKY_CONTROLS_IF_ELSE_TOOLTIP}',\n  },\n]);\nexports.blocks = blocks;\n\n/**\n * Tooltip text, keyed by block OP value. Used by logic_compare and\n * logic_operation blocks.\n * @see {Extensions#buildTooltipForDropdown}\n * @readonly\n */\nconst TOOLTIPS_BY_OP = {\n  // logic_compare\n  'EQ': '%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}',\n  'NEQ': '%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}',\n  'LT': '%{BKY_LOGIC_COMPARE_TOOLTIP_LT}',\n  'LTE': '%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}',\n  'GT': '%{BKY_LOGIC_COMPARE_TOOLTIP_GT}',\n  'GTE': '%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}',\n\n  // logic_operation\n  'AND': '%{BKY_LOGIC_OPERATION_TOOLTIP_AND}',\n  'OR': '%{BKY_LOGIC_OPERATION_TOOLTIP_OR}',\n};\n\nExtensions.register(\n    'logic_op_tooltip',\n    Extensions.buildTooltipForDropdown('OP', TOOLTIPS_BY_OP));\n\n/**\n * Mutator methods added to controls_if blocks.\n * @mixin\n * @augments Block\n * @readonly\n */\nconst CONTROLS_IF_MUTATOR_MIXIN = {\n  elseifCount_: 0,\n  elseCount_: 0,\n\n  /**\n   * Create XML to represent the number of else-if and else inputs.\n   * Backwards compatible serialization implementation.\n   * @return {Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    if (!this.elseifCount_ && !this.elseCount_) {\n      return null;\n    }\n    const container = xmlUtils.createElement('mutation');\n    if (this.elseifCount_) {\n      container.setAttribute('elseif', this.elseifCount_);\n    }\n    if (this.elseCount_) {\n      container.setAttribute('else', 1);\n    }\n    return container;\n  },\n  /**\n   * Parse XML to restore the else-if and else inputs.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.elseifCount_ = parseInt(xmlElement.getAttribute('elseif'), 10) || 0;\n    this.elseCount_ = parseInt(xmlElement.getAttribute('else'), 10) || 0;\n    this.rebuildShape_();\n  },\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {?{elseIfCount: (number|undefined), haseElse: (boolean|undefined)}}\n   *     The state of this block, ie the else if count and else state.\n   */\n  saveExtraState: function() {\n    if (!this.elseifCount_ && !this.elseCount_) {\n      return null;\n    }\n    const state = Object.create(null);\n    if (this.elseifCount_) {\n      state['elseIfCount'] = this.elseifCount_;\n    }\n    if (this.elseCount_) {\n      state['hasElse'] = true;\n    }\n    return state;\n  },\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block, ie the else if count and\n   *     else state.\n   */\n  loadExtraState: function(state) {\n    this.elseifCount_ = state['elseIfCount'] || 0;\n    this.elseCount_ = state['hasElse'] ? 1 : 0;\n    this.updateShape_();\n  },\n  /**\n   * Populate the mutator's dialog with this block's components.\n   * @param {!Workspace} workspace Mutator's workspace.\n   * @return {!Block} Root block in mutator.\n   * @this {Block}\n   */\n  decompose: function(workspace) {\n    const containerBlock = workspace.newBlock('controls_if_if');\n    containerBlock.initSvg();\n    let connection = containerBlock.nextConnection;\n    for (let i = 1; i <= this.elseifCount_; i++) {\n      const elseifBlock = workspace.newBlock('controls_if_elseif');\n      elseifBlock.initSvg();\n      connection.connect(elseifBlock.previousConnection);\n      connection = elseifBlock.nextConnection;\n    }\n    if (this.elseCount_) {\n      const elseBlock = workspace.newBlock('controls_if_else');\n      elseBlock.initSvg();\n      connection.connect(elseBlock.previousConnection);\n    }\n    return containerBlock;\n  },\n  /**\n   * Reconfigure this block based on the mutator dialog's components.\n   * @param {!Block} containerBlock Root block in mutator.\n   * @this {Block}\n   */\n  compose: function(containerBlock) {\n    let clauseBlock = containerBlock.nextConnection.targetBlock();\n    // Count number of inputs.\n    this.elseifCount_ = 0;\n    this.elseCount_ = 0;\n    const valueConnections = [null];\n    const statementConnections = [null];\n    let elseStatementConnection = null;\n    while (clauseBlock) {\n      if (clauseBlock.isInsertionMarker()) {\n        clauseBlock = clauseBlock.getNextBlock();\n        continue;\n      }\n      switch (clauseBlock.type) {\n        case 'controls_if_elseif':\n          this.elseifCount_++;\n          valueConnections.push(clauseBlock.valueConnection_);\n          statementConnections.push(clauseBlock.statementConnection_);\n          break;\n        case 'controls_if_else':\n          this.elseCount_++;\n          elseStatementConnection = clauseBlock.statementConnection_;\n          break;\n        default:\n          throw TypeError('Unknown block type: ' + clauseBlock.type);\n      }\n      clauseBlock = clauseBlock.getNextBlock();\n    }\n    this.updateShape_();\n    // Reconnect any child blocks.\n    this.reconnectChildBlocks_(\n        valueConnections, statementConnections, elseStatementConnection);\n  },\n  /**\n   * Store pointers to any connected child blocks.\n   * @param {!Block} containerBlock Root block in mutator.\n   * @this {Block}\n   */\n  saveConnections: function(containerBlock) {\n    let clauseBlock = containerBlock.nextConnection.targetBlock();\n    let i = 1;\n    while (clauseBlock) {\n      if (clauseBlock.isInsertionMarker()) {\n        clauseBlock = clauseBlock.getNextBlock();\n        continue;\n      }\n      switch (clauseBlock.type) {\n        case 'controls_if_elseif': {\n          const inputIf = this.getInput('IF' + i);\n          const inputDo = this.getInput('DO' + i);\n          clauseBlock.valueConnection_ =\n              inputIf && inputIf.connection.targetConnection;\n          clauseBlock.statementConnection_ =\n              inputDo && inputDo.connection.targetConnection;\n          i++;\n          break;\n        }\n        case 'controls_if_else': {\n          const inputDo = this.getInput('ELSE');\n          clauseBlock.statementConnection_ =\n              inputDo && inputDo.connection.targetConnection;\n          break;\n        }\n        default:\n          throw TypeError('Unknown block type: ' + clauseBlock.type);\n      }\n      clauseBlock = clauseBlock.getNextBlock();\n    }\n  },\n  /**\n   * Reconstructs the block with all child blocks attached.\n   * @this {Block}\n   */\n  rebuildShape_: function() {\n    const valueConnections = [null];\n    const statementConnections = [null];\n    let elseStatementConnection = null;\n\n    if (this.getInput('ELSE')) {\n      elseStatementConnection =\n          this.getInput('ELSE').connection.targetConnection;\n    }\n    for (let i = 1; this.getInput('IF' + i); i++) {\n      const inputIf = this.getInput('IF' + i);\n      const inputDo = this.getInput('DO' + i);\n      valueConnections.push(inputIf.connection.targetConnection);\n      statementConnections.push(inputDo.connection.targetConnection);\n    }\n    this.updateShape_();\n    this.reconnectChildBlocks_(\n        valueConnections, statementConnections, elseStatementConnection);\n  },\n  /**\n   * Modify this block to have the correct number of inputs.\n   * @this {Block}\n   * @private\n   */\n  updateShape_: function() {\n    // Delete everything.\n    if (this.getInput('ELSE')) {\n      this.removeInput('ELSE');\n    }\n    for (let i = 1; this.getInput('IF' + i); i++) {\n      this.removeInput('IF' + i);\n      this.removeInput('DO' + i);\n    }\n    // Rebuild block.\n    for (let i = 1; i <= this.elseifCount_; i++) {\n      this.appendValueInput('IF' + i).setCheck('Boolean').appendField(\n          Msg['CONTROLS_IF_MSG_ELSEIF']);\n      this.appendStatementInput('DO' + i).appendField(\n          Msg['CONTROLS_IF_MSG_THEN']);\n    }\n    if (this.elseCount_) {\n      this.appendStatementInput('ELSE').appendField(\n          Msg['CONTROLS_IF_MSG_ELSE']);\n    }\n  },\n  /**\n   * Reconnects child blocks.\n   * @param {!Array<?RenderedConnection>} valueConnections List of\n   * value connections for 'if' input.\n   * @param {!Array<?RenderedConnection>} statementConnections List of\n   * statement connections for 'do' input.\n   * @param {?RenderedConnection} elseStatementConnection Statement\n   * connection for else input.\n   * @this {Block}\n   */\n  reconnectChildBlocks_: function(\n      valueConnections, statementConnections, elseStatementConnection) {\n    for (let i = 1; i <= this.elseifCount_; i++) {\n      Mutator.reconnect(valueConnections[i], this, 'IF' + i);\n      Mutator.reconnect(statementConnections[i], this, 'DO' + i);\n    }\n    Mutator.reconnect(elseStatementConnection, this, 'ELSE');\n  },\n};\n\nExtensions.registerMutator(\n    'controls_if_mutator', CONTROLS_IF_MUTATOR_MIXIN, null,\n    ['controls_if_elseif', 'controls_if_else']);\n/**\n * \"controls_if\" extension function. Adds mutator, shape updating methods, and\n * dynamic tooltip to \"controls_if\" blocks.\n * @this {Block}\n */\nconst CONTROLS_IF_TOOLTIP_EXTENSION = function() {\n  this.setTooltip(function() {\n    if (!this.elseifCount_ && !this.elseCount_) {\n      return Msg['CONTROLS_IF_TOOLTIP_1'];\n    } else if (!this.elseifCount_ && this.elseCount_) {\n      return Msg['CONTROLS_IF_TOOLTIP_2'];\n    } else if (this.elseifCount_ && !this.elseCount_) {\n      return Msg['CONTROLS_IF_TOOLTIP_3'];\n    } else if (this.elseifCount_ && this.elseCount_) {\n      return Msg['CONTROLS_IF_TOOLTIP_4'];\n    }\n    return '';\n  }.bind(this));\n};\n\nExtensions.register('controls_if_tooltip', CONTROLS_IF_TOOLTIP_EXTENSION);\n\n/**\n * Adds dynamic type validation for the left and right sides of a logic_compare\n * block.\n * @mixin\n * @augments Block\n * @readonly\n */\nconst LOGIC_COMPARE_ONCHANGE_MIXIN = {\n  /**\n   * Called whenever anything on the workspace changes.\n   * Prevent mismatched types from being compared.\n   * @param {!AbstractEvent} e Change event.\n   * @this {Block}\n   */\n  onchange: function(e) {\n    if (!this.prevBlocks_) {\n      this.prevBlocks_ = [null, null];\n    }\n\n    const blockA = this.getInputTargetBlock('A');\n    const blockB = this.getInputTargetBlock('B');\n    // Disconnect blocks that existed prior to this change if they don't match.\n    if (blockA && blockB &&\n        !this.workspace.connectionChecker.doTypeChecks(\n            blockA.outputConnection, blockB.outputConnection)) {\n      // Mismatch between two inputs.  Revert the block connections,\n      // bumping away the newly connected block(s).\n      Events.setGroup(e.group);\n      const prevA = this.prevBlocks_[0];\n      if (prevA !== blockA) {\n        blockA.unplug();\n        if (prevA && !prevA.isDisposed() && !prevA.isShadow()) {\n          // The shadow block is automatically replaced during unplug().\n          this.getInput('A').connection.connect(prevA.outputConnection);\n        }\n      }\n      const prevB = this.prevBlocks_[1];\n      if (prevB !== blockB) {\n        blockB.unplug();\n        if (prevB && !prevB.isDisposed() && !prevB.isShadow()) {\n          // The shadow block is automatically replaced during unplug().\n          this.getInput('B').connection.connect(prevB.outputConnection);\n        }\n      }\n      this.bumpNeighbours();\n      Events.setGroup(false);\n    }\n    this.prevBlocks_[0] = this.getInputTargetBlock('A');\n    this.prevBlocks_[1] = this.getInputTargetBlock('B');\n  },\n};\n\n/**\n * \"logic_compare\" extension function. Adds type left and right side type\n * checking to \"logic_compare\" blocks.\n * @this {Block}\n * @readonly\n */\nconst LOGIC_COMPARE_EXTENSION = function() {\n  // Add onchange handler to ensure types are compatible.\n  this.mixin(LOGIC_COMPARE_ONCHANGE_MIXIN);\n};\n\nExtensions.register('logic_compare', LOGIC_COMPARE_EXTENSION);\n\n/**\n * Adds type coordination between inputs and output.\n * @mixin\n * @augments Block\n * @readonly\n */\nconst LOGIC_TERNARY_ONCHANGE_MIXIN = {\n  prevParentConnection_: null,\n\n  /**\n   * Called whenever anything on the workspace changes.\n   * Prevent mismatched types.\n   * @param {!AbstractEvent} e Change event.\n   * @this {Block}\n   */\n  onchange: function(e) {\n    const blockA = this.getInputTargetBlock('THEN');\n    const blockB = this.getInputTargetBlock('ELSE');\n    const parentConnection = this.outputConnection.targetConnection;\n    // Disconnect blocks that existed prior to this change if they don't match.\n    if ((blockA || blockB) && parentConnection) {\n      for (let i = 0; i < 2; i++) {\n        const block = (i === 1) ? blockA : blockB;\n        if (block &&\n            !block.workspace.connectionChecker.doTypeChecks(\n                block.outputConnection, parentConnection)) {\n          // Ensure that any disconnections are grouped with the causing event.\n          Events.setGroup(e.group);\n          if (parentConnection === this.prevParentConnection_) {\n            this.unplug();\n            parentConnection.getSourceBlock().bumpNeighbours();\n          } else {\n            block.unplug();\n            block.bumpNeighbours();\n          }\n          Events.setGroup(false);\n        }\n      }\n    }\n    this.prevParentConnection_ = parentConnection;\n  },\n};\n\nExtensions.registerMixin('logic_ternary', LOGIC_TERNARY_ONCHANGE_MIXIN);\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Loop blocks for Blockly.\n * @suppress {checkTypes}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks.loops');\n\n/* eslint-disable-next-line no-unused-vars */\nconst AbstractEvent = goog.requireType('Blockly.Events.Abstract');\nconst ContextMenu = goog.require('Blockly.ContextMenu');\nconst Events = goog.require('Blockly.Events');\nconst Extensions = goog.require('Blockly.Extensions');\nconst Variables = goog.require('Blockly.Variables');\nconst xmlUtils = goog.require('Blockly.utils.xml');\n/* eslint-disable-next-line no-unused-vars */\nconst {Block} = goog.requireType('Blockly.Block');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\nconst {Msg} = goog.require('Blockly.Msg');\nconst {createBlockDefinitionsFromJsonArray, defineBlocks} = goog.require('Blockly.common');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldDropdown');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldLabel');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldNumber');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldVariable');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.Warning');\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = createBlockDefinitionsFromJsonArray([\n  // Block for repeat n times (external number).\n  {\n    'type': 'controls_repeat_ext',\n    'message0': '%{BKY_CONTROLS_REPEAT_TITLE}',\n    'args0': [{\n      'type': 'input_value',\n      'name': 'TIMES',\n      'check': 'Number',\n    }],\n    'message1': '%{BKY_CONTROLS_REPEAT_INPUT_DO} %1',\n    'args1': [{\n      'type': 'input_statement',\n      'name': 'DO',\n    }],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'loop_blocks',\n    'tooltip': '%{BKY_CONTROLS_REPEAT_TOOLTIP}',\n    'helpUrl': '%{BKY_CONTROLS_REPEAT_HELPURL}',\n  },\n  // Block for repeat n times (internal number).\n  // The 'controls_repeat_ext' block is preferred as it is more flexible.\n  {\n    'type': 'controls_repeat',\n    'message0': '%{BKY_CONTROLS_REPEAT_TITLE}',\n    'args0': [{\n      'type': 'field_number',\n      'name': 'TIMES',\n      'value': 10,\n      'min': 0,\n      'precision': 1,\n    }],\n    'message1': '%{BKY_CONTROLS_REPEAT_INPUT_DO} %1',\n    'args1': [{\n      'type': 'input_statement',\n      'name': 'DO',\n    }],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'loop_blocks',\n    'tooltip': '%{BKY_CONTROLS_REPEAT_TOOLTIP}',\n    'helpUrl': '%{BKY_CONTROLS_REPEAT_HELPURL}',\n  },\n  // Block for 'do while/until' loop.\n  {\n    'type': 'controls_whileUntil',\n    'message0': '%1 %2',\n    'args0': [\n      {\n        'type': 'field_dropdown',\n        'name': 'MODE',\n        'options': [\n          ['%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}', 'WHILE'],\n          ['%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}', 'UNTIL'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'BOOL',\n        'check': 'Boolean',\n      },\n    ],\n    'message1': '%{BKY_CONTROLS_REPEAT_INPUT_DO} %1',\n    'args1': [{\n      'type': 'input_statement',\n      'name': 'DO',\n    }],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'loop_blocks',\n    'helpUrl': '%{BKY_CONTROLS_WHILEUNTIL_HELPURL}',\n    'extensions': ['controls_whileUntil_tooltip'],\n  },\n  // Block for 'for' loop.\n  {\n    'type': 'controls_for',\n    'message0': '%{BKY_CONTROLS_FOR_TITLE}',\n    'args0': [\n      {\n        'type': 'field_variable',\n        'name': 'VAR',\n        'variable': null,\n      },\n      {\n        'type': 'input_value',\n        'name': 'FROM',\n        'check': 'Number',\n        'align': 'RIGHT',\n      },\n      {\n        'type': 'input_value',\n        'name': 'TO',\n        'check': 'Number',\n        'align': 'RIGHT',\n      },\n      {\n        'type': 'input_value',\n        'name': 'BY',\n        'check': 'Number',\n        'align': 'RIGHT',\n      },\n    ],\n    'message1': '%{BKY_CONTROLS_REPEAT_INPUT_DO} %1',\n    'args1': [{\n      'type': 'input_statement',\n      'name': 'DO',\n    }],\n    'inputsInline': true,\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'loop_blocks',\n    'helpUrl': '%{BKY_CONTROLS_FOR_HELPURL}',\n    'extensions': [\n      'contextMenu_newGetVariableBlock',\n      'controls_for_tooltip',\n    ],\n  },\n  // Block for 'for each' loop.\n  {\n    'type': 'controls_forEach',\n    'message0': '%{BKY_CONTROLS_FOREACH_TITLE}',\n    'args0': [\n      {\n        'type': 'field_variable',\n        'name': 'VAR',\n        'variable': null,\n      },\n      {\n        'type': 'input_value',\n        'name': 'LIST',\n        'check': 'Array',\n      },\n    ],\n    'message1': '%{BKY_CONTROLS_REPEAT_INPUT_DO} %1',\n    'args1': [{\n      'type': 'input_statement',\n      'name': 'DO',\n    }],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'loop_blocks',\n    'helpUrl': '%{BKY_CONTROLS_FOREACH_HELPURL}',\n    'extensions': [\n      'contextMenu_newGetVariableBlock',\n      'controls_forEach_tooltip',\n    ],\n  },\n  // Block for flow statements: continue, break.\n  {\n    'type': 'controls_flow_statements',\n    'message0': '%1',\n    'args0': [{\n      'type': 'field_dropdown',\n      'name': 'FLOW',\n      'options': [\n        ['%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}', 'BREAK'],\n        ['%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}', 'CONTINUE'],\n      ],\n    }],\n    'previousStatement': null,\n    'style': 'loop_blocks',\n    'helpUrl': '%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}',\n    'suppressPrefixSuffix': true,\n    'extensions': [\n      'controls_flow_tooltip',\n      'controls_flow_in_loop_check',\n    ],\n  },\n]);\nexports.blocks = blocks;\n\n/**\n * Tooltips for the 'controls_whileUntil' block, keyed by MODE value.\n * @see {Extensions#buildTooltipForDropdown}\n * @readonly\n */\nconst WHILE_UNTIL_TOOLTIPS = {\n  'WHILE': '%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}',\n  'UNTIL': '%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}',\n};\n\nExtensions.register(\n    'controls_whileUntil_tooltip',\n    Extensions.buildTooltipForDropdown('MODE', WHILE_UNTIL_TOOLTIPS));\n\n/**\n * Tooltips for the 'controls_flow_statements' block, keyed by FLOW value.\n * @see {Extensions#buildTooltipForDropdown}\n * @readonly\n */\nconst BREAK_CONTINUE_TOOLTIPS = {\n  'BREAK': '%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}',\n  'CONTINUE': '%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}',\n};\n\nExtensions.register(\n    'controls_flow_tooltip',\n    Extensions.buildTooltipForDropdown('FLOW', BREAK_CONTINUE_TOOLTIPS));\n\n/**\n * Mixin to add a context menu item to create a 'variables_get' block.\n * Used by blocks 'controls_for' and 'controls_forEach'.\n * @mixin\n * @augments Block\n * @package\n * @readonly\n */\nconst CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN = {\n  /**\n   * Add context menu option to create getter block for the loop's variable.\n   * (customContextMenu support limited to web BlockSvg.)\n   * @param {!Array} options List of menu options to add to.\n   * @this {Block}\n   */\n  customContextMenu: function(options) {\n    if (this.isInFlyout) {\n      return;\n    }\n    const variable = this.getField('VAR').getVariable();\n    const varName = variable.name;\n    if (!this.isCollapsed() && varName !== null) {\n      const option = {enabled: true};\n      option.text = Msg['VARIABLES_SET_CREATE_GET'].replace('%1', varName);\n      const xmlField = Variables.generateVariableFieldDom(variable);\n      const xmlBlock = xmlUtils.createElement('block');\n      xmlBlock.setAttribute('type', 'variables_get');\n      xmlBlock.appendChild(xmlField);\n      option.callback = ContextMenu.callbackFactory(this, xmlBlock);\n      options.push(option);\n    }\n  },\n};\n\nExtensions.registerMixin(\n    'contextMenu_newGetVariableBlock',\n    CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN);\n\nExtensions.register(\n    'controls_for_tooltip',\n    Extensions.buildTooltipWithFieldText('%{BKY_CONTROLS_FOR_TOOLTIP}', 'VAR'));\n\nExtensions.register(\n    'controls_forEach_tooltip',\n    Extensions.buildTooltipWithFieldText(\n        '%{BKY_CONTROLS_FOREACH_TOOLTIP}', 'VAR'));\n\n/**\n * List of block types that are loops and thus do not need warnings.\n * To add a new loop type add this to your code:\n *\n * // If using the Blockly npm package and es6 import syntax:\n * import {loops} from 'blockly/blocks';\n * loops.loopTypes.add('custom_loop');\n *\n * // Else if using Closure Compiler and goog.modules:\n * const {loopTypes} = goog.require('Blockly.libraryBlocks.loops');\n * loopTypes.add('custom_loop');\n *\n * // Else if using blockly_compressed + blockss_compressed.js in browser:\n * Blockly.libraryBlocks.loopTypes.add('custom_loop');\n *\n * @type {!Set<string>}\n */\nconst loopTypes = new Set([\n  'controls_repeat',\n  'controls_repeat_ext',\n  'controls_forEach',\n  'controls_for',\n  'controls_whileUntil',\n]);\nexports.loopTypes = loopTypes;\n\n/**\n * This mixin adds a check to make sure the 'controls_flow_statements' block\n * is contained in a loop. Otherwise a warning is added to the block.\n * @mixin\n * @augments Block\n * @public\n * @readonly\n */\nconst CONTROL_FLOW_IN_LOOP_CHECK_MIXIN = {\n  /**\n   * Is this block enclosed (at any level) by a loop?\n   * @return {Block} The nearest surrounding loop, or null if none.\n   * @this {Block}\n   */\n  getSurroundLoop: function() {\n    let block = this;\n    do {\n      if (loopTypes.has(block.type)) {\n        return block;\n      }\n      block = block.getSurroundParent();\n    } while (block);\n    return null;\n  },\n\n  /**\n   * Called whenever anything on the workspace changes.\n   * Add warning if this flow block is not nested inside a loop.\n   * @param {!AbstractEvent} e Move event.\n   * @this {Block}\n   */\n  onchange: function(e) {\n    // Don't change state if:\n    //   * It's at the start of a drag.\n    //   * It's not a move event.\n    if (!this.workspace.isDragging || this.workspace.isDragging() ||\n        e.type !== Events.BLOCK_MOVE) {\n      return;\n    }\n    const enabled = this.getSurroundLoop(this);\n    this.setWarningText(\n        enabled ? null : Msg['CONTROLS_FLOW_STATEMENTS_WARNING']);\n    if (!this.isInFlyout) {\n      const group = Events.getGroup();\n      // Makes it so the move and the disable event get undone together.\n      Events.setGroup(e.group);\n      this.setEnabled(enabled);\n      Events.setGroup(group);\n    }\n  },\n};\n\nExtensions.registerMixin(\n    'controls_flow_in_loop_check', CONTROL_FLOW_IN_LOOP_CHECK_MIXIN);\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Math blocks for Blockly.\n */\n\nimport * as goog from '../closure/goog/goog.js';\ngoog.declareModuleId('Blockly.libraryBlocks.math');\n\nimport * as Extensions from '../core/extensions.js';\nimport type {Field} from '../core/field.js';\nimport type {FieldDropdown} from '../core/field_dropdown.js';\nimport * as xmlUtils from '../core/utils/xml.js';\nimport type {Block} from '../core/block.js';\nimport type {BlockDefinition} from '../core/blocks.js';\nimport {createBlockDefinitionsFromJsonArray, defineBlocks} from '../core/common.js';\nimport '../core/field_dropdown.js';\nimport '../core/field_label.js';\nimport '../core/field_number.js';\nimport '../core/field_variable.js';\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n */\nexport const blocks = createBlockDefinitionsFromJsonArray([\n  // Block for numeric value.\n  {\n    'type': 'math_number',\n    'message0': '%1',\n    'args0': [{\n      'type': 'field_number',\n      'name': 'NUM',\n      'value': 0,\n    }],\n    'output': 'Number',\n    'helpUrl': '%{BKY_MATH_NUMBER_HELPURL}',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_NUMBER_TOOLTIP}',\n    'extensions': ['parent_tooltip_when_inline'],\n  },\n\n  // Block for basic arithmetic operator.\n  {\n    'type': 'math_arithmetic',\n    'message0': '%1 %2 %3',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'A',\n        'check': 'Number',\n      },\n      {\n        'type': 'field_dropdown',\n        'name': 'OP',\n        'options': [\n          ['%{BKY_MATH_ADDITION_SYMBOL}', 'ADD'],\n          ['%{BKY_MATH_SUBTRACTION_SYMBOL}', 'MINUS'],\n          ['%{BKY_MATH_MULTIPLICATION_SYMBOL}', 'MULTIPLY'],\n          ['%{BKY_MATH_DIVISION_SYMBOL}', 'DIVIDE'],\n          ['%{BKY_MATH_POWER_SYMBOL}', 'POWER'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'B',\n        'check': 'Number',\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Number',\n    'style': 'math_blocks',\n    'helpUrl': '%{BKY_MATH_ARITHMETIC_HELPURL}',\n    'extensions': ['math_op_tooltip'],\n  },\n\n  // Block for advanced math operators with single operand.\n  {\n    'type': 'math_single',\n    'message0': '%1 %2',\n    'args0': [\n      {\n        'type': 'field_dropdown',\n        'name': 'OP',\n        'options': [\n          ['%{BKY_MATH_SINGLE_OP_ROOT}', 'ROOT'],\n          ['%{BKY_MATH_SINGLE_OP_ABSOLUTE}', 'ABS'],\n          ['-', 'NEG'],\n          ['ln', 'LN'],\n          ['log10', 'LOG10'],\n          ['e^', 'EXP'],\n          ['10^', 'POW10'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'NUM',\n        'check': 'Number',\n      },\n    ],\n    'output': 'Number',\n    'style': 'math_blocks',\n    'helpUrl': '%{BKY_MATH_SINGLE_HELPURL}',\n    'extensions': ['math_op_tooltip'],\n  },\n\n  // Block for trigonometry operators.\n  {\n    'type': 'math_trig',\n    'message0': '%1 %2',\n    'args0': [\n      {\n        'type': 'field_dropdown',\n        'name': 'OP',\n        'options': [\n          ['%{BKY_MATH_TRIG_SIN}', 'SIN'],\n          ['%{BKY_MATH_TRIG_COS}', 'COS'],\n          ['%{BKY_MATH_TRIG_TAN}', 'TAN'],\n          ['%{BKY_MATH_TRIG_ASIN}', 'ASIN'],\n          ['%{BKY_MATH_TRIG_ACOS}', 'ACOS'],\n          ['%{BKY_MATH_TRIG_ATAN}', 'ATAN'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'NUM',\n        'check': 'Number',\n      },\n    ],\n    'output': 'Number',\n    'style': 'math_blocks',\n    'helpUrl': '%{BKY_MATH_TRIG_HELPURL}',\n    'extensions': ['math_op_tooltip'],\n  },\n\n  // Block for constants: PI, E, the Golden Ratio, sqrt(2), 1/sqrt(2), INFINITY.\n  {\n    'type': 'math_constant',\n    'message0': '%1',\n    'args0': [\n      {\n        'type': 'field_dropdown',\n        'name': 'CONSTANT',\n        'options': [\n          ['\\u03c0', 'PI'],\n          ['e', 'E'],\n          ['\\u03c6', 'GOLDEN_RATIO'],\n          ['sqrt(2)', 'SQRT2'],\n          ['sqrt(\\u00bd)', 'SQRT1_2'],\n          ['\\u221e', 'INFINITY'],\n        ],\n      },\n    ],\n    'output': 'Number',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_CONSTANT_TOOLTIP}',\n    'helpUrl': '%{BKY_MATH_CONSTANT_HELPURL}',\n  },\n\n  // Block for checking if a number is even, odd, prime, whole, positive,\n  // negative or if it is divisible by certain number.\n  {\n    'type': 'math_number_property',\n    'message0': '%1 %2',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'NUMBER_TO_CHECK',\n        'check': 'Number',\n      },\n      {\n        'type': 'field_dropdown',\n        'name': 'PROPERTY',\n        'options': [\n          ['%{BKY_MATH_IS_EVEN}', 'EVEN'],\n          ['%{BKY_MATH_IS_ODD}', 'ODD'],\n          ['%{BKY_MATH_IS_PRIME}', 'PRIME'],\n          ['%{BKY_MATH_IS_WHOLE}', 'WHOLE'],\n          ['%{BKY_MATH_IS_POSITIVE}', 'POSITIVE'],\n          ['%{BKY_MATH_IS_NEGATIVE}', 'NEGATIVE'],\n          ['%{BKY_MATH_IS_DIVISIBLE_BY}', 'DIVISIBLE_BY'],\n        ],\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Boolean',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_IS_TOOLTIP}',\n    'mutator': 'math_is_divisibleby_mutator',\n  },\n\n  // Block for adding to a variable in place.\n  {\n    'type': 'math_change',\n    'message0': '%{BKY_MATH_CHANGE_TITLE}',\n    'args0': [\n      {\n        'type': 'field_variable',\n        'name': 'VAR',\n        'variable': '%{BKY_MATH_CHANGE_TITLE_ITEM}',\n      },\n      {\n        'type': 'input_value',\n        'name': 'DELTA',\n        'check': 'Number',\n      },\n    ],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'variable_blocks',\n    'helpUrl': '%{BKY_MATH_CHANGE_HELPURL}',\n    'extensions': ['math_change_tooltip'],\n  },\n\n  // Block for rounding functions.\n  {\n    'type': 'math_round',\n    'message0': '%1 %2',\n    'args0': [\n      {\n        'type': 'field_dropdown',\n        'name': 'OP',\n        'options': [\n          ['%{BKY_MATH_ROUND_OPERATOR_ROUND}', 'ROUND'],\n          ['%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}', 'ROUNDUP'],\n          ['%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}', 'ROUNDDOWN'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'NUM',\n        'check': 'Number',\n      },\n    ],\n    'output': 'Number',\n    'style': 'math_blocks',\n    'helpUrl': '%{BKY_MATH_ROUND_HELPURL}',\n    'tooltip': '%{BKY_MATH_ROUND_TOOLTIP}',\n  },\n\n  // Block for evaluating a list of numbers to return sum, average, min, max,\n  // etc.  Some functions also work on text (min, max, mode, median).\n  {\n    'type': 'math_on_list',\n    'message0': '%1 %2',\n    'args0': [\n      {\n        'type': 'field_dropdown',\n        'name': 'OP',\n        'options': [\n          ['%{BKY_MATH_ONLIST_OPERATOR_SUM}', 'SUM'],\n          ['%{BKY_MATH_ONLIST_OPERATOR_MIN}', 'MIN'],\n          ['%{BKY_MATH_ONLIST_OPERATOR_MAX}', 'MAX'],\n          ['%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}', 'AVERAGE'],\n          ['%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}', 'MEDIAN'],\n          ['%{BKY_MATH_ONLIST_OPERATOR_MODE}', 'MODE'],\n          ['%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}', 'STD_DEV'],\n          ['%{BKY_MATH_ONLIST_OPERATOR_RANDOM}', 'RANDOM'],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'LIST',\n        'check': 'Array',\n      },\n    ],\n    'output': 'Number',\n    'style': 'math_blocks',\n    'helpUrl': '%{BKY_MATH_ONLIST_HELPURL}',\n    'mutator': 'math_modes_of_list_mutator',\n    'extensions': ['math_op_tooltip'],\n  },\n\n  // Block for remainder of a division.\n  {\n    'type': 'math_modulo',\n    'message0': '%{BKY_MATH_MODULO_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'DIVIDEND',\n        'check': 'Number',\n      },\n      {\n        'type': 'input_value',\n        'name': 'DIVISOR',\n        'check': 'Number',\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Number',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_MODULO_TOOLTIP}',\n    'helpUrl': '%{BKY_MATH_MODULO_HELPURL}',\n  },\n\n  // Block for constraining a number between two limits.\n  {\n    'type': 'math_constrain',\n    'message0': '%{BKY_MATH_CONSTRAIN_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n        'check': 'Number',\n      },\n      {\n        'type': 'input_value',\n        'name': 'LOW',\n        'check': 'Number',\n      },\n      {\n        'type': 'input_value',\n        'name': 'HIGH',\n        'check': 'Number',\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Number',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_CONSTRAIN_TOOLTIP}',\n    'helpUrl': '%{BKY_MATH_CONSTRAIN_HELPURL}',\n  },\n\n  // Block for random integer between [X] and [Y].\n  {\n    'type': 'math_random_int',\n    'message0': '%{BKY_MATH_RANDOM_INT_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'FROM',\n        'check': 'Number',\n      },\n      {\n        'type': 'input_value',\n        'name': 'TO',\n        'check': 'Number',\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Number',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_RANDOM_INT_TOOLTIP}',\n    'helpUrl': '%{BKY_MATH_RANDOM_INT_HELPURL}',\n  },\n\n  // Block for random integer between [X] and [Y].\n  {\n    'type': 'math_random_float',\n    'message0': '%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}',\n    'output': 'Number',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}',\n    'helpUrl': '%{BKY_MATH_RANDOM_FLOAT_HELPURL}',\n  },\n\n  // Block for calculating atan2 of [X] and [Y].\n  {\n    'type': 'math_atan2',\n    'message0': '%{BKY_MATH_ATAN2_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'X',\n        'check': 'Number',\n      },\n      {\n        'type': 'input_value',\n        'name': 'Y',\n        'check': 'Number',\n      },\n    ],\n    'inputsInline': true,\n    'output': 'Number',\n    'style': 'math_blocks',\n    'tooltip': '%{BKY_MATH_ATAN2_TOOLTIP}',\n    'helpUrl': '%{BKY_MATH_ATAN2_HELPURL}',\n  },\n]);\n\n/**\n * Mapping of math block OP value to tooltip message for blocks\n * math_arithmetic, math_simple, math_trig, and math_on_lists.\n *\n * @see {Extensions#buildTooltipForDropdown}\n * @package\n * @readonly\n */\nconst TOOLTIPS_BY_OP = {\n  // math_arithmetic\n  'ADD': '%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}',\n  'MINUS': '%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}',\n  'MULTIPLY': '%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}',\n  'DIVIDE': '%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}',\n  'POWER': '%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}',\n\n  // math_simple\n  'ROOT': '%{BKY_MATH_SINGLE_TOOLTIP_ROOT}',\n  'ABS': '%{BKY_MATH_SINGLE_TOOLTIP_ABS}',\n  'NEG': '%{BKY_MATH_SINGLE_TOOLTIP_NEG}',\n  'LN': '%{BKY_MATH_SINGLE_TOOLTIP_LN}',\n  'LOG10': '%{BKY_MATH_SINGLE_TOOLTIP_LOG10}',\n  'EXP': '%{BKY_MATH_SINGLE_TOOLTIP_EXP}',\n  'POW10': '%{BKY_MATH_SINGLE_TOOLTIP_POW10}',\n\n  // math_trig\n  'SIN': '%{BKY_MATH_TRIG_TOOLTIP_SIN}',\n  'COS': '%{BKY_MATH_TRIG_TOOLTIP_COS}',\n  'TAN': '%{BKY_MATH_TRIG_TOOLTIP_TAN}',\n  'ASIN': '%{BKY_MATH_TRIG_TOOLTIP_ASIN}',\n  'ACOS': '%{BKY_MATH_TRIG_TOOLTIP_ACOS}',\n  'ATAN': '%{BKY_MATH_TRIG_TOOLTIP_ATAN}',\n\n  // math_on_lists\n  'SUM': '%{BKY_MATH_ONLIST_TOOLTIP_SUM}',\n  'MIN': '%{BKY_MATH_ONLIST_TOOLTIP_MIN}',\n  'MAX': '%{BKY_MATH_ONLIST_TOOLTIP_MAX}',\n  'AVERAGE': '%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}',\n  'MEDIAN': '%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}',\n  'MODE': '%{BKY_MATH_ONLIST_TOOLTIP_MODE}',\n  'STD_DEV': '%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}',\n  'RANDOM': '%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}',\n};\n\nExtensions.register(\n    'math_op_tooltip',\n    Extensions.buildTooltipForDropdown('OP', TOOLTIPS_BY_OP));\n\n/** Type of a block that has IS_DIVISBLEBY_MUTATOR_MIXIN */\ntype DivisiblebyBlock = Block&DivisiblebyMixin;\ninterface DivisiblebyMixin extends DivisiblebyMixinType {};\ntype DivisiblebyMixinType = typeof IS_DIVISIBLEBY_MUTATOR_MIXIN;\n\n/**\n * Mixin for mutator functions in the 'math_is_divisibleby_mutator'\n * extension.\n *\n * @mixin\n * @augments Block\n * @package\n */\nconst IS_DIVISIBLEBY_MUTATOR_MIXIN = {\n  /**\n   * Create XML to represent whether the 'divisorInput' should be present.\n   * Backwards compatible serialization implementation.\n   *\n   * @returns XML storage element.\n   */\n  mutationToDom: function(this: DivisiblebyBlock): Element {\n    const container = xmlUtils.createElement('mutation');\n    const divisorInput = (this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY');\n    container.setAttribute('divisor_input', String(divisorInput));\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'divisorInput'.\n   * Backwards compatible serialization implementation.\n   *\n   * @param xmlElement XML storage element.\n   */\n  domToMutation: function(this: DivisiblebyBlock, xmlElement: Element) {\n    const divisorInput = (xmlElement.getAttribute('divisor_input') === 'true');\n    this.updateShape_(divisorInput);\n  },\n\n  // This block does not need JSO serialization hooks (saveExtraState and\n  // loadExtraState) because the state of this object is already encoded in the\n  // dropdown values.\n  // XML hooks are kept for backwards compatibility.\n\n  /**\n   * Modify this block to have (or not have) an input for 'is divisible by'.\n   *\n   * @param divisorInput True if this block has a divisor input.\n   */\n  updateShape_: function(this: DivisiblebyBlock, divisorInput: boolean) {\n    // Add or remove a Value Input.\n    const inputExists = this.getInput('DIVISOR');\n    if (divisorInput) {\n      if (!inputExists) {\n        this.appendValueInput('DIVISOR').setCheck('Number');\n      }\n    } else if (inputExists) {\n      this.removeInput('DIVISOR');\n    }\n  },\n};\n\n/**\n * 'math_is_divisibleby_mutator' extension to the 'math_property' block that\n * can update the block shape (add/remove divisor input) based on whether\n * property is \"divisible by\".\n */\nconst IS_DIVISIBLE_MUTATOR_EXTENSION = function(this: DivisiblebyBlock) {\n  this.getField('PROPERTY')!.setValidator(\n      /** @param option The selected dropdown option. */\n      function(this: FieldDropdown, option: string) {\n        const divisorInput = (option === 'DIVISIBLE_BY');\n        (this.getSourceBlock() as DivisiblebyBlock).updateShape_(divisorInput);\n        return undefined;  // FieldValidators can't be void.  Use option as-is.\n      });\n};\n\nExtensions.registerMutator(\n    'math_is_divisibleby_mutator', IS_DIVISIBLEBY_MUTATOR_MIXIN,\n    IS_DIVISIBLE_MUTATOR_EXTENSION);\n\n// Update the tooltip of 'math_change' block to reference the variable.\nExtensions.register(\n    'math_change_tooltip',\n    Extensions.buildTooltipWithFieldText('%{BKY_MATH_CHANGE_TOOLTIP}', 'VAR'));\n\n/** Type of a block that has LIST_MODES_MUTATOR_MIXIN */\ntype ListModesBlock = Block&ListModesMixin;\ninterface ListModesMixin extends ListModesMixinType {};\ntype ListModesMixinType = typeof LIST_MODES_MUTATOR_MIXIN;\n\n/**\n * Mixin with mutator methods to support alternate output based if the\n * 'math_on_list' block uses the 'MODE' operation.\n */\nconst LIST_MODES_MUTATOR_MIXIN = {\n  /**\n   * Modify this block to have the correct output type.\n   *\n   * @param newOp Either 'MODE' or some op than returns a number.\n   */\n  updateType_: function(this: ListModesBlock, newOp: string) {\n    if (newOp === 'MODE') {\n      this.outputConnection!.setCheck('Array');\n    } else {\n      this.outputConnection!.setCheck('Number');\n    }\n  },\n  /**\n   * Create XML to represent the output type.\n   * Backwards compatible serialization implementation.\n   *\n   * @returns XML storage element.\n   */\n  mutationToDom: function(this: ListModesBlock): Element {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('op', this.getFieldValue('OP'));\n    return container;\n  },\n  /**\n   * Parse XML to restore the output type.\n   * Backwards compatible serialization implementation.\n   *\n   * @param xmlElement XML storage element.\n   */\n  domToMutation: function(this: ListModesBlock, xmlElement: Element) {\n    const op = xmlElement.getAttribute('op');\n    if (op === null) throw new TypeError('xmlElement had no op attribute');\n    this.updateType_(op);\n  },\n\n  // This block does not need JSO serialization hooks (saveExtraState and\n  // loadExtraState) because the state of this object is already encoded in the\n  // dropdown values.\n  // XML hooks are kept for backwards compatibility.\n};\n\n/**\n * Extension to 'math_on_list' blocks that allows support of\n * modes operation (outputs a list of numbers).\n */\nconst LIST_MODES_MUTATOR_EXTENSION = function(this: ListModesBlock) {\n  this.getField('OP')!.setValidator(\n      function(this: ListModesBlock, newOp: string) {\n        this.updateType_(newOp);\n        return undefined;\n      }.bind(this));\n};\n\nExtensions.registerMutator(\n    'math_modes_of_list_mutator', LIST_MODES_MUTATOR_MIXIN,\n    LIST_MODES_MUTATOR_EXTENSION);\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Procedure blocks for Blockly.\n * @suppress {checkTypes|visibility}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks.procedures');\n\n/* eslint-disable-next-line no-unused-vars */\nconst AbstractEvent = goog.requireType('Blockly.Events.Abstract');\nconst ContextMenu = goog.require('Blockly.ContextMenu');\nconst Events = goog.require('Blockly.Events');\nconst Procedures = goog.require('Blockly.Procedures');\nconst Variables = goog.require('Blockly.Variables');\nconst Xml = goog.require('Blockly.Xml');\nconst fieldRegistry = goog.require('Blockly.fieldRegistry');\nconst xmlUtils = goog.require('Blockly.utils.xml');\nconst {Align} = goog.require('Blockly.Input');\n/* eslint-disable-next-line no-unused-vars */\nconst {Block} = goog.requireType('Blockly.Block');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\nconst {config} = goog.require('Blockly.config');\nconst {Msg} = goog.require('Blockly.Msg');\nconst {Mutator} = goog.require('Blockly.Mutator');\nconst {Names} = goog.require('Blockly.Names');\n/* eslint-disable-next-line no-unused-vars */\nconst {VariableModel} = goog.requireType('Blockly.VariableModel');\n/* eslint-disable-next-line no-unused-vars */\nconst {Workspace} = goog.requireType('Blockly.Workspace');\nconst {defineBlocks} = goog.require('Blockly.common');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.Comment');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.Warning');\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = {};\nexports.blocks = blocks;\n\n/**\n * Common properties for the procedure_defnoreturn and\n * procedure_defreturn blocks.\n */\nconst PROCEDURE_DEF_COMMON = {\n  /**\n   * Add or remove the statement block from this function definition.\n   * @param {boolean} hasStatements True if a statement block is needed.\n   * @this {Block}\n   */\n  setStatements_: function(hasStatements) {\n    if (this.hasStatements_ === hasStatements) {\n      return;\n    }\n    if (hasStatements) {\n      this.appendStatementInput('STACK').appendField(\n          Msg['PROCEDURES_DEFNORETURN_DO']);\n      if (this.getInput('RETURN')) {\n        this.moveInputBefore('STACK', 'RETURN');\n      }\n    } else {\n      this.removeInput('STACK', true);\n    }\n    this.hasStatements_ = hasStatements;\n  },\n  /**\n   * Update the display of parameters for this procedure definition block.\n   * @private\n   * @this {Block}\n   */\n  updateParams_: function() {\n    // Merge the arguments into a human-readable list.\n    let paramString = '';\n    if (this.arguments_.length) {\n      paramString =\n          Msg['PROCEDURES_BEFORE_PARAMS'] + ' ' + this.arguments_.join(', ');\n    }\n    // The params field is deterministic based on the mutation,\n    // no need to fire a change event.\n    Events.disable();\n    try {\n      this.setFieldValue(paramString, 'PARAMS');\n    } finally {\n      Events.enable();\n    }\n  },\n  /**\n   * Create XML to represent the argument inputs.\n   * Backwards compatible serialization implementation.\n   * @param {boolean=} opt_paramIds If true include the IDs of the parameter\n   *     quarks.  Used by Procedures.mutateCallers for reconnection.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function(opt_paramIds) {\n    const container = xmlUtils.createElement('mutation');\n    if (opt_paramIds) {\n      container.setAttribute('name', this.getFieldValue('NAME'));\n    }\n    for (let i = 0; i < this.argumentVarModels_.length; i++) {\n      const parameter = xmlUtils.createElement('arg');\n      const argModel = this.argumentVarModels_[i];\n      parameter.setAttribute('name', argModel.name);\n      parameter.setAttribute('varid', argModel.getId());\n      if (opt_paramIds && this.paramIds_) {\n        parameter.setAttribute('paramId', this.paramIds_[i]);\n      }\n      container.appendChild(parameter);\n    }\n\n    // Save whether the statement input is visible.\n    if (!this.hasStatements_) {\n      container.setAttribute('statements', 'false');\n    }\n    return container;\n  },\n  /**\n   * Parse XML to restore the argument inputs.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.arguments_ = [];\n    this.argumentVarModels_ = [];\n    for (let i = 0, childNode; (childNode = xmlElement.childNodes[i]); i++) {\n      if (childNode.nodeName.toLowerCase() === 'arg') {\n        const varName = childNode.getAttribute('name');\n        const varId =\n            childNode.getAttribute('varid') || childNode.getAttribute('varId');\n        this.arguments_.push(varName);\n        const variable = Variables.getOrCreateVariablePackage(\n            this.workspace, varId, varName, '');\n        if (variable !== null) {\n          this.argumentVarModels_.push(variable);\n        } else {\n          console.log(\n              `Failed to create a variable named \"${varName}\", ignoring.`);\n        }\n      }\n    }\n    this.updateParams_();\n    Procedures.mutateCallers(this);\n\n    // Show or hide the statement input.\n    this.setStatements_(xmlElement.getAttribute('statements') !== 'false');\n  },\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {?{params: (!Array<{name: string, id: string}>|undefined),\n   *     hasStatements: (boolean|undefined)}} The state of this block, eg the\n   *     parameters and statements.\n   */\n  saveExtraState: function() {\n    if (!this.argumentVarModels_.length && this.hasStatements_) {\n      return null;\n    }\n    const state = Object.create(null);\n    if (this.argumentVarModels_.length) {\n      state['params'] = [];\n      for (let i = 0; i < this.argumentVarModels_.length; i++) {\n        state['params'].push({\n          // We don't need to serialize the name, but just in case we decide\n          // to separate params from variables.\n          'name': this.argumentVarModels_[i].name,\n          'id': this.argumentVarModels_[i].getId(),\n        });\n      }\n    }\n    if (!this.hasStatements_) {\n      state['hasStatements'] = false;\n    }\n    return state;\n  },\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block, eg the parameters and\n   *     statements.\n   */\n  loadExtraState: function(state) {\n    this.arguments_ = [];\n    this.argumentVarModels_ = [];\n    if (state['params']) {\n      for (let i = 0; i < state['params'].length; i++) {\n        const param = state['params'][i];\n        const variable = Variables.getOrCreateVariablePackage(\n            this.workspace, param['id'], param['name'], '');\n        this.arguments_.push(variable.name);\n        this.argumentVarModels_.push(variable);\n      }\n    }\n    this.updateParams_();\n    Procedures.mutateCallers(this);\n    this.setStatements_(state['hasStatements'] === false ? false : true);\n  },\n  /**\n   * Populate the mutator's dialog with this block's components.\n   * @param {!Workspace} workspace Mutator's workspace.\n   * @return {!Block} Root block in mutator.\n   * @this {Block}\n   */\n  decompose: function(workspace) {\n    /*\n     * Creates the following XML:\n     * <block type=\"procedures_mutatorcontainer\">\n     *   <statement name=\"STACK\">\n     *     <block type=\"procedures_mutatorarg\">\n     *       <field name=\"NAME\">arg1_name</field>\n     *       <next>etc...</next>\n     *     </block>\n     *   </statement>\n     * </block>\n     */\n\n    const containerBlockNode = xmlUtils.createElement('block');\n    containerBlockNode.setAttribute('type', 'procedures_mutatorcontainer');\n    const statementNode = xmlUtils.createElement('statement');\n    statementNode.setAttribute('name', 'STACK');\n    containerBlockNode.appendChild(statementNode);\n\n    let node = statementNode;\n    for (let i = 0; i < this.arguments_.length; i++) {\n      const argBlockNode = xmlUtils.createElement('block');\n      argBlockNode.setAttribute('type', 'procedures_mutatorarg');\n      const fieldNode = xmlUtils.createElement('field');\n      fieldNode.setAttribute('name', 'NAME');\n      const argumentName = xmlUtils.createTextNode(this.arguments_[i]);\n      fieldNode.appendChild(argumentName);\n      argBlockNode.appendChild(fieldNode);\n      const nextNode = xmlUtils.createElement('next');\n      argBlockNode.appendChild(nextNode);\n\n      node.appendChild(argBlockNode);\n      node = nextNode;\n    }\n\n    const containerBlock = Xml.domToBlock(containerBlockNode, workspace);\n\n    if (this.type === 'procedures_defreturn') {\n      containerBlock.setFieldValue(this.hasStatements_, 'STATEMENTS');\n    } else {\n      containerBlock.removeInput('STATEMENT_INPUT');\n    }\n\n    // Initialize procedure's callers with blank IDs.\n    Procedures.mutateCallers(this);\n    return containerBlock;\n  },\n  /**\n   * Reconfigure this block based on the mutator dialog's components.\n   * @param {!Block} containerBlock Root block in mutator.\n   * @this {Block}\n   */\n  compose: function(containerBlock) {\n    // Parameter list.\n    this.arguments_ = [];\n    this.paramIds_ = [];\n    this.argumentVarModels_ = [];\n    let paramBlock = containerBlock.getInputTargetBlock('STACK');\n    while (paramBlock && !paramBlock.isInsertionMarker()) {\n      const varName = paramBlock.getFieldValue('NAME');\n      this.arguments_.push(varName);\n      const variable = this.workspace.getVariable(varName, '');\n      this.argumentVarModels_.push(variable);\n\n      this.paramIds_.push(paramBlock.id);\n      paramBlock =\n          paramBlock.nextConnection && paramBlock.nextConnection.targetBlock();\n    }\n    this.updateParams_();\n    Procedures.mutateCallers(this);\n\n    // Show/hide the statement input.\n    let hasStatements = containerBlock.getFieldValue('STATEMENTS');\n    if (hasStatements !== null) {\n      hasStatements = hasStatements === 'TRUE';\n      if (this.hasStatements_ !== hasStatements) {\n        if (hasStatements) {\n          this.setStatements_(true);\n          // Restore the stack, if one was saved.\n          Mutator.reconnect(this.statementConnection_, this, 'STACK');\n          this.statementConnection_ = null;\n        } else {\n          // Save the stack, then disconnect it.\n          const stackConnection = this.getInput('STACK').connection;\n          this.statementConnection_ = stackConnection.targetConnection;\n          if (this.statementConnection_) {\n            const stackBlock = stackConnection.targetBlock();\n            stackBlock.unplug();\n            stackBlock.bumpNeighbours();\n          }\n          this.setStatements_(false);\n        }\n      }\n    }\n  },\n  /**\n   * Return all variables referenced by this block.\n   * @return {!Array<string>} List of variable names.\n   * @this {Block}\n   */\n  getVars: function() {\n    return this.arguments_;\n  },\n  /**\n   * Return all variables referenced by this block.\n   * @return {!Array<!VariableModel>} List of variable models.\n   * @this {Block}\n   */\n  getVarModels: function() {\n    return this.argumentVarModels_;\n  },\n  /**\n   * Notification that a variable is renaming.\n   * If the ID matches one of this block's variables, rename it.\n   * @param {string} oldId ID of variable to rename.\n   * @param {string} newId ID of new variable.  May be the same as oldId, but\n   *     with an updated name.  Guaranteed to be the same type as the old\n   *     variable.\n   * @override\n   * @this {Block}\n   */\n  renameVarById: function(oldId, newId) {\n    const oldVariable = this.workspace.getVariableById(oldId);\n    if (oldVariable.type !== '') {\n      // Procedure arguments always have the empty type.\n      return;\n    }\n    const oldName = oldVariable.name;\n    const newVar = this.workspace.getVariableById(newId);\n\n    let change = false;\n    for (let i = 0; i < this.argumentVarModels_.length; i++) {\n      if (this.argumentVarModels_[i].getId() === oldId) {\n        this.arguments_[i] = newVar.name;\n        this.argumentVarModels_[i] = newVar;\n        change = true;\n      }\n    }\n    if (change) {\n      this.displayRenamedVar_(oldName, newVar.name);\n      Procedures.mutateCallers(this);\n    }\n  },\n  /**\n   * Notification that a variable is renaming but keeping the same ID.  If the\n   * variable is in use on this block, rerender to show the new name.\n   * @param {!VariableModel} variable The variable being renamed.\n   * @package\n   * @override\n   * @this {Block}\n   */\n  updateVarName: function(variable) {\n    const newName = variable.name;\n    let change = false;\n    let oldName;\n    for (let i = 0; i < this.argumentVarModels_.length; i++) {\n      if (this.argumentVarModels_[i].getId() === variable.getId()) {\n        oldName = this.arguments_[i];\n        this.arguments_[i] = newName;\n        change = true;\n      }\n    }\n    if (change) {\n      this.displayRenamedVar_(oldName, newName);\n      Procedures.mutateCallers(this);\n    }\n  },\n  /**\n   * Update the display to reflect a newly renamed argument.\n   * @param {string} oldName The old display name of the argument.\n   * @param {string} newName The new display name of the argument.\n   * @private\n   * @this {Block}\n   */\n  displayRenamedVar_: function(oldName, newName) {\n    this.updateParams_();\n    // Update the mutator's variables if the mutator is open.\n    if (this.mutator && this.mutator.isVisible()) {\n      const blocks = this.mutator.workspace_.getAllBlocks(false);\n      for (let i = 0, block; (block = blocks[i]); i++) {\n        if (block.type === 'procedures_mutatorarg' &&\n            Names.equals(oldName, block.getFieldValue('NAME'))) {\n          block.setFieldValue(newName, 'NAME');\n        }\n      }\n    }\n  },\n  /**\n   * Add custom menu options to this block's context menu.\n   * @param {!Array} options List of menu options to add to.\n   * @this {Block}\n   */\n  customContextMenu: function(options) {\n    if (this.isInFlyout) {\n      return;\n    }\n    // Add option to create caller.\n    const option = {enabled: true};\n    const name = this.getFieldValue('NAME');\n    option.text = Msg['PROCEDURES_CREATE_DO'].replace('%1', name);\n    const xmlMutation = xmlUtils.createElement('mutation');\n    xmlMutation.setAttribute('name', name);\n    for (let i = 0; i < this.arguments_.length; i++) {\n      const xmlArg = xmlUtils.createElement('arg');\n      xmlArg.setAttribute('name', this.arguments_[i]);\n      xmlMutation.appendChild(xmlArg);\n    }\n    const xmlBlock = xmlUtils.createElement('block');\n    xmlBlock.setAttribute('type', this.callType_);\n    xmlBlock.appendChild(xmlMutation);\n    option.callback = ContextMenu.callbackFactory(this, xmlBlock);\n    options.push(option);\n\n    // Add options to create getters for each parameter.\n    if (!this.isCollapsed()) {\n      for (let i = 0; i < this.argumentVarModels_.length; i++) {\n        const argOption = {enabled: true};\n        const argVar = this.argumentVarModels_[i];\n        argOption.text =\n            Msg['VARIABLES_SET_CREATE_GET'].replace('%1', argVar.name);\n\n        const argXmlField = Variables.generateVariableFieldDom(argVar);\n        const argXmlBlock = xmlUtils.createElement('block');\n        argXmlBlock.setAttribute('type', 'variables_get');\n        argXmlBlock.appendChild(argXmlField);\n        argOption.callback = ContextMenu.callbackFactory(this, argXmlBlock);\n        options.push(argOption);\n      }\n    }\n  },\n};\n\nblocks['procedures_defnoreturn'] = {\n  ...PROCEDURE_DEF_COMMON,\n  /**\n   * Block for defining a procedure with no return value.\n   * @this {Block}\n   */\n  init: function() {\n    const initName = Procedures.findLegalName('', this);\n    const nameField = fieldRegistry.fromJson({\n      type: 'field_input',\n      text: initName,\n    });\n    nameField.setValidator(Procedures.rename);\n    nameField.setSpellcheck(false);\n    this.appendDummyInput()\n        .appendField(Msg['PROCEDURES_DEFNORETURN_TITLE'])\n        .appendField(nameField, 'NAME')\n        .appendField('', 'PARAMS');\n    this.setMutator(new Mutator(['procedures_mutatorarg'], this));\n    if ((this.workspace.options.comments ||\n         (this.workspace.options.parentWorkspace &&\n          this.workspace.options.parentWorkspace.options.comments)) &&\n        Msg['PROCEDURES_DEFNORETURN_COMMENT']) {\n      this.setCommentText(Msg['PROCEDURES_DEFNORETURN_COMMENT']);\n    }\n    this.setStyle('procedure_blocks');\n    this.setTooltip(Msg['PROCEDURES_DEFNORETURN_TOOLTIP']);\n    this.setHelpUrl(Msg['PROCEDURES_DEFNORETURN_HELPURL']);\n    this.arguments_ = [];\n    this.argumentVarModels_ = [];\n    this.setStatements_(true);\n    this.statementConnection_ = null;\n  },\n  /**\n   * Return the signature of this procedure definition.\n   * @return {!Array} Tuple containing three elements:\n   *     - the name of the defined procedure,\n   *     - a list of all its arguments,\n   *     - that it DOES NOT have a return value.\n   * @this {Block}\n   */\n  getProcedureDef: function() {\n    return [this.getFieldValue('NAME'), this.arguments_, false];\n  },\n  callType_: 'procedures_callnoreturn',\n};\n\nblocks['procedures_defreturn'] = {\n  ...PROCEDURE_DEF_COMMON,\n  /**\n   * Block for defining a procedure with a return value.\n   * @this {Block}\n   */\n  init: function() {\n    const initName = Procedures.findLegalName('', this);\n    const nameField = fieldRegistry.fromJson({\n      type: 'field_input',\n      text: initName,\n    });\n    nameField.setValidator(Procedures.rename);\n    nameField.setSpellcheck(false);\n    this.appendDummyInput()\n        .appendField(Msg['PROCEDURES_DEFRETURN_TITLE'])\n        .appendField(nameField, 'NAME')\n        .appendField('', 'PARAMS');\n    this.appendValueInput('RETURN')\n        .setAlign(Align.RIGHT)\n        .appendField(Msg['PROCEDURES_DEFRETURN_RETURN']);\n    this.setMutator(new Mutator(['procedures_mutatorarg'], this));\n    if ((this.workspace.options.comments ||\n         (this.workspace.options.parentWorkspace &&\n          this.workspace.options.parentWorkspace.options.comments)) &&\n        Msg['PROCEDURES_DEFRETURN_COMMENT']) {\n      this.setCommentText(Msg['PROCEDURES_DEFRETURN_COMMENT']);\n    }\n    this.setStyle('procedure_blocks');\n    this.setTooltip(Msg['PROCEDURES_DEFRETURN_TOOLTIP']);\n    this.setHelpUrl(Msg['PROCEDURES_DEFRETURN_HELPURL']);\n    this.arguments_ = [];\n    this.argumentVarModels_ = [];\n    this.setStatements_(true);\n    this.statementConnection_ = null;\n  },\n  /**\n   * Return the signature of this procedure definition.\n   * @return {!Array} Tuple containing three elements:\n   *     - the name of the defined procedure,\n   *     - a list of all its arguments,\n   *     - that it DOES have a return value.\n   * @this {Block}\n   */\n  getProcedureDef: function() {\n    return [this.getFieldValue('NAME'), this.arguments_, true];\n  },\n  callType_: 'procedures_callreturn',\n};\n\nblocks['procedures_mutatorcontainer'] = {\n  /**\n   * Mutator block for procedure container.\n   * @this {Block}\n   */\n  init: function() {\n    this.appendDummyInput().appendField(\n        Msg['PROCEDURES_MUTATORCONTAINER_TITLE']);\n    this.appendStatementInput('STACK');\n    this.appendDummyInput('STATEMENT_INPUT')\n        .appendField(Msg['PROCEDURES_ALLOW_STATEMENTS'])\n        .appendField(\n            fieldRegistry.fromJson({\n              type: 'field_checkbox',\n              checked: true,\n            }),\n            'STATEMENTS');\n    this.setStyle('procedure_blocks');\n    this.setTooltip(Msg['PROCEDURES_MUTATORCONTAINER_TOOLTIP']);\n    this.contextMenu = false;\n  },\n};\n\nblocks['procedures_mutatorarg'] = {\n  /**\n   * Mutator block for procedure argument.\n   * @this {Block}\n   */\n  init: function() {\n    const field = fieldRegistry.fromJson({\n      type: 'field_input',\n      text: Procedures.DEFAULT_ARG,\n    });\n    field.setValidator(this.validator_);\n    // Hack: override showEditor to do just a little bit more work.\n    // We don't have a good place to hook into the start of a text edit.\n    field.oldShowEditorFn_ = field.showEditor_;\n    /**\n     * @this {FieldTextInput}\n     */\n    const newShowEditorFn = function() {\n      this.createdVariables_ = [];\n      this.oldShowEditorFn_();\n    };\n    field.showEditor_ = newShowEditorFn;\n\n    this.appendDummyInput()\n        .appendField(Msg['PROCEDURES_MUTATORARG_TITLE'])\n        .appendField(field, 'NAME');\n    this.setPreviousStatement(true);\n    this.setNextStatement(true);\n    this.setStyle('procedure_blocks');\n    this.setTooltip(Msg['PROCEDURES_MUTATORARG_TOOLTIP']);\n    this.contextMenu = false;\n\n    // Create the default variable when we drag the block in from the flyout.\n    // Have to do this after installing the field on the block.\n    field.onFinishEditing_ = this.deleteIntermediateVars_;\n    // Create an empty list so onFinishEditing_ has something to look at, even\n    // though the editor was never opened.\n    field.createdVariables_ = [];\n    field.onFinishEditing_('x');\n  },\n\n  /**\n   * Obtain a valid name for the procedure argument. Create a variable if\n   * necessary.\n   * Merge runs of whitespace.  Strip leading and trailing whitespace.\n   * Beyond this, all names are legal.\n   * @param {string} varName User-supplied name.\n   * @return {?string} Valid name, or null if a name was not specified.\n   * @private\n   * @this {FieldTextInput}\n   */\n  validator_: function(varName) {\n    const sourceBlock = this.getSourceBlock();\n    const outerWs = Mutator.findParentWs(sourceBlock.workspace);\n    varName = varName.replace(/[\\s\\xa0]+/g, ' ').replace(/^ | $/g, '');\n    if (!varName) {\n      return null;\n    }\n\n    // Prevents duplicate parameter names in functions\n    const workspace =\n        sourceBlock.workspace.targetWorkspace || sourceBlock.workspace;\n    const blocks = workspace.getAllBlocks(false);\n    const caselessName = varName.toLowerCase();\n    for (let i = 0; i < blocks.length; i++) {\n      if (blocks[i].id === this.getSourceBlock().id) {\n        continue;\n      }\n      // Other blocks values may not be set yet when this is loaded.\n      const otherVar = blocks[i].getFieldValue('NAME');\n      if (otherVar && otherVar.toLowerCase() === caselessName) {\n        return null;\n      }\n    }\n\n    // Don't create variables for arg blocks that\n    // only exist in the mutator's flyout.\n    if (sourceBlock.isInFlyout) {\n      return varName;\n    }\n\n    let model = outerWs.getVariable(varName, '');\n    if (model && model.name !== varName) {\n      // Rename the variable (case change)\n      outerWs.renameVariableById(model.getId(), varName);\n    }\n    if (!model) {\n      model = outerWs.createVariable(varName, '');\n      if (model && this.createdVariables_) {\n        this.createdVariables_.push(model);\n      }\n    }\n    return varName;\n  },\n\n  /**\n   * Called when focusing away from the text field.\n   * Deletes all variables that were created as the user typed their intended\n   * variable name.\n   * @param {string} newText The new variable name.\n   * @private\n   * @this {FieldTextInput}\n   */\n  deleteIntermediateVars_: function(newText) {\n    const outerWs = Mutator.findParentWs(this.getSourceBlock().workspace);\n    if (!outerWs) {\n      return;\n    }\n    for (let i = 0; i < this.createdVariables_.length; i++) {\n      const model = this.createdVariables_[i];\n      if (model.name !== newText) {\n        outerWs.deleteVariableById(model.getId());\n      }\n    }\n  },\n};\n\n/**\n * Common properties for the procedure_callnoreturn and\n * procedure_callreturn blocks.\n */\nconst PROCEDURE_CALL_COMMON = {\n  /**\n   * Returns the name of the procedure this block calls.\n   * @return {string} Procedure name.\n   * @this {Block}\n   */\n  getProcedureCall: function() {\n    // The NAME field is guaranteed to exist, null will never be returned.\n    return /** @type {string} */ (this.getFieldValue('NAME'));\n  },\n  /**\n   * Notification that a procedure is renaming.\n   * If the name matches this block's procedure, rename it.\n   * @param {string} oldName Previous name of procedure.\n   * @param {string} newName Renamed procedure.\n   * @this {Block}\n   */\n  renameProcedure: function(oldName, newName) {\n    if (Names.equals(oldName, this.getProcedureCall())) {\n      this.setFieldValue(newName, 'NAME');\n      const baseMsg = this.outputConnection ?\n          Msg['PROCEDURES_CALLRETURN_TOOLTIP'] :\n          Msg['PROCEDURES_CALLNORETURN_TOOLTIP'];\n      this.setTooltip(baseMsg.replace('%1', newName));\n    }\n  },\n  /**\n   * Notification that the procedure's parameters have changed.\n   * @param {!Array<string>} paramNames New param names, e.g. ['x', 'y', 'z'].\n   * @param {!Array<string>} paramIds IDs of params (consistent for each\n   *     parameter through the life of a mutator, regardless of param renaming),\n   *     e.g. ['piua', 'f8b_', 'oi.o'].\n   * @private\n   * @this {Block}\n   */\n  setProcedureParameters_: function(paramNames, paramIds) {\n    // Data structures:\n    // this.arguments = ['x', 'y']\n    //     Existing param names.\n    // this.quarkConnections_ {piua: null, f8b_: Connection}\n    //     Look-up of paramIds to connections plugged into the call block.\n    // this.quarkIds_ = ['piua', 'f8b_']\n    //     Existing param IDs.\n    // Note that quarkConnections_ may include IDs that no longer exist, but\n    // which might reappear if a param is reattached in the mutator.\n    const defBlock =\n        Procedures.getDefinition(this.getProcedureCall(), this.workspace);\n    const mutatorOpen =\n        defBlock && defBlock.mutator && defBlock.mutator.isVisible();\n    if (!mutatorOpen) {\n      this.quarkConnections_ = {};\n      this.quarkIds_ = null;\n    } else {\n      // fix #6091 - this call could cause an error when outside if-else\n      // expanding block while mutating prevents another error (ancient fix)\n      this.setCollapsed(false);\n    }\n    // Test arguments (arrays of strings) for changes. '\\n' is not a valid\n    // argument name character, so it is a valid delimiter here.\n    if (paramNames.join('\\n') === this.arguments_.join('\\n')) {\n      // No change.\n      this.quarkIds_ = paramIds;\n      return;\n    }\n    if (paramIds.length !== paramNames.length) {\n      throw RangeError('paramNames and paramIds must be the same length.');\n    }\n    if (!this.quarkIds_) {\n      // Initialize tracking for this block.\n      this.quarkConnections_ = {};\n      this.quarkIds_ = [];\n    }\n    // Switch off rendering while the block is rebuilt.\n    const savedRendered = this.rendered;\n    this.rendered = false;\n    // Update the quarkConnections_ with existing connections.\n    for (let i = 0; i < this.arguments_.length; i++) {\n      const input = this.getInput('ARG' + i);\n      if (input) {\n        const connection = input.connection.targetConnection;\n        this.quarkConnections_[this.quarkIds_[i]] = connection;\n        if (mutatorOpen && connection &&\n            paramIds.indexOf(this.quarkIds_[i]) === -1) {\n          // This connection should no longer be attached to this block.\n          connection.disconnect();\n          connection.getSourceBlock().bumpNeighbours();\n        }\n      }\n    }\n    // Rebuild the block's arguments.\n    this.arguments_ = [].concat(paramNames);\n    // And rebuild the argument model list.\n    this.argumentVarModels_ = [];\n    for (let i = 0; i < this.arguments_.length; i++) {\n      const variable = Variables.getOrCreateVariablePackage(\n          this.workspace, null, this.arguments_[i], '');\n      this.argumentVarModels_.push(variable);\n    }\n\n    this.updateShape_();\n    this.quarkIds_ = paramIds;\n    // Reconnect any child blocks.\n    if (this.quarkIds_) {\n      for (let i = 0; i < this.arguments_.length; i++) {\n        const quarkId = this.quarkIds_[i];\n        if (quarkId in this.quarkConnections_) {\n          const connection = this.quarkConnections_[quarkId];\n          if (!Mutator.reconnect(connection, this, 'ARG' + i)) {\n            // Block no longer exists or has been attached elsewhere.\n            delete this.quarkConnections_[quarkId];\n          }\n        }\n      }\n    }\n    // Restore rendering and show the changes.\n    this.rendered = savedRendered;\n    if (this.rendered) {\n      this.render();\n    }\n  },\n  /**\n   * Modify this block to have the correct number of arguments.\n   * @private\n   * @this {Block}\n   */\n  updateShape_: function() {\n    for (let i = 0; i < this.arguments_.length; i++) {\n      const argField = this.getField('ARGNAME' + i);\n      if (argField) {\n        // Ensure argument name is up to date.\n        // The argument name field is deterministic based on the mutation,\n        // no need to fire a change event.\n        Events.disable();\n        try {\n          argField.setValue(this.arguments_[i]);\n        } finally {\n          Events.enable();\n        }\n      } else {\n        // Add new input.\n        const newField = fieldRegistry.fromJson({\n          type: 'field_label',\n          text: this.arguments_[i],\n        });\n        const input = this.appendValueInput('ARG' + i)\n                          .setAlign(Align.RIGHT)\n                          .appendField(newField, 'ARGNAME' + i);\n        input.init();\n      }\n    }\n    // Remove deleted inputs.\n    for (let i = this.arguments_.length; this.getInput('ARG' + i); i++) {\n      this.removeInput('ARG' + i);\n    }\n    // Add 'with:' if there are parameters, remove otherwise.\n    const topRow = this.getInput('TOPROW');\n    if (topRow) {\n      if (this.arguments_.length) {\n        if (!this.getField('WITH')) {\n          topRow.appendField(Msg['PROCEDURES_CALL_BEFORE_PARAMS'], 'WITH');\n          topRow.init();\n        }\n      } else {\n        if (this.getField('WITH')) {\n          topRow.removeField('WITH');\n        }\n      }\n    }\n  },\n  /**\n   * Create XML to represent the (non-editable) name and arguments.\n   * Backwards compatible serialization implementation.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('name', this.getProcedureCall());\n    for (let i = 0; i < this.arguments_.length; i++) {\n      const parameter = xmlUtils.createElement('arg');\n      parameter.setAttribute('name', this.arguments_[i]);\n      container.appendChild(parameter);\n    }\n    return container;\n  },\n  /**\n   * Parse XML to restore the (non-editable) name and parameters.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    const name = xmlElement.getAttribute('name');\n    this.renameProcedure(this.getProcedureCall(), name);\n    const args = [];\n    const paramIds = [];\n    for (let i = 0, childNode; (childNode = xmlElement.childNodes[i]); i++) {\n      if (childNode.nodeName.toLowerCase() === 'arg') {\n        args.push(childNode.getAttribute('name'));\n        paramIds.push(childNode.getAttribute('paramId'));\n      }\n    }\n    this.setProcedureParameters_(args, paramIds);\n  },\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {{name: string, params:(!Array<string>|undefined)}} The state of\n   *     this block, ie the params and procedure name.\n   */\n  saveExtraState: function() {\n    const state = Object.create(null);\n    state['name'] = this.getProcedureCall();\n    if (this.arguments_.length) {\n      state['params'] = this.arguments_;\n    }\n    return state;\n  },\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block, ie the params and\n   *     procedure name.\n   */\n  loadExtraState: function(state) {\n    this.renameProcedure(this.getProcedureCall(), state['name']);\n    const params = state['params'];\n    if (params) {\n      const ids = [];\n      ids.length = params.length;\n      ids.fill(null);\n      this.setProcedureParameters_(params, ids);\n    }\n  },\n  /**\n   * Return all variables referenced by this block.\n   * @return {!Array<string>} List of variable names.\n   * @this {Block}\n   */\n  getVars: function() {\n    return this.arguments_;\n  },\n  /**\n   * Return all variables referenced by this block.\n   * @return {!Array<!VariableModel>} List of variable models.\n   * @this {Block}\n   */\n  getVarModels: function() {\n    return this.argumentVarModels_;\n  },\n  /**\n   * Procedure calls cannot exist without the corresponding procedure\n   * definition.  Enforce this link whenever an event is fired.\n   * @param {!AbstractEvent} event Change event.\n   * @this {Block}\n   */\n  onchange: function(event) {\n    if (!this.workspace || this.workspace.isFlyout) {\n      // Block is deleted or is in a flyout.\n      return;\n    }\n    if (!event.recordUndo) {\n      // Events not generated by user. Skip handling.\n      return;\n    }\n    if (event.type === Events.BLOCK_CREATE &&\n        event.ids.indexOf(this.id) !== -1) {\n      // Look for the case where a procedure call was created (usually through\n      // paste) and there is no matching definition.  In this case, create\n      // an empty definition block with the correct signature.\n      const name = this.getProcedureCall();\n      let def = Procedures.getDefinition(name, this.workspace);\n      if (def &&\n          (def.type !== this.defType_ ||\n           JSON.stringify(def.getVars()) !== JSON.stringify(this.arguments_))) {\n        // The signatures don't match.\n        def = null;\n      }\n      if (!def) {\n        Events.setGroup(event.group);\n        /**\n         * Create matching definition block.\n         * <xml xmlns=\"https://developers.google.com/blockly/xml\">\n         *   <block type=\"procedures_defreturn\" x=\"10\" y=\"20\">\n         *     <mutation name=\"test\">\n         *       <arg name=\"x\"></arg>\n         *     </mutation>\n         *     <field name=\"NAME\">test</field>\n         *   </block>\n         * </xml>\n         */\n        const xml = xmlUtils.createElement('xml');\n        const block = xmlUtils.createElement('block');\n        block.setAttribute('type', this.defType_);\n        const xy = this.getRelativeToSurfaceXY();\n        const x = xy.x + config.snapRadius * (this.RTL ? -1 : 1);\n        const y = xy.y + config.snapRadius * 2;\n        block.setAttribute('x', x);\n        block.setAttribute('y', y);\n        const mutation = this.mutationToDom();\n        block.appendChild(mutation);\n        const field = xmlUtils.createElement('field');\n        field.setAttribute('name', 'NAME');\n        const callName = this.getProcedureCall();\n        const newName = Procedures.findLegalName(callName, this);\n        if (callName !== newName) {\n          this.renameProcedure(callName, newName);\n        }\n        field.appendChild(xmlUtils.createTextNode(callName));\n        block.appendChild(field);\n        xml.appendChild(block);\n        Xml.domToWorkspace(xml, this.workspace);\n        Events.setGroup(false);\n      }\n    } else if (event.type === Events.BLOCK_DELETE) {\n      // Look for the case where a procedure definition has been deleted,\n      // leaving this block (a procedure call) orphaned.  In this case, delete\n      // the orphan.\n      const name = this.getProcedureCall();\n      const def = Procedures.getDefinition(name, this.workspace);\n      if (!def) {\n        Events.setGroup(event.group);\n        this.dispose(true);\n        Events.setGroup(false);\n      }\n    } else if (event.type === Events.CHANGE && event.element === 'disabled') {\n      const name = this.getProcedureCall();\n      const def = Procedures.getDefinition(name, this.workspace);\n      if (def && def.id === event.blockId) {\n        // in most cases the old group should be ''\n        const oldGroup = Events.getGroup();\n        if (oldGroup) {\n          // This should only be possible programmatically and may indicate a\n          // problem with event grouping. If you see this message please\n          // investigate. If the use ends up being valid we may need to reorder\n          // events in the undo stack.\n          console.log(\n              'Saw an existing group while responding to a definition change');\n        }\n        Events.setGroup(event.group);\n        if (event.newValue) {\n          this.previousEnabledState_ = this.isEnabled();\n          this.setEnabled(false);\n        } else {\n          this.setEnabled(this.previousEnabledState_);\n        }\n        Events.setGroup(oldGroup);\n      }\n    }\n  },\n  /**\n   * Add menu option to find the definition block for this call.\n   * @param {!Array} options List of menu options to add to.\n   * @this {Block}\n   */\n  customContextMenu: function(options) {\n    if (!this.workspace.isMovable()) {\n      // If we center on the block and the workspace isn't movable we could\n      // loose blocks at the edges of the workspace.\n      return;\n    }\n\n    const option = {enabled: true};\n    option.text = Msg['PROCEDURES_HIGHLIGHT_DEF'];\n    const name = this.getProcedureCall();\n    const workspace = this.workspace;\n    option.callback = function() {\n      const def = Procedures.getDefinition(name, workspace);\n      if (def) {\n        workspace.centerOnBlock(def.id);\n        def.select();\n      }\n    };\n    options.push(option);\n  },\n};\n\nblocks['procedures_callnoreturn'] = {\n  ...PROCEDURE_CALL_COMMON,\n  /**\n   * Block for calling a procedure with no return value.\n   * @this {Block}\n   */\n  init: function() {\n    this.appendDummyInput('TOPROW').appendField('', 'NAME');\n    this.setPreviousStatement(true);\n    this.setNextStatement(true);\n    this.setStyle('procedure_blocks');\n    // Tooltip is set in renameProcedure.\n    this.setHelpUrl(Msg['PROCEDURES_CALLNORETURN_HELPURL']);\n    this.arguments_ = [];\n    this.argumentVarModels_ = [];\n    this.quarkConnections_ = {};\n    this.quarkIds_ = null;\n    this.previousEnabledState_ = true;\n  },\n\n  defType_: 'procedures_defnoreturn',\n};\n\nblocks['procedures_callreturn'] = {\n  ...PROCEDURE_CALL_COMMON,\n  /**\n   * Block for calling a procedure with a return value.\n   * @this {Block}\n   */\n  init: function() {\n    this.appendDummyInput('TOPROW').appendField('', 'NAME');\n    this.setOutput(true);\n    this.setStyle('procedure_blocks');\n    // Tooltip is set in domToMutation.\n    this.setHelpUrl(Msg['PROCEDURES_CALLRETURN_HELPURL']);\n    this.arguments_ = [];\n    this.argumentVarModels_ = [];\n    this.quarkConnections_ = {};\n    this.quarkIds_ = null;\n    this.previousEnabledState_ = true;\n  },\n\n  defType_: 'procedures_defreturn',\n};\n\nblocks['procedures_ifreturn'] = {\n  /**\n   * Block for conditionally returning a value from a procedure.\n   * @this {Block}\n   */\n  init: function() {\n    this.appendValueInput('CONDITION')\n        .setCheck('Boolean')\n        .appendField(Msg['CONTROLS_IF_MSG_IF']);\n    this.appendValueInput('VALUE').appendField(\n        Msg['PROCEDURES_DEFRETURN_RETURN']);\n    this.setInputsInline(true);\n    this.setPreviousStatement(true);\n    this.setNextStatement(true);\n    this.setStyle('procedure_blocks');\n    this.setTooltip(Msg['PROCEDURES_IFRETURN_TOOLTIP']);\n    this.setHelpUrl(Msg['PROCEDURES_IFRETURN_HELPURL']);\n    this.hasReturnValue_ = true;\n  },\n  /**\n   * Create XML to represent whether this block has a return value.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('value', Number(this.hasReturnValue_));\n    return container;\n  },\n  /**\n   * Parse XML to restore whether this block has a return value.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    const value = xmlElement.getAttribute('value');\n    this.hasReturnValue_ = (value === '1');\n    if (!this.hasReturnValue_) {\n      this.removeInput('VALUE');\n      this.appendDummyInput('VALUE').appendField(\n          Msg['PROCEDURES_DEFRETURN_RETURN']);\n    }\n  },\n\n  // This block does not need JSO serialization hooks (saveExtraState and\n  // loadExtraState) because the state of this block is already encoded in the\n  // block's position in the workspace.\n  // XML hooks are kept for backwards compatibility.\n\n  /**\n   * Called whenever anything on the workspace changes.\n   * Add warning if this flow block is not nested inside a loop.\n   * @param {!AbstractEvent} e Move event.\n   * @this {Block}\n   */\n  onchange: function(e) {\n    if (this.workspace.isDragging && this.workspace.isDragging() ||\n        e.type !== Events.BLOCK_MOVE) {\n      return;  // Don't change state at the start of a drag.\n    }\n    let legal = false;\n    // Is the block nested in a procedure?\n    let block = this;\n    do {\n      if (this.FUNCTION_TYPES.indexOf(block.type) !== -1) {\n        legal = true;\n        break;\n      }\n      block = block.getSurroundParent();\n    } while (block);\n    if (legal) {\n      // If needed, toggle whether this block has a return value.\n      if (block.type === 'procedures_defnoreturn' && this.hasReturnValue_) {\n        this.removeInput('VALUE');\n        this.appendDummyInput('VALUE').appendField(\n            Msg['PROCEDURES_DEFRETURN_RETURN']);\n        this.hasReturnValue_ = false;\n      } else if (\n          block.type === 'procedures_defreturn' && !this.hasReturnValue_) {\n        this.removeInput('VALUE');\n        this.appendValueInput('VALUE').appendField(\n            Msg['PROCEDURES_DEFRETURN_RETURN']);\n        this.hasReturnValue_ = true;\n      }\n      this.setWarningText(null);\n    } else {\n      this.setWarningText(Msg['PROCEDURES_IFRETURN_WARNING']);\n    }\n    if (!this.isInFlyout) {\n      const group = Events.getGroup();\n      // Makes it so the move and the disable event get undone together.\n      Events.setGroup(e.group);\n      this.setEnabled(legal);\n      Events.setGroup(group);\n    }\n  },\n  /**\n   * List of block types that are functions and thus do not need warnings.\n   * To add a new function type add this to your code:\n   * Blocks['procedures_ifreturn'].FUNCTION_TYPES.push('custom_func');\n   */\n  FUNCTION_TYPES: ['procedures_defnoreturn', 'procedures_defreturn'],\n};\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Text blocks for Blockly.\n * @suppress {checkTypes}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks.texts');\n\nconst Extensions = goog.require('Blockly.Extensions');\nconst {Msg} = goog.require('Blockly.Msg');\nconst fieldRegistry = goog.require('Blockly.fieldRegistry');\n/* eslint-disable-next-line no-unused-vars */\nconst xmlUtils = goog.require('Blockly.utils.xml');\nconst {Align} = goog.require('Blockly.Input');\n/* eslint-disable-next-line no-unused-vars */\nconst {Block} = goog.requireType('Blockly.Block');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\nconst {ConnectionType} = goog.require('Blockly.ConnectionType');\nconst {Mutator} = goog.require('Blockly.Mutator');\n/* eslint-disable-next-line no-unused-vars */\nconst {Workspace} = goog.requireType('Blockly.Workspace');\nconst {createBlockDefinitionsFromJsonArray, defineBlocks} = goog.require('Blockly.common');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldMultilineInput');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldVariable');\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = createBlockDefinitionsFromJsonArray([\n  // Block for text value\n  {\n    'type': 'text',\n    'message0': '%1',\n    'args0': [{\n      'type': 'field_input',\n      'name': 'TEXT',\n      'text': '',\n    }],\n    'output': 'String',\n    'style': 'text_blocks',\n    'helpUrl': '%{BKY_TEXT_TEXT_HELPURL}',\n    'tooltip': '%{BKY_TEXT_TEXT_TOOLTIP}',\n    'extensions': [\n      'text_quotes',\n      'parent_tooltip_when_inline',\n    ],\n  },\n  {\n    'type': 'text_multiline',\n    'message0': '%1 %2',\n    'args0': [\n      {\n        'type': 'field_image',\n        'src':\n            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpP' +\n            'U2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0' +\n            'U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjm' +\n            'RIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z88' +\n            '73zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5luj' +\n            'nYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiD' +\n            'MYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYX' +\n            'fwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4z' +\n            'wA5X2Z9AYnQrEAAAAASUVORK5CYII=',\n        'width': 12,\n        'height': 17,\n        'alt': '\\u00B6',\n      },\n      {\n        'type': 'field_multilinetext',\n        'name': 'TEXT',\n        'text': '',\n      },\n    ],\n    'output': 'String',\n    'style': 'text_blocks',\n    'helpUrl': '%{BKY_TEXT_TEXT_HELPURL}',\n    'tooltip': '%{BKY_TEXT_TEXT_TOOLTIP}',\n    'extensions': [\n      'parent_tooltip_when_inline',\n    ],\n  },\n  {\n    'type': 'text_join',\n    'message0': '',\n    'output': 'String',\n    'style': 'text_blocks',\n    'helpUrl': '%{BKY_TEXT_JOIN_HELPURL}',\n    'tooltip': '%{BKY_TEXT_JOIN_TOOLTIP}',\n    'mutator': 'text_join_mutator',\n\n  },\n  {\n    'type': 'text_create_join_container',\n    'message0': '%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2',\n    'args0': [\n      {\n        'type': 'input_dummy',\n      },\n      {\n        'type': 'input_statement',\n        'name': 'STACK',\n      },\n    ],\n    'style': 'text_blocks',\n    'tooltip': '%{BKY_TEXT_CREATE_JOIN_TOOLTIP}',\n    'enableContextMenu': false,\n  },\n  {\n    'type': 'text_create_join_item',\n    'message0': '%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}',\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'text_blocks',\n    'tooltip': '%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}',\n    'enableContextMenu': false,\n  },\n  {\n    'type': 'text_append',\n    'message0': '%{BKY_TEXT_APPEND_TITLE}',\n    'args0': [\n      {\n        'type': 'field_variable',\n        'name': 'VAR',\n        'variable': '%{BKY_TEXT_APPEND_VARIABLE}',\n      },\n      {\n        'type': 'input_value',\n        'name': 'TEXT',\n      },\n    ],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'text_blocks',\n    'extensions': [\n      'text_append_tooltip',\n    ],\n  },\n  {\n    'type': 'text_length',\n    'message0': '%{BKY_TEXT_LENGTH_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n        'check': ['String', 'Array'],\n      },\n    ],\n    'output': 'Number',\n    'style': 'text_blocks',\n    'tooltip': '%{BKY_TEXT_LENGTH_TOOLTIP}',\n    'helpUrl': '%{BKY_TEXT_LENGTH_HELPURL}',\n  },\n  {\n    'type': 'text_isEmpty',\n    'message0': '%{BKY_TEXT_ISEMPTY_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n        'check': ['String', 'Array'],\n      },\n    ],\n    'output': 'Boolean',\n    'style': 'text_blocks',\n    'tooltip': '%{BKY_TEXT_ISEMPTY_TOOLTIP}',\n    'helpUrl': '%{BKY_TEXT_ISEMPTY_HELPURL}',\n  },\n  {\n    'type': 'text_indexOf',\n    'message0': '%{BKY_TEXT_INDEXOF_TITLE}',\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n        'check': 'String',\n      },\n      {\n        'type': 'field_dropdown',\n        'name': 'END',\n        'options': [\n          [\n            '%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}',\n            'FIRST',\n          ],\n          [\n            '%{BKY_TEXT_INDEXOF_OPERATOR_LAST}',\n            'LAST',\n          ],\n        ],\n      },\n      {\n        'type': 'input_value',\n        'name': 'FIND',\n        'check': 'String',\n      },\n    ],\n    'output': 'Number',\n    'style': 'text_blocks',\n    'helpUrl': '%{BKY_TEXT_INDEXOF_HELPURL}',\n    'inputsInline': true,\n    'extensions': [\n      'text_indexOf_tooltip',\n    ],\n  },\n  {\n    'type': 'text_charAt',\n    'message0': '%{BKY_TEXT_CHARAT_TITLE}',  // \"in text %1 %2\"\n    'args0': [\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n        'check': 'String',\n      },\n      {\n        'type': 'field_dropdown',\n        'name': 'WHERE',\n        'options': [\n          ['%{BKY_TEXT_CHARAT_FROM_START}', 'FROM_START'],\n          ['%{BKY_TEXT_CHARAT_FROM_END}', 'FROM_END'],\n          ['%{BKY_TEXT_CHARAT_FIRST}', 'FIRST'],\n          ['%{BKY_TEXT_CHARAT_LAST}', 'LAST'],\n          ['%{BKY_TEXT_CHARAT_RANDOM}', 'RANDOM'],\n        ],\n      },\n    ],\n    'output': 'String',\n    'style': 'text_blocks',\n    'helpUrl': '%{BKY_TEXT_CHARAT_HELPURL}',\n    'inputsInline': true,\n    'mutator': 'text_charAt_mutator',\n  },\n]);\nexports.blocks = blocks;\n\nblocks['text_getSubstring'] = {\n  /**\n   * Block for getting substring.\n   * @this {Block}\n   */\n  init: function() {\n    this['WHERE_OPTIONS_1'] = [\n      [Msg['TEXT_GET_SUBSTRING_START_FROM_START'], 'FROM_START'],\n      [Msg['TEXT_GET_SUBSTRING_START_FROM_END'], 'FROM_END'],\n      [Msg['TEXT_GET_SUBSTRING_START_FIRST'], 'FIRST'],\n    ];\n    this['WHERE_OPTIONS_2'] = [\n      [Msg['TEXT_GET_SUBSTRING_END_FROM_START'], 'FROM_START'],\n      [Msg['TEXT_GET_SUBSTRING_END_FROM_END'], 'FROM_END'],\n      [Msg['TEXT_GET_SUBSTRING_END_LAST'], 'LAST'],\n    ];\n    this.setHelpUrl(Msg['TEXT_GET_SUBSTRING_HELPURL']);\n    this.setStyle('text_blocks');\n    this.appendValueInput('STRING').setCheck('String').appendField(\n        Msg['TEXT_GET_SUBSTRING_INPUT_IN_TEXT']);\n    this.appendDummyInput('AT1');\n    this.appendDummyInput('AT2');\n    if (Msg['TEXT_GET_SUBSTRING_TAIL']) {\n      this.appendDummyInput('TAIL').appendField(Msg['TEXT_GET_SUBSTRING_TAIL']);\n    }\n    this.setInputsInline(true);\n    this.setOutput(true, 'String');\n    this.updateAt_(1, true);\n    this.updateAt_(2, true);\n    this.setTooltip(Msg['TEXT_GET_SUBSTRING_TOOLTIP']);\n  },\n  /**\n   * Create XML to represent whether there are 'AT' inputs.\n   * Backwards compatible serialization implementation.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    const isAt1 = this.getInput('AT1').type === ConnectionType.INPUT_VALUE;\n    container.setAttribute('at1', isAt1);\n    const isAt2 = this.getInput('AT2').type === ConnectionType.INPUT_VALUE;\n    container.setAttribute('at2', isAt2);\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'AT' inputs.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    const isAt1 = (xmlElement.getAttribute('at1') === 'true');\n    const isAt2 = (xmlElement.getAttribute('at2') === 'true');\n    this.updateAt_(1, isAt1);\n    this.updateAt_(2, isAt2);\n  },\n\n  // This block does not need JSO serialization hooks (saveExtraState and\n  // loadExtraState) because the state of this object is already encoded in the\n  // dropdown values.\n  // XML hooks are kept for backwards compatibility.\n\n  /**\n   * Create or delete an input for a numeric index.\n   * This block has two such inputs, independent of each other.\n   * @param {number} n Specify first or second input (1 or 2).\n   * @param {boolean} isAt True if the input should exist.\n   * @private\n   * @this {Block}\n   */\n  updateAt_: function(n, isAt) {\n    // Create or delete an input for the numeric index.\n    // Destroy old 'AT' and 'ORDINAL' inputs.\n    this.removeInput('AT' + n);\n    this.removeInput('ORDINAL' + n, true);\n    // Create either a value 'AT' input or a dummy input.\n    if (isAt) {\n      this.appendValueInput('AT' + n).setCheck('Number');\n      if (Msg['ORDINAL_NUMBER_SUFFIX']) {\n        this.appendDummyInput('ORDINAL' + n)\n            .appendField(Msg['ORDINAL_NUMBER_SUFFIX']);\n      }\n    } else {\n      this.appendDummyInput('AT' + n);\n    }\n    // Move tail, if present, to end of block.\n    if (n === 2 && Msg['TEXT_GET_SUBSTRING_TAIL']) {\n      this.removeInput('TAIL', true);\n      this.appendDummyInput('TAIL').appendField(Msg['TEXT_GET_SUBSTRING_TAIL']);\n    }\n    const menu = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: this['WHERE_OPTIONS_' + n],\n    });\n    menu.setValidator(\n        /**\n         * @param {*} value The input value.\n         * @this {FieldDropdown}\n         * @return {null|undefined} Null if the field has been replaced;\n         *     otherwise undefined.\n         */\n        function(value) {\n          const newAt = (value === 'FROM_START') || (value === 'FROM_END');\n          // The 'isAt' variable is available due to this function being a\n          // closure.\n          if (newAt !== isAt) {\n            const block = this.getSourceBlock();\n            block.updateAt_(n, newAt);\n            // This menu has been destroyed and replaced.\n            // Update the replacement.\n            block.setFieldValue(value, 'WHERE' + n);\n            return null;\n          }\n          return undefined;\n        });\n\n    this.getInput('AT' + n).appendField(menu, 'WHERE' + n);\n    if (n === 1) {\n      this.moveInputBefore('AT1', 'AT2');\n      if (this.getInput('ORDINAL1')) {\n        this.moveInputBefore('ORDINAL1', 'AT2');\n      }\n    }\n  },\n};\n\nblocks['text_changeCase'] = {\n  /**\n   * Block for changing capitalization.\n   * @this {Block}\n   */\n  init: function() {\n    const OPERATORS = [\n      [Msg['TEXT_CHANGECASE_OPERATOR_UPPERCASE'], 'UPPERCASE'],\n      [Msg['TEXT_CHANGECASE_OPERATOR_LOWERCASE'], 'LOWERCASE'],\n      [Msg['TEXT_CHANGECASE_OPERATOR_TITLECASE'], 'TITLECASE'],\n    ];\n    this.setHelpUrl(Msg['TEXT_CHANGECASE_HELPURL']);\n    this.setStyle('text_blocks');\n    this.appendValueInput('TEXT').setCheck('String').appendField(\n        fieldRegistry.fromJson({\n          type: 'field_dropdown',\n          options: OPERATORS,\n        }),\n        'CASE');\n    this.setOutput(true, 'String');\n    this.setTooltip(Msg['TEXT_CHANGECASE_TOOLTIP']);\n  },\n};\n\nblocks['text_trim'] = {\n  /**\n   * Block for trimming spaces.\n   * @this {Block}\n   */\n  init: function() {\n    const OPERATORS = [\n      [Msg['TEXT_TRIM_OPERATOR_BOTH'], 'BOTH'],\n      [Msg['TEXT_TRIM_OPERATOR_LEFT'], 'LEFT'],\n      [Msg['TEXT_TRIM_OPERATOR_RIGHT'], 'RIGHT'],\n    ];\n    this.setHelpUrl(Msg['TEXT_TRIM_HELPURL']);\n    this.setStyle('text_blocks');\n    this.appendValueInput('TEXT').setCheck('String').appendField(\n        fieldRegistry.fromJson({\n          type: 'field_dropdown',\n          options: OPERATORS,\n        }),\n        'MODE');\n    this.setOutput(true, 'String');\n    this.setTooltip(Msg['TEXT_TRIM_TOOLTIP']);\n  },\n};\n\nblocks['text_print'] = {\n  /**\n   * Block for print statement.\n   * @this {Block}\n   */\n  init: function() {\n    this.jsonInit({\n      'message0': Msg['TEXT_PRINT_TITLE'],\n      'args0': [\n        {\n          'type': 'input_value',\n          'name': 'TEXT',\n        },\n      ],\n      'previousStatement': null,\n      'nextStatement': null,\n      'style': 'text_blocks',\n      'tooltip': Msg['TEXT_PRINT_TOOLTIP'],\n      'helpUrl': Msg['TEXT_PRINT_HELPURL'],\n    });\n  },\n};\n\n\n/**\n * Common properties for the text_prompt_ext and text_prompt blocks\n * definitions.\n */\nconst TEXT_PROMPT_COMMON = {\n  /**\n   * Modify this block to have the correct output type.\n   * @param {string} newOp Either 'TEXT' or 'NUMBER'.\n   * @private\n   * @this {Block}\n   */\n  updateType_: function(newOp) {\n    this.outputConnection.setCheck(newOp === 'NUMBER' ? 'Number' : 'String');\n  },\n  /**\n   * Create XML to represent the output type.\n   * Backwards compatible serialization implementation.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('type', this.getFieldValue('TYPE'));\n    return container;\n  },\n  /**\n   * Parse XML to restore the output type.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.updateType_(xmlElement.getAttribute('type'));\n  },\n};\n\nblocks['text_prompt_ext'] = {\n  ...TEXT_PROMPT_COMMON,\n  /**\n   * Block for prompt function (external message).\n   * @this {Block}\n   */\n  init: function() {\n    const TYPES = [\n      [Msg['TEXT_PROMPT_TYPE_TEXT'], 'TEXT'],\n      [Msg['TEXT_PROMPT_TYPE_NUMBER'], 'NUMBER'],\n    ];\n    this.setHelpUrl(Msg['TEXT_PROMPT_HELPURL']);\n    this.setStyle('text_blocks');\n    // Assign 'this' to a variable for use in the closures below.\n    const thisBlock = this;\n    const dropdown = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: TYPES,\n    });\n    dropdown.setValidator(function(newOp) {\n      thisBlock.updateType_(newOp);\n    });\n    this.appendValueInput('TEXT').appendField(dropdown, 'TYPE');\n    this.setOutput(true, 'String');\n    this.setTooltip(function() {\n      return (thisBlock.getFieldValue('TYPE') === 'TEXT') ?\n          Msg['TEXT_PROMPT_TOOLTIP_TEXT'] :\n          Msg['TEXT_PROMPT_TOOLTIP_NUMBER'];\n    });\n  },\n\n  // This block does not need JSO serialization hooks (saveExtraState and\n  // loadExtraState) because the state of this object is already encoded in the\n  // dropdown values.\n  // XML hooks are kept for backwards compatibility.\n};\n\nblocks['text_prompt'] = {\n  ...TEXT_PROMPT_COMMON,\n  /**\n   * Block for prompt function (internal message).\n   * The 'text_prompt_ext' block is preferred as it is more flexible.\n   * @this {Block}\n   */\n  init: function() {\n    this.mixin(QUOTE_IMAGE_MIXIN);\n    const TYPES = [\n      [Msg['TEXT_PROMPT_TYPE_TEXT'], 'TEXT'],\n      [Msg['TEXT_PROMPT_TYPE_NUMBER'], 'NUMBER'],\n    ];\n\n    // Assign 'this' to a variable for use in the closures below.\n    const thisBlock = this;\n    this.setHelpUrl(Msg['TEXT_PROMPT_HELPURL']);\n    this.setStyle('text_blocks');\n    const dropdown = fieldRegistry.fromJson({\n      type: 'field_dropdown',\n      options: TYPES,\n    });\n    dropdown.setValidator(function(newOp) {\n      thisBlock.updateType_(newOp);\n    });\n    this.appendDummyInput()\n        .appendField(dropdown, 'TYPE')\n        .appendField(this.newQuote_(true))\n        .appendField(\n            fieldRegistry.fromJson({\n              type: 'field_input',\n              text: '',\n            }),\n            'TEXT')\n        .appendField(this.newQuote_(false));\n    this.setOutput(true, 'String');\n    this.setTooltip(function() {\n      return (thisBlock.getFieldValue('TYPE') === 'TEXT') ?\n          Msg['TEXT_PROMPT_TOOLTIP_TEXT'] :\n          Msg['TEXT_PROMPT_TOOLTIP_NUMBER'];\n    });\n  },\n};\n\nblocks['text_count'] = {\n  /**\n   * Block for counting how many times one string appears within another string.\n   * @this {Block}\n   */\n  init: function() {\n    this.jsonInit({\n      'message0': Msg['TEXT_COUNT_MESSAGE0'],\n      'args0': [\n        {\n          'type': 'input_value',\n          'name': 'SUB',\n          'check': 'String',\n        },\n        {\n          'type': 'input_value',\n          'name': 'TEXT',\n          'check': 'String',\n        },\n      ],\n      'output': 'Number',\n      'inputsInline': true,\n      'style': 'text_blocks',\n      'tooltip': Msg['TEXT_COUNT_TOOLTIP'],\n      'helpUrl': Msg['TEXT_COUNT_HELPURL'],\n    });\n  },\n};\n\nblocks['text_replace'] = {\n  /**\n   * Block for replacing one string with another in the text.\n   * @this {Block}\n   */\n  init: function() {\n    this.jsonInit({\n      'message0': Msg['TEXT_REPLACE_MESSAGE0'],\n      'args0': [\n        {\n          'type': 'input_value',\n          'name': 'FROM',\n          'check': 'String',\n        },\n        {\n          'type': 'input_value',\n          'name': 'TO',\n          'check': 'String',\n        },\n        {\n          'type': 'input_value',\n          'name': 'TEXT',\n          'check': 'String',\n        },\n      ],\n      'output': 'String',\n      'inputsInline': true,\n      'style': 'text_blocks',\n      'tooltip': Msg['TEXT_REPLACE_TOOLTIP'],\n      'helpUrl': Msg['TEXT_REPLACE_HELPURL'],\n    });\n  },\n};\n\nblocks['text_reverse'] = {\n  /**\n   * Block for reversing a string.\n   * @this {Block}\n   */\n  init: function() {\n    this.jsonInit({\n      'message0': Msg['TEXT_REVERSE_MESSAGE0'],\n      'args0': [\n        {\n          'type': 'input_value',\n          'name': 'TEXT',\n          'check': 'String',\n        },\n      ],\n      'output': 'String',\n      'inputsInline': true,\n      'style': 'text_blocks',\n      'tooltip': Msg['TEXT_REVERSE_TOOLTIP'],\n      'helpUrl': Msg['TEXT_REVERSE_HELPURL'],\n    });\n  },\n};\n\n/**\n * @mixin\n * @package\n * @readonly\n */\nconst QUOTE_IMAGE_MIXIN = {\n  /**\n   * Image data URI of an LTR opening double quote (same as RTL closing double\n   * quote).\n   * @readonly\n   */\n  QUOTE_IMAGE_LEFT_DATAURI:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAA' +\n      'n0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY' +\n      '1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1' +\n      'HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMf' +\n      'z9AylsaRRgGzvZAAAAAElFTkSuQmCC',\n  /**\n   * Image data URI of an LTR closing double quote (same as RTL opening double\n   * quote).\n   * @readonly\n   */\n  QUOTE_IMAGE_RIGHT_DATAURI:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAA' +\n      'qUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhg' +\n      'gONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvB' +\n      'O3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5Aos' +\n      'lLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==',\n  /**\n   * Pixel width of QUOTE_IMAGE_LEFT_DATAURI and QUOTE_IMAGE_RIGHT_DATAURI.\n   * @readonly\n   */\n  QUOTE_IMAGE_WIDTH: 12,\n  /**\n   * Pixel height of QUOTE_IMAGE_LEFT_DATAURI and QUOTE_IMAGE_RIGHT_DATAURI.\n   * @readonly\n   */\n  QUOTE_IMAGE_HEIGHT: 12,\n\n  /**\n   * Inserts appropriate quote images before and after the named field.\n   * @param {string} fieldName The name of the field to wrap with quotes.\n   * @this {Block}\n   */\n  quoteField_: function(fieldName) {\n    for (let i = 0, input; (input = this.inputList[i]); i++) {\n      for (let j = 0, field; (field = input.fieldRow[j]); j++) {\n        if (fieldName === field.name) {\n          input.insertFieldAt(j, this.newQuote_(true));\n          input.insertFieldAt(j + 2, this.newQuote_(false));\n          return;\n        }\n      }\n    }\n    console.warn(\n        'field named \"' + fieldName + '\" not found in ' + this.toDevString());\n  },\n\n  /**\n   * A helper function that generates a FieldImage of an opening or\n   * closing double quote. The selected quote will be adapted for RTL blocks.\n   * @param {boolean} open If the image should be open quote ( in LTR).\n   *                       Otherwise, a closing quote is used ( in LTR).\n   * @return {!FieldImage} The new field.\n   * @this {Block}\n   */\n  newQuote_: function(open) {\n    const isLeft = this.RTL ? !open : open;\n    const dataUri =\n        isLeft ? this.QUOTE_IMAGE_LEFT_DATAURI : this.QUOTE_IMAGE_RIGHT_DATAURI;\n    return fieldRegistry.fromJson({\n      type: 'field_image',\n      src: dataUri,\n      width: this.QUOTE_IMAGE_WIDTH,\n      height: this.QUOTE_IMAGE_HEIGHT,\n      alt: isLeft ? '\\u201C' : '\\u201D',\n    });\n  },\n};\n\n/**\n * Wraps TEXT field with images of double quote characters.\n * @this {Block}\n */\nconst TEXT_QUOTES_EXTENSION = function() {\n  this.mixin(QUOTE_IMAGE_MIXIN);\n  this.quoteField_('TEXT');\n};\n\n/**\n * Mixin for mutator functions in the 'text_join_mutator' extension.\n * @mixin\n * @augments Block\n * @package\n */\nconst TEXT_JOIN_MUTATOR_MIXIN = {\n  /**\n   * Create XML to represent number of text inputs.\n   * Backwards compatible serialization implementation.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('items', this.itemCount_);\n    return container;\n  },\n  /**\n   * Parse XML to restore the text inputs.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.itemCount_ = parseInt(xmlElement.getAttribute('items'), 10);\n    this.updateShape_();\n  },\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {{itemCount: number}} The state of this block, ie the item count.\n   */\n  saveExtraState: function() {\n    return {\n      'itemCount': this.itemCount_,\n    };\n  },\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block, ie the item count.\n   */\n  loadExtraState: function(state) {\n    this.itemCount_ = state['itemCount'];\n    this.updateShape_();\n  },\n  /**\n   * Populate the mutator's dialog with this block's components.\n   * @param {!Workspace} workspace Mutator's workspace.\n   * @return {!Block} Root block in mutator.\n   * @this {Block}\n   */\n  decompose: function(workspace) {\n    const containerBlock = workspace.newBlock('text_create_join_container');\n    containerBlock.initSvg();\n    let connection = containerBlock.getInput('STACK').connection;\n    for (let i = 0; i < this.itemCount_; i++) {\n      const itemBlock = workspace.newBlock('text_create_join_item');\n      itemBlock.initSvg();\n      connection.connect(itemBlock.previousConnection);\n      connection = itemBlock.nextConnection;\n    }\n    return containerBlock;\n  },\n  /**\n   * Reconfigure this block based on the mutator dialog's components.\n   * @param {!Block} containerBlock Root block in mutator.\n   * @this {Block}\n   */\n  compose: function(containerBlock) {\n    let itemBlock = containerBlock.getInputTargetBlock('STACK');\n    // Count number of inputs.\n    const connections = [];\n    while (itemBlock) {\n      if (itemBlock.isInsertionMarker()) {\n        itemBlock = itemBlock.getNextBlock();\n        continue;\n      }\n      connections.push(itemBlock.valueConnection_);\n      itemBlock = itemBlock.getNextBlock();\n    }\n    // Disconnect any children that don't belong.\n    for (let i = 0; i < this.itemCount_; i++) {\n      const connection = this.getInput('ADD' + i).connection.targetConnection;\n      if (connection && connections.indexOf(connection) === -1) {\n        connection.disconnect();\n      }\n    }\n    this.itemCount_ = connections.length;\n    this.updateShape_();\n    // Reconnect any child blocks.\n    for (let i = 0; i < this.itemCount_; i++) {\n      Mutator.reconnect(connections[i], this, 'ADD' + i);\n    }\n  },\n  /**\n   * Store pointers to any connected child blocks.\n   * @param {!Block} containerBlock Root block in mutator.\n   * @this {Block}\n   */\n  saveConnections: function(containerBlock) {\n    let itemBlock = containerBlock.getInputTargetBlock('STACK');\n    let i = 0;\n    while (itemBlock) {\n      if (itemBlock.isInsertionMarker()) {\n        itemBlock = itemBlock.getNextBlock();\n        continue;\n      }\n      const input = this.getInput('ADD' + i);\n      itemBlock.valueConnection_ = input && input.connection.targetConnection;\n      itemBlock = itemBlock.getNextBlock();\n      i++;\n    }\n  },\n  /**\n   * Modify this block to have the correct number of inputs.\n   * @private\n   * @this {Block}\n   */\n  updateShape_: function() {\n    if (this.itemCount_ && this.getInput('EMPTY')) {\n      this.removeInput('EMPTY');\n    } else if (!this.itemCount_ && !this.getInput('EMPTY')) {\n      this.appendDummyInput('EMPTY')\n          .appendField(this.newQuote_(true))\n          .appendField(this.newQuote_(false));\n    }\n    // Add new inputs.\n    for (let i = 0; i < this.itemCount_; i++) {\n      if (!this.getInput('ADD' + i)) {\n        const input = this.appendValueInput('ADD' + i).setAlign(Align.RIGHT);\n        if (i === 0) {\n          input.appendField(Msg['TEXT_JOIN_TITLE_CREATEWITH']);\n        }\n      }\n    }\n    // Remove deleted inputs.\n    for (let i = this.itemCount_; this.getInput('ADD' + i); i++) {\n      this.removeInput('ADD' + i);\n    }\n  },\n};\n\n/**\n * Performs final setup of a text_join block.\n * @this {Block}\n */\nconst TEXT_JOIN_EXTENSION = function() {\n  // Add the quote mixin for the itemCount_ = 0 case.\n  this.mixin(QUOTE_IMAGE_MIXIN);\n  // Initialize the mutator values.\n  this.itemCount_ = 2;\n  this.updateShape_();\n  // Configure the mutator UI.\n  this.setMutator(new Mutator(['text_create_join_item'], this));\n};\n\n// Update the tooltip of 'text_append' block to reference the variable.\nExtensions.register(\n    'text_append_tooltip',\n    Extensions.buildTooltipWithFieldText('%{BKY_TEXT_APPEND_TOOLTIP}', 'VAR'));\n\n/**\n * Update the tooltip of 'text_append' block to reference the variable.\n * @this {Block}\n */\nconst TEXT_INDEXOF_TOOLTIP_EXTENSION = function() {\n  // Assign 'this' to a variable for use in the tooltip closure below.\n  const thisBlock = this;\n  this.setTooltip(function() {\n    return Msg['TEXT_INDEXOF_TOOLTIP'].replace(\n        '%1', thisBlock.workspace.options.oneBasedIndex ? '0' : '-1');\n  });\n};\n\n/**\n * Mixin for mutator functions in the 'text_charAt_mutator' extension.\n * @mixin\n * @augments Block\n * @package\n */\nconst TEXT_CHARAT_MUTATOR_MIXIN = {\n  /**\n   * Create XML to represent whether there is an 'AT' input.\n   * Backwards compatible serialization implementation.\n   * @return {!Element} XML storage element.\n   * @this {Block}\n   */\n  mutationToDom: function() {\n    const container = xmlUtils.createElement('mutation');\n    container.setAttribute('at', !!this.isAt_);\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'AT' input.\n   * Backwards compatible serialization implementation.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Block}\n   */\n  domToMutation: function(xmlElement) {\n    // Note: Until January 2013 this block did not have mutations,\n    // so 'at' defaults to true.\n    const isAt = (xmlElement.getAttribute('at') !== 'false');\n    this.updateAt_(isAt);\n  },\n\n  // This block does not need JSO serialization hooks (saveExtraState and\n  // loadExtraState) because the state of this object is already encoded in the\n  // dropdown values.\n  // XML hooks are kept for backwards compatibility.\n\n  /**\n   * Create or delete an input for the numeric index.\n   * @param {boolean} isAt True if the input should exist.\n   * @private\n   * @this {Block}\n   */\n  updateAt_: function(isAt) {\n    // Destroy old 'AT' and 'ORDINAL' inputs.\n    this.removeInput('AT', true);\n    this.removeInput('ORDINAL', true);\n    // Create either a value 'AT' input or a dummy input.\n    if (isAt) {\n      this.appendValueInput('AT').setCheck('Number');\n      if (Msg['ORDINAL_NUMBER_SUFFIX']) {\n        this.appendDummyInput('ORDINAL').appendField(\n            Msg['ORDINAL_NUMBER_SUFFIX']);\n      }\n    }\n    if (Msg['TEXT_CHARAT_TAIL']) {\n      this.removeInput('TAIL', true);\n      this.appendDummyInput('TAIL').appendField(Msg['TEXT_CHARAT_TAIL']);\n    }\n\n    this.isAt_ = isAt;\n  },\n};\n\n/**\n * Does the initial mutator update of text_charAt and adds the tooltip\n * @this {Block}\n */\nconst TEXT_CHARAT_EXTENSION = function() {\n  const dropdown = this.getField('WHERE');\n  dropdown.setValidator(\n      /**\n       * @param {*} value The input value.\n       * @this {FieldDropdown}\n       */\n      function(value) {\n        const newAt = (value === 'FROM_START') || (value === 'FROM_END');\n        if (newAt !== this.isAt_) {\n          const block = this.getSourceBlock();\n          block.updateAt_(newAt);\n        }\n      });\n  this.updateAt_(true);\n  // Assign 'this' to a variable for use in the tooltip closure below.\n  const thisBlock = this;\n  this.setTooltip(function() {\n    const where = thisBlock.getFieldValue('WHERE');\n    let tooltip = Msg['TEXT_CHARAT_TOOLTIP'];\n    if (where === 'FROM_START' || where === 'FROM_END') {\n      const msg = (where === 'FROM_START') ?\n          Msg['LISTS_INDEX_FROM_START_TOOLTIP'] :\n          Msg['LISTS_INDEX_FROM_END_TOOLTIP'];\n      if (msg) {\n        tooltip += '  ' +\n            msg.replace(\n                '%1', thisBlock.workspace.options.oneBasedIndex ? '#1' : '#0');\n      }\n    }\n    return tooltip;\n  });\n};\n\nExtensions.register('text_indexOf_tooltip', TEXT_INDEXOF_TOOLTIP_EXTENSION);\n\nExtensions.register('text_quotes', TEXT_QUOTES_EXTENSION);\n\nExtensions.registerMutator(\n    'text_join_mutator', TEXT_JOIN_MUTATOR_MIXIN, TEXT_JOIN_EXTENSION);\n\nExtensions.registerMutator(\n    'text_charAt_mutator', TEXT_CHARAT_MUTATOR_MIXIN, TEXT_CHARAT_EXTENSION);\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Variable blocks for Blockly.\n * @suppress {checkTypes}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks.variables');\n\nconst ContextMenu = goog.require('Blockly.ContextMenu');\nconst Extensions = goog.require('Blockly.Extensions');\nconst Variables = goog.require('Blockly.Variables');\nconst xmlUtils = goog.require('Blockly.utils.xml');\n/* eslint-disable-next-line no-unused-vars */\nconst {Block} = goog.requireType('Blockly.Block');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\nconst {Msg} = goog.require('Blockly.Msg');\nconst {createBlockDefinitionsFromJsonArray, defineBlocks} = goog.require('Blockly.common');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldLabel');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldVariable');\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = createBlockDefinitionsFromJsonArray([\n  // Block for variable getter.\n  {\n    'type': 'variables_get',\n    'message0': '%1',\n    'args0': [\n      {\n        'type': 'field_variable',\n        'name': 'VAR',\n        'variable': '%{BKY_VARIABLES_DEFAULT_NAME}',\n      },\n    ],\n    'output': null,\n    'style': 'variable_blocks',\n    'helpUrl': '%{BKY_VARIABLES_GET_HELPURL}',\n    'tooltip': '%{BKY_VARIABLES_GET_TOOLTIP}',\n    'extensions': ['contextMenu_variableSetterGetter'],\n  },\n  // Block for variable setter.\n  {\n    'type': 'variables_set',\n    'message0': '%{BKY_VARIABLES_SET}',\n    'args0': [\n      {\n        'type': 'field_variable',\n        'name': 'VAR',\n        'variable': '%{BKY_VARIABLES_DEFAULT_NAME}',\n      },\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n      },\n    ],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'variable_blocks',\n    'tooltip': '%{BKY_VARIABLES_SET_TOOLTIP}',\n    'helpUrl': '%{BKY_VARIABLES_SET_HELPURL}',\n    'extensions': ['contextMenu_variableSetterGetter'],\n  },\n]);\nexports.blocks = blocks;\n\n\n/**\n * Mixin to add context menu items to create getter/setter blocks for this\n * setter/getter.\n * Used by blocks 'variables_set' and 'variables_get'.\n * @mixin\n * @augments Block\n * @package\n * @readonly\n */\nconst CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN = {\n  /**\n   * Add menu option to create getter/setter block for this setter/getter.\n   * @param {!Array} options List of menu options to add to.\n   * @this {Block}\n   */\n  customContextMenu: function(options) {\n    if (!this.isInFlyout) {\n      let oppositeType;\n      let contextMenuMsg;\n      // Getter blocks have the option to create a setter block, and vice versa.\n      if (this.type === 'variables_get') {\n        oppositeType = 'variables_set';\n        contextMenuMsg = Msg['VARIABLES_GET_CREATE_SET'];\n      } else {\n        oppositeType = 'variables_get';\n        contextMenuMsg = Msg['VARIABLES_SET_CREATE_GET'];\n      }\n\n      const option = {enabled: this.workspace.remainingCapacity() > 0};\n      const name = this.getField('VAR').getText();\n      option.text = contextMenuMsg.replace('%1', name);\n      const xmlField = xmlUtils.createElement('field');\n      xmlField.setAttribute('name', 'VAR');\n      xmlField.appendChild(xmlUtils.createTextNode(name));\n      const xmlBlock = xmlUtils.createElement('block');\n      xmlBlock.setAttribute('type', oppositeType);\n      xmlBlock.appendChild(xmlField);\n      option.callback = ContextMenu.callbackFactory(this, xmlBlock);\n      options.push(option);\n      // Getter blocks have the option to rename or delete that variable.\n    } else {\n      if (this.type === 'variables_get' ||\n          this.type === 'variables_get_reporter') {\n        const renameOption = {\n          text: Msg['RENAME_VARIABLE'],\n          enabled: true,\n          callback: renameOptionCallbackFactory(this),\n        };\n        const name = this.getField('VAR').getText();\n        const deleteOption = {\n          text: Msg['DELETE_VARIABLE'].replace('%1', name),\n          enabled: true,\n          callback: deleteOptionCallbackFactory(this),\n        };\n        options.unshift(renameOption);\n        options.unshift(deleteOption);\n      }\n    }\n  },\n};\n\n/**\n * Factory for callbacks for rename variable dropdown menu option\n * associated with a variable getter block.\n * @param {!Block} block The block with the variable to rename.\n * @return {!function()} A function that renames the variable.\n */\nconst renameOptionCallbackFactory = function(block) {\n  return function() {\n    const workspace = block.workspace;\n    const variable = block.getField('VAR').getVariable();\n    Variables.renameVariable(workspace, variable);\n  };\n};\n\n/**\n * Factory for callbacks for delete variable dropdown menu option\n * associated with a variable getter block.\n * @param {!Block} block The block with the variable to delete.\n * @return {!function()} A function that deletes the variable.\n */\nconst deleteOptionCallbackFactory = function(block) {\n  return function() {\n    const workspace = block.workspace;\n    const variable = block.getField('VAR').getVariable();\n    workspace.deleteVariableById(variable.getId());\n    workspace.refreshToolboxSelection();\n  };\n};\n\nExtensions.registerMixin(\n    'contextMenu_variableSetterGetter',\n    CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Variable blocks for Blockly.\n * @suppress {checkTypes}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks.variablesDynamic');\n\n/* eslint-disable-next-line no-unused-vars */\nconst AbstractEvent = goog.requireType('Blockly.Events.Abstract');\nconst ContextMenu = goog.require('Blockly.ContextMenu');\nconst Extensions = goog.require('Blockly.Extensions');\nconst Variables = goog.require('Blockly.Variables');\nconst xml = goog.require('Blockly.utils.xml');\n/* eslint-disable-next-line no-unused-vars */\nconst {Block} = goog.requireType('Blockly.Block');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\nconst {Msg} = goog.require('Blockly.Msg');\nconst {createBlockDefinitionsFromJsonArray, defineBlocks} = goog.require('Blockly.common');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldLabel');\n/** @suppress {extraRequire} */\ngoog.require('Blockly.FieldVariable');\n\n\n/**\n * A dictionary of the block definitions provided by this module.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = createBlockDefinitionsFromJsonArray([\n  // Block for variable getter.\n  {\n    'type': 'variables_get_dynamic',\n    'message0': '%1',\n    'args0': [{\n      'type': 'field_variable',\n      'name': 'VAR',\n      'variable': '%{BKY_VARIABLES_DEFAULT_NAME}',\n    }],\n    'output': null,\n    'style': 'variable_dynamic_blocks',\n    'helpUrl': '%{BKY_VARIABLES_GET_HELPURL}',\n    'tooltip': '%{BKY_VARIABLES_GET_TOOLTIP}',\n    'extensions': ['contextMenu_variableDynamicSetterGetter'],\n  },\n  // Block for variable setter.\n  {\n    'type': 'variables_set_dynamic',\n    'message0': '%{BKY_VARIABLES_SET}',\n    'args0': [\n      {\n        'type': 'field_variable',\n        'name': 'VAR',\n        'variable': '%{BKY_VARIABLES_DEFAULT_NAME}',\n      },\n      {\n        'type': 'input_value',\n        'name': 'VALUE',\n      },\n    ],\n    'previousStatement': null,\n    'nextStatement': null,\n    'style': 'variable_dynamic_blocks',\n    'tooltip': '%{BKY_VARIABLES_SET_TOOLTIP}',\n    'helpUrl': '%{BKY_VARIABLES_SET_HELPURL}',\n    'extensions': ['contextMenu_variableDynamicSetterGetter'],\n  },\n]);\nexports.blocks = blocks;\n\n/**\n * Mixin to add context menu items to create getter/setter blocks for this\n * setter/getter.\n * Used by blocks 'variables_set_dynamic' and 'variables_get_dynamic'.\n * @mixin\n * @augments Block\n * @readonly\n */\nconst CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN = {\n  /**\n   * Add menu option to create getter/setter block for this setter/getter.\n   * @param {!Array} options List of menu options to add to.\n   * @this {Block}\n   */\n  customContextMenu: function(options) {\n    // Getter blocks have the option to create a setter block, and vice versa.\n    if (!this.isInFlyout) {\n      let oppositeType;\n      let contextMenuMsg;\n      const id = this.getFieldValue('VAR');\n      const variableModel = this.workspace.getVariableById(id);\n      const varType = variableModel.type;\n      if (this.type === 'variables_get_dynamic') {\n        oppositeType = 'variables_set_dynamic';\n        contextMenuMsg = Msg['VARIABLES_GET_CREATE_SET'];\n      } else {\n        oppositeType = 'variables_get_dynamic';\n        contextMenuMsg = Msg['VARIABLES_SET_CREATE_GET'];\n      }\n\n      const option = {enabled: this.workspace.remainingCapacity() > 0};\n      const name = this.getField('VAR').getText();\n      option.text = contextMenuMsg.replace('%1', name);\n      const xmlField = xml.createElement('field');\n      xmlField.setAttribute('name', 'VAR');\n      xmlField.setAttribute('variabletype', varType);\n      xmlField.appendChild(xml.createTextNode(name));\n      const xmlBlock = xml.createElement('block');\n      xmlBlock.setAttribute('type', oppositeType);\n      xmlBlock.appendChild(xmlField);\n      option.callback = ContextMenu.callbackFactory(this, xmlBlock);\n      options.push(option);\n    } else {\n      if (this.type === 'variables_get_dynamic' ||\n          this.type === 'variables_get_reporter_dynamic') {\n        const renameOption = {\n          text: Msg['RENAME_VARIABLE'],\n          enabled: true,\n          callback: renameOptionCallbackFactory(this),\n        };\n        const name = this.getField('VAR').getText();\n        const deleteOption = {\n          text: Msg['DELETE_VARIABLE'].replace('%1', name),\n          enabled: true,\n          callback: deleteOptionCallbackFactory(this),\n        };\n        options.unshift(renameOption);\n        options.unshift(deleteOption);\n      }\n    }\n  },\n  /**\n   * Called whenever anything on the workspace changes.\n   * Set the connection type for this block.\n   * @param {AbstractEvent} _e Change event.\n   * @this {Block}\n   */\n  onchange: function(_e) {\n    const id = this.getFieldValue('VAR');\n    const variableModel = Variables.getVariable(this.workspace, id);\n    if (this.type === 'variables_get_dynamic') {\n      this.outputConnection.setCheck(variableModel.type);\n    } else {\n      this.getInput('VALUE').connection.setCheck(variableModel.type);\n    }\n  },\n};\n\n/**\n * Factory for callbacks for rename variable dropdown menu option\n * associated with a variable getter block.\n * @param {!Block} block The block with the variable to rename.\n * @return {!function()} A function that renames the variable.\n */\nconst renameOptionCallbackFactory = function(block) {\n  return function() {\n    const workspace = block.workspace;\n    const variable = block.getField('VAR').getVariable();\n    Variables.renameVariable(workspace, variable);\n  };\n};\n\n/**\n * Factory for callbacks for delete variable dropdown menu option\n * associated with a variable getter block.\n * @param {!Block} block The block with the variable to delete.\n * @return {!function()} A function that deletes the variable.\n */\nconst deleteOptionCallbackFactory = function(block) {\n  return function() {\n    const workspace = block.workspace;\n    const variable = block.getField('VAR').getVariable();\n    workspace.deleteVariableById(variable.getId());\n    workspace.refreshToolboxSelection();\n  };\n};\n\nExtensions.registerMixin(\n    'contextMenu_variableDynamicSetterGetter',\n    CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);\n\n// Register provided blocks.\ndefineBlocks(blocks);\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview All the blocks.  (Entry point for blocks_compressed.js.)\n * @suppress {extraRequire}\n */\n'use strict';\n\ngoog.module('Blockly.libraryBlocks');\n\nconst colour = goog.require('Blockly.libraryBlocks.colour');\nconst lists = goog.require('Blockly.libraryBlocks.lists');\nconst logic = goog.require('Blockly.libraryBlocks.logic');\nconst loops = goog.require('Blockly.libraryBlocks.loops');\nconst math = goog.require('Blockly.libraryBlocks.math');\nconst procedures = goog.require('Blockly.libraryBlocks.procedures');\nconst texts = goog.require('Blockly.libraryBlocks.texts');\nconst variables = goog.require('Blockly.libraryBlocks.variables');\nconst variablesDynamic = goog.require('Blockly.libraryBlocks.variablesDynamic');\n// const {BlockDefinition} = goog.requireType('Blockly.blocks');\n// TODO (6248): Properly import the BlockDefinition type.\n/* eslint-disable-next-line no-unused-vars */\nconst BlockDefinition = Object;\n\n\nexports.colour = colour;\nexports.lists = lists;\nexports.logic = logic;\nexports.loops = loops;\nexports.math = math;\nexports.procedures = procedures;\nexports.texts = texts;\nexports.variables = variables;\nexports.variablesDynamic = variablesDynamic;\n\n/**\n * A dictionary of the block definitions provided by all the\n * Blockly.libraryBlocks.* modules.\n * @type {!Object<string, !BlockDefinition>}\n */\nconst blocks = Object.assign(\n    {}, colour.blocks, lists.blocks, logic.blocks, loops.blocks, math.blocks,\n    procedures.blocks, variables.blocks, variablesDynamic.blocks);\nexports.blocks = blocks;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}