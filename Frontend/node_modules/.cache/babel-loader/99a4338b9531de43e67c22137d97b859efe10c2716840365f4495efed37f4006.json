{"ast":null,"code":"var _jsxFileName = \"/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/src/components/block-search/BlockSearch.tsx\",\n  _s = $RefreshSig$();\nimport { IconButton, Popover, Typography } from '@mui/material';\nimport InputBox from '../input-output/InputBox';\nimport { useState } from 'react';\nimport { FilterAlt, SearchOutlined } from '@mui/icons-material';\nimport { CreateForm } from '../../uniform/CreateForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = {\n  type: 'object',\n  properties: {\n    maxRuntine: {\n      type: 'integer',\n      title: 'Max Runtime',\n      default: 0\n    },\n    hardwareRequirements: {\n      type: 'object',\n      properties: {\n        cpu: {\n          type: 'integer',\n          title: 'CPU',\n          default: 2\n        },\n        ram: {\n          type: 'integer',\n          title: 'RAM',\n          default: 256\n        },\n        gpu: {\n          type: 'integer',\n          title: 'GPU',\n          default: 1\n        }\n      },\n      required: []\n    }\n  },\n  required: []\n};\nexport const BlockSearch = _ref => {\n  _s();\n  let {\n    onFilter,\n    onSearch\n  } = _ref;\n  const [inputValue, setInputValue] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [model, setModel] = useState({});\n  const handleInputChange = event => {\n    setInputValue(event.target.value);\n  };\n  const handleSearch = () => {\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch(inputValue);\n  };\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const onFilterSubmit = values => {\n    onFilter === null || onFilter === void 0 ? void 0 : onFilter(values);\n    setModel(values);\n  };\n  const open = Boolean(anchorEl);\n  const id = open ? 'filter-popover' : undefined;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      /**\n       * trying to match the flyout styles\n       */\n      width: '472.69px',\n      height: '50px',\n      left: '62px',\n      top: '0px',\n      bottom: '10px',\n      background: '#f9f9f9',\n      borderLeft: '1px solid hsla(0, 0%, 0%, 0.15)',\n      borderRight: '1px solid hsla(0, 0%, 0%, 0.15)'\n    },\n    className: `\n    absolute\n    z-50\n    flex\n    flex-row\n    align-middle\n    justify-between\n    pl-5\n    pr-5\n    pt-2\n    box-border\n    overflow-hidden\n  `,\n    children: [/*#__PURE__*/_jsxDEV(InputBox, {\n      value: inputValue,\n      onChange: handleInputChange,\n      placeholder: \"Search for a puzzle piece...\",\n      className: \"flex-grow rounded-full mr-5 text-sm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleSearch,\n      children: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-describedby\": id,\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(FilterAlt, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popover, {\n      id: id,\n      open: open,\n      anchorEl: anchorEl,\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'right'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          p: 2\n        },\n        children: \"Filter Options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          paddingTop: '5px'\n        },\n        className: \"w-full h-full box-border\",\n        children: /*#__PURE__*/_jsxDEV(CreateForm, {\n          schema: schema,\n          model: model,\n          onSubmit: onFilterSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(BlockSearch, \"iMPnx8STfPRezQaPHU+iWcihC8I=\");\n_c = BlockSearch;\nvar _c;\n$RefreshReg$(_c, \"BlockSearch\");","map":{"version":3,"names":["IconButton","Popover","Typography","InputBox","useState","FilterAlt","SearchOutlined","CreateForm","jsxDEV","_jsxDEV","schema","type","properties","maxRuntine","title","default","hardwareRequirements","cpu","ram","gpu","required","BlockSearch","_ref","_s","onFilter","onSearch","inputValue","setInputValue","anchorEl","setAnchorEl","model","setModel","handleInputChange","event","target","value","handleSearch","handleClick","currentTarget","handleClose","onFilterSubmit","values","open","Boolean","id","undefined","style","width","height","left","top","bottom","background","borderLeft","borderRight","className","children","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onClose","anchorOrigin","vertical","horizontal","sx","p","padding","paddingTop","onSubmit","_c","$RefreshReg$"],"sources":["/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/src/components/block-search/BlockSearch.tsx"],"sourcesContent":["import { IconButton, Popover, Typography } from '@mui/material'\nimport InputBox from '../input-output/InputBox'\nimport { useState } from 'react'\nimport { FilterAlt, SearchOutlined } from '@mui/icons-material'\nimport { CreateForm } from '../../uniform/CreateForm'\nimport { JSONSchemaType } from 'ajv'\n\nexport interface BlocklistFilter {\n  maxRuntine: number\n  hardwareRequirements: {\n    cpu: number\n    ram: number\n    gpu: number\n  }\n}\n\nconst schema: JSONSchemaType<BlocklistFilter> = {\n  type: 'object',\n  properties: {\n    maxRuntine: {\n      type: 'integer',\n      title: 'Max Runtime',\n      default: 0,\n    },\n    hardwareRequirements: {\n      type: 'object',\n      properties: {\n        cpu: {\n          type: 'integer',\n          title: 'CPU',\n          default: 2,\n        },\n        ram: {\n          type: 'integer',\n          title: 'RAM',\n          default: 256,\n        },\n        gpu: {\n          type: 'integer',\n          title: 'GPU',\n          default: 1,\n        },\n      },\n      required: [],\n    },\n  },\n  required: [],\n}\n\ninterface BlockSearchProps {\n  onSearch?: (keywork: string) => void\n  onFilter?: (value: BlocklistFilter) => void\n}\n\nexport const BlockSearch = ({ onFilter, onSearch }: BlockSearchProps) => {\n  const [inputValue, setInputValue] = useState('')\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null)\n  const [model, setModel] = useState({})\n\n  const handleInputChange: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (\n    event,\n  ) => {\n    setInputValue(event.target.value)\n  }\n\n  const handleSearch = () => {\n    onSearch?.(inputValue)\n  }\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const onFilterSubmit = (values: unknown) => {\n    onFilter?.(values as BlocklistFilter)\n    setModel(values as BlocklistFilter)\n  }\n\n  const open = Boolean(anchorEl)\n  const id = open ? 'filter-popover' : undefined\n\n  return (\n    <div\n      style={{\n        /**\n         * trying to match the flyout styles\n         */\n        width: '472.69px',\n        height: '50px',\n        left: '62px',\n        top: '0px',\n        bottom: '10px',\n        background: '#f9f9f9',\n        borderLeft: '1px solid hsla(0, 0%, 0%, 0.15)',\n        borderRight: '1px solid hsla(0, 0%, 0%, 0.15)',\n      }}\n      className={`\n    absolute\n    z-50\n    flex\n    flex-row\n    align-middle\n    justify-between\n    pl-5\n    pr-5\n    pt-2\n    box-border\n    overflow-hidden\n  `}\n    >\n      <InputBox\n        value={inputValue}\n        onChange={handleInputChange}\n        placeholder='Search for a puzzle piece...'\n        className='flex-grow rounded-full mr-5 text-sm'\n      />\n      <IconButton onClick={handleSearch}>\n        <SearchOutlined />\n      </IconButton>\n      <IconButton aria-describedby={id} onClick={handleClick}>\n        <FilterAlt />\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <Typography sx={{ p: 2 }}>Filter Options</Typography>\n        <div style={{ padding: '20px', paddingTop: '5px' }} className='w-full h-full box-border'>\n          <CreateForm schema={schema} model={model} onSubmit={onFilterSubmit} />\n        </div>\n      </Popover>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}