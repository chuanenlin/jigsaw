{"ast":null,"code":"var _jsxFileName = \"/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/src/components/uniforms/fields/CustomAutoField.tsx\",\n  _s = $RefreshSig$();\nimport { connectField, useField } from 'uniforms';\nimport { AutoField } from 'uniforms-mui';\nimport { SliderNumberField } from './SliderNumberField';\nimport { WrapWithHelper } from '../helper-components';\nimport { SelectFileField } from './SelectFileField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst determineComponentFromProps = props => {\n  const {\n    component,\n    fieldType,\n    componentName\n  } = props;\n  if (component) {\n    return component;\n  }\n  if (fieldType === Number) {\n    return SliderNumberField;\n  }\n  if (componentName === 'file_upload') {\n    return SelectFileField;\n  }\n  return AutoField;\n};\nconst CustomAuto = props => {\n  _s();\n  var _every;\n  const {\n    dependenciesToBeVisible,\n    name\n  } = props;\n  const [fieldProps, context] = useField(name, {}, {\n    absoluteName: true\n  });\n  const dependenciesMet = (_every = dependenciesToBeVisible === null || dependenciesToBeVisible === void 0 ? void 0 : dependenciesToBeVisible.every(_ref => {\n    let {\n      field,\n      value\n    } = _ref;\n    return context.model[field] === value;\n  })) !== null && _every !== void 0 ? _every : true;\n  if (!dependenciesMet) {\n    return null;\n  }\n  const Component = determineComponentFromProps(props);\n  return props.help ? /*#__PURE__*/_jsxDEV(WrapWithHelper, {\n    helpMessage: props.help,\n    children: /*#__PURE__*/_jsxDEV(Component, {\n      ...props,\n      name: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Component, {\n    ...props,\n    name: \"\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomAuto, \"GkiyoBUc2Gi7OuIIy5ubwdiSC2I=\", false, function () {\n  return [useField];\n});\n_c = CustomAuto;\nexport const CustomAutoField = connectField(CustomAuto, {\n  initialValue: false\n});\n_c2 = CustomAutoField;\nexport const CustomAutoFieldDetector = () => {\n  return CustomAutoField;\n};\n_c3 = CustomAutoFieldDetector;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CustomAuto\");\n$RefreshReg$(_c2, \"CustomAutoField\");\n$RefreshReg$(_c3, \"CustomAutoFieldDetector\");","map":{"version":3,"names":["connectField","useField","AutoField","SliderNumberField","WrapWithHelper","SelectFileField","jsxDEV","_jsxDEV","determineComponentFromProps","props","component","fieldType","componentName","Number","CustomAuto","_s","_every","dependenciesToBeVisible","name","fieldProps","context","absoluteName","dependenciesMet","every","_ref","field","value","model","Component","help","helpMessage","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","CustomAutoField","initialValue","_c2","CustomAutoFieldDetector","_c3","$RefreshReg$"],"sources":["/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/src/components/uniforms/fields/CustomAutoField.tsx"],"sourcesContent":["import { AutoFieldProps, connectField, useField } from 'uniforms'\nimport { AutoField } from 'uniforms-mui'\nimport { SliderNumberField } from './SliderNumberField'\nimport { WrapWithHelper } from '../helper-components'\nimport { SelectFileField } from './SelectFileField'\n\ninterface FieldDependency {\n  field: string\n  value: string\n}\n\nconst determineComponentFromProps = (props: AutoFieldProps) => {\n  const { component, fieldType, componentName } = props\n\n  if (component) {\n    return component\n  }\n\n  if (fieldType === Number) {\n    return SliderNumberField\n  }\n\n  if (componentName === 'file_upload') {\n    return SelectFileField\n  }\n\n  return AutoField\n}\n\nconst CustomAuto = (props: AutoFieldProps) => {\n  const { dependenciesToBeVisible, name } = props\n  const [fieldProps, context] = useField(name, {}, { absoluteName: true })\n\n  const dependenciesMet =\n    (dependenciesToBeVisible as Array<FieldDependency>)?.every(\n      ({ field, value }) => context.model[field] === value,\n    ) ?? true\n\n  if (!dependenciesMet) {\n    return null\n  }\n\n  const Component = determineComponentFromProps(props)\n\n  return props.help ? (\n    <WrapWithHelper helpMessage={props.help as string}>\n      <Component {...props} name='' />\n    </WrapWithHelper>\n  ) : (\n    <Component {...props} name='' />\n  )\n}\n\nexport const CustomAutoField = connectField(CustomAuto, {\n  initialValue: false,\n})\n\nexport const CustomAutoFieldDetector = () => {\n  return CustomAutoField\n}\n"],"mappings":";;AAAA,SAAyBA,YAAY,EAAEC,QAAQ,QAAQ,UAAU;AACjE,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,iBAAiB,QAAQ,qBAAqB;AACvD,SAASC,cAAc,QAAQ,sBAAsB;AACrD,SAASC,eAAe,QAAQ,mBAAmB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAOnD,MAAMC,2BAA2B,GAAIC,KAAqB,IAAK;EAC7D,MAAM;IAAEC,SAAS;IAAEC,SAAS;IAAEC;EAAc,CAAC,GAAGH,KAAK;EAErD,IAAIC,SAAS,EAAE;IACb,OAAOA,SAAS;EAClB;EAEA,IAAIC,SAAS,KAAKE,MAAM,EAAE;IACxB,OAAOV,iBAAiB;EAC1B;EAEA,IAAIS,aAAa,KAAK,aAAa,EAAE;IACnC,OAAOP,eAAe;EACxB;EAEA,OAAOH,SAAS;AAClB,CAAC;AAED,MAAMY,UAAU,GAAIL,KAAqB,IAAK;EAAAM,EAAA;EAAA,IAAAC,MAAA;EAC5C,MAAM;IAAEC,uBAAuB;IAAEC;EAAK,CAAC,GAAGT,KAAK;EAC/C,MAAM,CAACU,UAAU,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAACiB,IAAI,EAAE,CAAC,CAAC,EAAE;IAAEG,YAAY,EAAE;EAAK,CAAC,CAAC;EAExE,MAAMC,eAAe,IAAAN,MAAA,GAClBC,uBAAuB,aAAvBA,uBAAuB,uBAAvBA,uBAAuB,CAA6BM,KAAK,CACxDC,IAAA;IAAA,IAAC;MAAEC,KAAK;MAAEC;IAAM,CAAC,GAAAF,IAAA;IAAA,OAAKJ,OAAO,CAACO,KAAK,CAACF,KAAK,CAAC,KAAKC,KAAK;EAAA,CACtD,CAAC,cAAAV,MAAA,cAAAA,MAAA,GAAI,IAAI;EAEX,IAAI,CAACM,eAAe,EAAE;IACpB,OAAO,IAAI;EACb;EAEA,MAAMM,SAAS,GAAGpB,2BAA2B,CAACC,KAAK,CAAC;EAEpD,OAAOA,KAAK,CAACoB,IAAI,gBACftB,OAAA,CAACH,cAAc;IAAC0B,WAAW,EAAErB,KAAK,CAACoB,IAAe;IAAAE,QAAA,eAChDxB,OAAA,CAACqB,SAAS;MAAA,GAAKnB,KAAK;MAAES,IAAI,EAAC;IAAE;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClB,CAAC,gBAEjB5B,OAAA,CAACqB,SAAS;IAAA,GAAKnB,KAAK;IAAES,IAAI,EAAC;EAAE;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAChC;AACH,CAAC;AAAApB,EAAA,CAtBKD,UAAU;EAAA,QAEgBb,QAAQ;AAAA;AAAAmC,EAAA,GAFlCtB,UAAU;AAwBhB,OAAO,MAAMuB,eAAe,GAAGrC,YAAY,CAACc,UAAU,EAAE;EACtDwB,YAAY,EAAE;AAChB,CAAC,CAAC;AAAAC,GAAA,GAFWF,eAAe;AAI5B,OAAO,MAAMG,uBAAuB,GAAGA,CAAA,KAAM;EAC3C,OAAOH,eAAe;AACxB,CAAC;AAAAI,GAAA,GAFYD,uBAAuB;AAAA,IAAAJ,EAAA,EAAAG,GAAA,EAAAE,GAAA;AAAAC,YAAA,CAAAN,EAAA;AAAAM,YAAA,CAAAH,GAAA;AAAAG,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}