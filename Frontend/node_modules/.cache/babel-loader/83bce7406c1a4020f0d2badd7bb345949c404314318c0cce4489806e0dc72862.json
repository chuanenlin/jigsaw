{"ast":null,"code":"var _jsxFileName = \"/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/src/components/Workspace.tsx\",\n  _s = $RefreshSig$();\nimport { Backdrop, Box, Button, CircularProgress, Divider, Stack, Typography } from '@mui/material';\nimport { BlocklyComponent } from './blockly/BlocklyComponent';\nimport { ParamsPanel } from './ParamsPanel';\nimport { AutoChain } from './autochain';\nimport { RunStatus, StatusSource, useWorkspaceContext } from '../context/WorkspaceContext';\nimport RunButton from './RunButton';\nimport { BlockSearch } from './block-search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Workspace = () => {\n  _s();\n  var _getSelectedBlockPara, _getSelectedBlockPara2, _getSelectedBlockPara3;\n  const {\n    workspace,\n    selectedBlocklyBlock,\n    getSelectedBlockParameters,\n    onAutoChain: autoChain,\n    workspaceStatus,\n    processBlocks,\n    setBlockFilter,\n    onBlockSearch,\n    cancelBlocksProcess\n  } = useWorkspaceContext();\n  const onAutoChain = async prompt => {\n    if (!workspace) {\n      throw new Error('Workspace is not initialized');\n    }\n    await autoChain(prompt);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" w-full h-full rounded-2xl overflow-hidden border border-solid border-neutral-300 box-border relative \",\n    children: /*#__PURE__*/_jsxDEV(Stack, {\n      className: \"w-full h-full\",\n      direction: 'row',\n      children: [/*#__PURE__*/_jsxDEV(Backdrop, {\n        className: \"bg-black bg-opacity-50\",\n        sx: {\n          color: '#fff',\n          zIndex: theme => theme.zIndex.drawer + 1\n        },\n        open: workspaceStatus.runStatus === RunStatus.LOADING,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col justify-center items-center h-full w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/3 flex flex-row justify-center overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              fontSize: 18,\n              className: \"text-ellipsis\",\n              children: workspaceStatus.message ? workspaceStatus.message : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n            className: \"p-10\",\n            color: \"inherit\",\n            value: 30\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-10\",\n            children: workspaceStatus.runStatus === RunStatus.LOADING && workspaceStatus.source === StatusSource.BLOCK_PROCESSOR && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"text\",\n              className: \"rounded-3xl w-30 text-zinc-50\",\n              onClick: cancelBlocksProcess,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          left: '528px' // This is the width of blockly's toolbox\n        },\n\n        className: \" fixed m-2 ml-10 mr-10 flex flex-row align-middle justify-between z-50 right-1/4 h-10 \",\n        children: [/*#__PURE__*/_jsxDEV(AutoChain, {\n          onSubmit: onAutoChain\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          className: \"ml-4 mr-4\",\n          orientation: \"vertical\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RunButton, {\n          onClick: processBlocks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BlocklyComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BlockSearch, {\n        onFilter: filter => {\n          setBlockFilter(filter);\n        },\n        onSearch: search => {\n          onBlockSearch(search);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: `\n          absolute\n          h-full\n          top-0\n          right-0\n          z-50\n          w-1/4\n          min-w-1/4\n          bg-neutral-100\n          bg-opacity-70\n          border-0\n          border-l\n          border-solid\n          border-neutral-300\n          ${((_getSelectedBlockPara = getSelectedBlockParameters()) === null || _getSelectedBlockPara === void 0 ? void 0 : _getSelectedBlockPara.schema) === undefined ? 'hidden' : ''}\n        `,\n        children: /*#__PURE__*/_jsxDEV(ParamsPanel, {\n          schema: (_getSelectedBlockPara2 = getSelectedBlockParameters()) === null || _getSelectedBlockPara2 === void 0 ? void 0 : _getSelectedBlockPara2.schema,\n          model: (_getSelectedBlockPara3 = getSelectedBlockParameters()) === null || _getSelectedBlockPara3 === void 0 ? void 0 : _getSelectedBlockPara3.model,\n          title: selectedBlocklyBlock === null || selectedBlocklyBlock === void 0 ? void 0 : selectedBlocklyBlock.type\n        }, selectedBlocklyBlock === null || selectedBlocklyBlock === void 0 ? void 0 : selectedBlocklyBlock.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(Workspace, \"JVBaJC6ipDk9a7Dq7RaZYkWjV08=\", false, function () {\n  return [useWorkspaceContext];\n});\n_c = Workspace;\nvar _c;\n$RefreshReg$(_c, \"Workspace\");","map":{"version":3,"names":["Backdrop","Box","Button","CircularProgress","Divider","Stack","Typography","BlocklyComponent","ParamsPanel","AutoChain","RunStatus","StatusSource","useWorkspaceContext","RunButton","BlockSearch","jsxDEV","_jsxDEV","Workspace","_s","_getSelectedBlockPara","_getSelectedBlockPara2","_getSelectedBlockPara3","workspace","selectedBlocklyBlock","getSelectedBlockParameters","onAutoChain","autoChain","workspaceStatus","processBlocks","setBlockFilter","onBlockSearch","cancelBlocksProcess","prompt","Error","className","children","direction","sx","color","zIndex","theme","drawer","open","runStatus","LOADING","fontSize","message","fileName","_jsxFileName","lineNumber","columnNumber","value","source","BLOCK_PROCESSOR","variant","onClick","style","left","onSubmit","orientation","onFilter","filter","onSearch","search","schema","undefined","model","title","type","id","_c","$RefreshReg$"],"sources":["/Users/chuanenl/MyDrive/CMU/Projects/Jigsaw/Code/Frontend/src/components/Workspace.tsx"],"sourcesContent":["import { Backdrop, Box, Button, CircularProgress, Divider, Stack, Typography } from '@mui/material'\nimport { BlocklyComponent } from './blockly/BlocklyComponent'\nimport { ParamsPanel } from './ParamsPanel'\nimport { AutoChain } from './autochain'\nimport { RunStatus, StatusSource, useWorkspaceContext } from '../context/WorkspaceContext'\nimport RunButton from './RunButton'\nimport { BlockSearch } from './block-search'\n\nexport const Workspace = () => {\n  const {\n    workspace,\n    selectedBlocklyBlock,\n    getSelectedBlockParameters,\n    onAutoChain: autoChain,\n    workspaceStatus,\n    processBlocks,\n    setBlockFilter,\n    onBlockSearch,\n    cancelBlocksProcess,\n  } = useWorkspaceContext()\n\n  const onAutoChain = async (prompt: string) => {\n    if (!workspace) {\n      throw new Error('Workspace is not initialized')\n    }\n\n    await autoChain(prompt)\n  }\n\n  return (\n    <div\n      className='\n      w-full\n      h-full\n      rounded-2xl\n      overflow-hidden\n      border\n      border-solid\n      border-neutral-300\n      box-border\n      relative\n    '\n    >\n      <Stack className='w-full h-full' direction={'row'}>\n        <Backdrop\n          className='bg-black bg-opacity-50'\n          sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\n          open={workspaceStatus.runStatus === RunStatus.LOADING}\n        >\n          <div className='flex flex-col justify-center items-center h-full w-full'>\n            <div className='w-1/3 flex flex-row justify-center overflow-hidden'>\n              <Typography fontSize={18} className='text-ellipsis'>\n                {workspaceStatus.message ? workspaceStatus.message : ''}\n              </Typography>\n            </div>\n            <CircularProgress className='p-10' color='inherit' value={30} />\n            <div className='pt-10'>\n              {workspaceStatus.runStatus === RunStatus.LOADING &&\n                workspaceStatus.source === StatusSource.BLOCK_PROCESSOR && (\n                  <Button\n                    variant='text'\n                    className='rounded-3xl w-30 text-zinc-50'\n                    onClick={cancelBlocksProcess}\n                  >\n                    Cancel\n                  </Button>\n                )}\n            </div>\n          </div>\n        </Backdrop>\n        <div\n          style={{\n            left: '528px', // This is the width of blockly's toolbox\n          }}\n          className='\n            fixed\n            m-2\n            ml-10\n            mr-10\n            flex\n            flex-row\n            align-middle\n            justify-between\n            z-50\n            right-1/4\n            h-10\n          '\n        >\n          <AutoChain onSubmit={onAutoChain} />\n          <Divider className='ml-4 mr-4' orientation='vertical' />\n          <RunButton onClick={processBlocks} />\n        </div>\n        <BlocklyComponent />\n        <BlockSearch\n          onFilter={(filter) => {\n            setBlockFilter(filter)\n          }}\n          onSearch={(search) => {\n            onBlockSearch(search)\n          }}\n        />\n        <Box\n          className={`\n          absolute\n          h-full\n          top-0\n          right-0\n          z-50\n          w-1/4\n          min-w-1/4\n          bg-neutral-100\n          bg-opacity-70\n          border-0\n          border-l\n          border-solid\n          border-neutral-300\n          ${getSelectedBlockParameters()?.schema === undefined ? 'hidden' : ''}\n        `}\n        >\n          <ParamsPanel\n            key={selectedBlocklyBlock?.id}\n            schema={getSelectedBlockParameters()?.schema}\n            model={getSelectedBlockParameters()?.model}\n            title={selectedBlocklyBlock?.type}\n          />\n        </Box>\n      </Stack>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}